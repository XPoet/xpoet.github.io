<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"><meta name="keywords" content="XPoet"><meta name="description" content="XPoet&#39;s Blog"><meta name="author" content="XPoet"><title>å¸¸è€ƒçš„ JavaScript æ‰‹å†™é¢˜ | XPoet&#39;s Blog</title><link rel="stylesheet" href="/css/style.css"><link rel="shortcut icon" href="/images/avatar.png"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/hexo-theme-keep/4.2.5/font/css/fontawesome.min.css"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/hexo-theme-keep/4.2.5/font/css/regular.min.css"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/hexo-theme-keep/4.2.5/font/css/solid.min.css"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/hexo-theme-keep/4.2.5/font/css/brands.min.css"><link rel="stylesheet" href="/css/custom.css"><script class="keep-theme-configurations">const KEEP=window.KEEP||{};KEEP.hexo_config={hostname:"xpoet.cn",root:"/",language:"en",path:"search.json"},KEEP.theme_config={base_info:{primary_color:"#0066cc",title:"XPoet's Blog",author:"XPoet",avatar:"/images/avatar.png",logo:"/images/avatar.png",favicon:"/images/avatar.png"},menu:{home:"/",archives:"/archives",tags:"/tags",me:{children:[{about:"/about || fa-solid fa-user-graduate"},{links:"/links || fa-solid fa-link"},{tools:"/tools || fa-solid fa-tools"}]}},first_screen:{enable:!0,background_img:"/images/bg.svg",background_img_dark:"/images/bg2.svg",description:"é»„è‰²çš„æ£®æ—åˆ†å‡ºä¸¤æ¡è·¯ï¼Œæˆ‘é€‰æ‹©äººè¿¹æ›´å°‘çš„é‚£ä¸€æ¡ï¼Œä»æ­¤å†³å®šæˆ‘ä¸€ç”Ÿçš„é“è·¯ã€‚",hitokoto:!1},social_contact:{enable:!0,links:{github:"https://github.com/XPoet",weixin:"img | /images/fp/fp-qrcode.webp",qq:null,weibo:null,zhihu:null,twitter:null,x:null,facebook:null,email:"i@xpoet.cn"}},scroll:{progress_bar:!1,percent:!0,hide_header:!0},home:{announcement:null,category:!0,tag:!0,post_datetime:"updated"},post:{author_badge:{enable:!0,level_badge:!1,custom_badge:"è‡ªç”±ç¨‹åºçŒ¿"},word_count:{wordcount:!0,min2read:!0},datetime_format:"YYYY-MM-DD HH:mm:ss",copyright_info:!0,share:!0,reward:{enable:!0,img_link:"/images/admire-code.png",text:null}},code_block:{tools:{enable:!0,style:"default"},highlight_theme:"default"},toc:{enable:!0,number:!0,expand_all:!0,init_open:!0,layout:"right"},website_count:{busuanzi_count:{enable:!0,site_uv:!0,site_pv:!0,page_pv:!0}},local_search:{enable:!0,preload:!0},comment:{enable:!0,use:"waline",valine:{appid:"ih2nzG3ilVNdLgJK4kBXTjOq-gzGzoHsz",appkey:"gdf6tXXLBTLg9qpjS2y6Tbw7",server_urls:null,placeholder:"åæ§½ä¸€ä¸‹..."},gitalk:{github_id:null,github_admins:null,repository:null,client_id:null,client_secret:null,proxy:null},twikoo:{env_id:null,region:null,version:"1.6.36"},waline:{server_url:"https://vercel-waline.xpoet.cn",reaction:!0,version:"3.2.1"},giscus:{repo:"XPoet/xpoet.github.io",repo_id:"MDEwOlJlcG9zaXRvcnkzMjk0NzQ2NzM=",category:"Announcements",category_id:"DIC_kwDOE6Nicc4CZnkm",reactions_enabled:!0},artalk:{server:null},disqus:{shortname:null}},rss:{enable:!0},lazyload:{enable:!0},cdn:{enable:!0,provider:"cdnjs"},pjax:{enable:!0},footer:{since:2020,word_count:!1,site_deploy:{enable:!0,provider:"github",url:"https://github.com/xpoet/xpoet.github.io"},record:{enable:!1,list:[{code:null,link:null}]}},inject:{enable:!0,css:["/css/custom.css"],js:[null]},root:"",source_data:{links:[{title:"å®è—åšä¸»ä»¬"},{name:"ä¸çŸ¥åè‰ºæœ¯å®¶",link:"https://jinzhanqi.com/",description:"love artist, love code.",avatar:"https://s3.ax1x.com/2020/11/17/DVvkB4.jpg"},{name:"çˆ±Â·ç»®æ¢¦",link:"https://x.iqimeng.com/",description:"å­¦è€Œæ—¶ä¹ ä¹‹ ä¸äº¦è¯´ä¹",avatar:"https://x.iqimeng.com/images/avatar.jpg"},{name:"Keep learning",link:"https://blog.gooday.press",description:"çˆ±å¥½å­¦ä¹ ï¼Œä¸æ–­æå‡è‡ªæˆ‘",avatar:"https://cdn.statically.io/gh/cemonliu/blogpic@main/avatar.svg"},{name:"CitingNutria",link:"https://citingnutria.github.io/",description:"ã¾ã å¤¢ãŒã‚ã‚‹",avatar:"https://cdn.statically.io/gh/CitingNutria/image_hosting@master/avatar.jpg"},{name:"Xcbyao",link:"https://xcbyao.github.io/",description:"è¦ä¹ˆåº¸ä¿—ï¼Œè¦ä¹ˆå­¤ç‹¬ï¼",avatar:"https://xcbyao.github.io/images/avatar.png"},{name:"Ycr's Blog",link:"https://www.ycr10.cn/",description:"å–œæ¬¢ä½ çš„äººä¸€ç›´æœ‰ç©ºï¼Œä»€ä¹ˆéƒ½æ‡‚ï¼Œæ— æ‰€ä¸èƒ½ã€‚",avatar:"https://www.ycr10.cn/wp-content/uploads/2022/02/cropped-Ycr_logo.jpg"},{name:"å°é¾™çš„è·‹æ¶‰",link:"https://www.eduorg.ltd/",description:"ä½†è¡Œå¥½äº‹ï¼Œè«é—®å‰ç¨‹",avatar:"https://cdn.statically.io/gh/Xiaolong00/raines-photo@master/blog/favicon.42reb4izcgs0.png"},{name:"recovxy",link:"https://naiv.xyz/",description:"åœ¨äººç”Ÿçš„ä¸­é€”ï¼Œæˆ‘å‘ç°æˆ‘å·²ç»è¿·å¤±äº†æ­£è·¯ï¼Œèµ°è¿›äº†ä¸€åº§å¹½æš—æ£®æ—Â·Â·Â·Â·Â·Â·",avatar:"https://naiv.xyz/assets/blogImg/logo.jpg"},{name:"KAI'S NOTE",link:"https://kainote.top/",description:"ä¸‰å¤©æ‰“é±¼ (âŠ™ËâŠ™) ä¸¤å¤©æ™’ç½‘",avatar:"https://s2.loli.net/2022/01/09/UtbhxHv2IA8jqwZ.jpg"},{name:"xustudyxu",link:"https://frxcat.fun/",description:"ä¸€èµ·å­¦ä¹ ç¼–ç¨‹ï¼",avatar:"https://cdn.statically.io/gh/xustudyxu/image-hosting@master/20220627/mmexport1656324824543.124zxwkqyzlc.webp"},{name:"CalvinHaynes çš„åšå®¢",link:"https://blog.calvinhaynes.top/",description:"æ…¢æ…¢èµ°æ‰ä¼šå¿«",avatar:"https://cdn.statically.io/gh/CalvinHaynes/ImageHub@main/Icon/avatar.jpg"},{name:"ä¸€åº§æµ®å²›",link:"https://anlondon.cn/",description:"ğŸ¤ªæˆ‘çš„å°ç«™ğŸ¤ª",avatar:"https://anlondon.cn/images/logo_my.png"},{name:"æœ‰æ„æ ½èŠ±èŠ±æ»¡æ",link:"https://blog.hjroyal.top",description:"å¿ƒä¸­æœ‰å…‰ã€ç‚¹äº®ç”Ÿæ´»",avatar:"https://blog.hjroyal.top/img/profile.webp"},{name:"è£ 6 çš„åšå®¢",link:"http://rong6.cn/",description:"é’»ç ”ä¿¡æ¯æŠ€æœ¯çš„å±‘",avatar:"https://img2.huashi6.com/images/resource/u275992/2021/08/04/108889_59388969493.jpg?imageMogr2/quality/75/interlace/1/thumbnail/x1400/gravity/Center/crop/1400x1400/format/webp"},{name:"ç¨‹åºå‘˜å°æ˜",link:"https://mynamecoder.com",description:"ä¸€ä¸ªå¾ˆå°‘åŠ ç­çš„ç¨‹åºå‘˜",avatar:"https://mynamecoder.com/images/avatar.png"},{name:"å€šæ å¬é£",link:"https://iweek.eu.org/",description:"åå…«çº¿è¿ç»´çš„å·¥ä½œç¬”è®°ã€‚",avatar:"https://s1.vika.cn/space/2023/02/17/0c1c4a6b023b42f38aaf39d480206e26"},{name:"Ssk-wh`s Blog",link:"https://ssk-wh.github.io",avatar:"https://ssk-wh.github.io/images/logo.svg",description:"å‡å¦‚èµ°è¿äº†å‘¢"},{name:"XTZYJ ã®æŠ€æœ¯å°å±‹",link:"https://xtzyj.top/",description:"åŠæ³•æ€»æ¯”å›°éš¾å¤šã€‚",avatar:"https://xtzyj.top/favicon.ico"},{name:"ç¯ç«çš„åšå®¢",link:"https://blog.juniverse.top/",description:"ä¸è¦æ‡’æƒ°",avatar:"https://blog.juniverse.top/images/lights-logo.jpg"},{name:"ç»¯é çš„åšå®¢",link:"https://loli.fj.cn",description:"ä¸€åªçˆ±æŠ˜è…¾çš„ç»¯é ",avatar:"https://loli.fj.cn/dist/images/avatar.gif"}],icons:{"ç¨€åœŸæ˜é‡‘":{svg:'<svg t="1717059555650" class="icon" viewBox="0 0 1316 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2653" width="16" height="16"><path d="M643.181714 247.698286l154.916572-123.172572L643.181714 0.256 643.072 0l-154.660571 124.269714 154.660571 123.245715 0.109714 0.182857z m0 388.461714h0.109715l399.579428-315.245714-108.361143-87.04-291.218285 229.888h-0.146286l-0.109714 0.146285L351.817143 234.093714l-108.251429 87.04 399.433143 315.136 0.146286-0.146285z m-0.146285 215.552l0.146285-0.146286 534.893715-422.034285 108.397714 87.04-243.309714 192L643.145143 1024 10.422857 525.056 0 516.754286l108.251429-86.893715L643.035429 851.748571z" fill="#1E80FF" p-id="2654"></path></svg>',link:"https://juejin.cn/user/2700056291193374"}},tools:[{category:"AIGC",anchorId:"QUlHQw0"},{name:"ChatGPT",link:"https://chat.openai.com/",description:"OpenAI æ——ä¸‹ AI èŠå¤©å¯¹è¯å·¥å…·",image:"/images/tools/chatgpt.svg"},{name:"Gemini",link:"https://gemini.google.com/app",description:"Google æ——ä¸‹ AI èŠå¤©å¯¹è¯å·¥å…·",image:"/images/tools/gemini.svg"},{name:"Kimi",link:"https://kimi.moonshot.cn/",description:"å¸®ä½ çœ‹æ›´å¤§çš„ä¸–ç•Œ",image:"/images/tools/kimi.svg"},{name:"Copilot",link:"https://copilot.microsoft.com/",description:"å¾®è½¯æ——ä¸‹çš„æ—¥å¸¸ AI åŠ©æ‰‹",image:"/images/tools/copilot.png"},{name:"æ–‡å¿ƒä¸€è¨€",link:"https://yiyan.baidu.com/",description:"ç™¾åº¦æ——ä¸‹ AI èŠå¤©å¯¹è¯å·¥å…·",image:"/images/tools/wenxinyiyan.png"},{name:"é€šä¹‰åƒé—®",link:"https://tongyi.aliyun.com/qianwen/",description:"é˜¿é‡Œå·´å·´æ——ä¸‹ AI èŠå¤©å¯¹è¯å·¥å…·",image:"/images/tools/tongyiqianwen.svg"},{name:"è®¯é£æ˜Ÿç«",link:"https://xinghuo.xfyun.cn/",description:"ç§‘å¤§è®¯é£æ˜Ÿç«è®¤çŸ¥ AI å¤§æ¨¡å‹",image:"/images/tools/xinghuo.svg"},{name:"Midjourney",link:"https://www.midjourney.com/",description:"AI å›¾åƒå’Œæ’ç”»ç”Ÿæˆå·¥å…·",image:"/images/tools/midjourney.png"},{name:"Adobe Firefly",link:"https://firefly.adobe.com/",description:"Adobe æ¨å‡ºçš„ AI å›¾åƒç”Ÿæˆå’Œç¼–è¾‘å·¥å…·",image:"/images/tools/adobe-firefly.svg"},{name:"Stable Diffusion",link:"https://stability.ai/",description:"æœ€å¼ºå¼€æº AI ç»˜ç”»å·¥å…·",image:"/images/tools/stability.png"},{name:"Microsoft Designer",link:"https://designer.microsoft.com/home",description:"å¾®è½¯æ¨å‡ºçš„åœ¨çº¿è®¾è®¡æµ·æŠ¥å’Œå®£ä¼ å›¾å·¥å…·",image:"/images/tools/microsoft-designer.svg"},{name:"æ–‡å¿ƒä¸€æ ¼",link:"https://yige.baidu.com/",description:"ç™¾åº¦å‡ºå“çš„ AI ç»˜ç”»å·¥å…·",image:"/images/tools/wenxinyiyan.png"},{name:"AI Bot",link:"https://juejin.cn/bots",description:"ç¨€åœŸæ˜é‡‘ AI Bot å·¥å…·é›†åˆ",image:null},{category:"æŠ€æœ¯ç¤¾åŒº",anchorId:"JUU2JThBJTgwJUU2JTlDJUFGJUU3JUE0JUJFJUU1JThDJUJB14"},{name:"ç¨€åœŸæ˜é‡‘",link:"https://juejin.cn/",description:"ä¸€ä¸ªå¸®åŠ©å¼€å‘è€…æˆé•¿çš„ç¤¾åŒº",image:"/images/tools/juejin.svg"},{name:"V2EX",link:"https://www.v2ex.com/",description:"åˆ›æ„å·¥ä½œè€…ä»¬çš„ç¤¾åŒº",image:"/images/tools/v2ex.png"},{name:"æ€å¦",link:"https://segmentfault.com/",description:"ä¸­å›½é¢†å…ˆçš„å¼€å‘è€…æŠ€æœ¯ç¤¾åŒº",image:"/images/tools/segmentfault.svg"},{name:"åšå®¢å›­",link:"https://www.cnblogs.com/",description:"å¼€å‘è€…çš„ç½‘ä¸Šå®¶å›­",image:"/images/tools/cnblogs.png"},{name:"W2Solo",link:"https://w2solo.com/",description:"ä¸­æ–‡ç‹¬ç«‹å¼€å‘è€…ç¤¾åŒº",image:null},{name:"ç”µé¸­ç¤¾åŒº",link:"https://eleduck.com/",description:"ä¸“æ³¨è¿œç¨‹å·¥ä½œæ‹›è˜äº¤æµ",image:"/images/tools/dianyashequ.png"},{name:"StackOverflow",link:"https://stackoverflow.com/",description:"å…¨çƒæœ€å¤§çš„æŠ€æœ¯é—®ç­”ç¤¾åŒº",image:"/images/tools/stackoverflow.png"},{name:"å¼€æºä¸­å›½",link:"https://www.oschina.net/",description:"ç›®å‰å›½å†…æœ€å¤§çš„å¼€æºæŠ€æœ¯ç¤¾åŒº",image:"/images/tools/oschina.webp"},{name:"InfoQ",link:"https://www.infoq.cn/",description:"ä¸€ä¸ªå®è·µé©±åŠ¨çš„æŠ€æœ¯ç¤¾åŒºèµ„è®¯ç«™ç‚¹",image:"/images/tools/infoq.png"},{name:"51CTO",link:"https://www.51cto.com/",description:"ä¸­å›½é¢†å…ˆçš„ IT æŠ€æœ¯ç½‘ç«™",image:"/images/tools/51cto.webp"},{name:"CSDN",link:"https://www.csdn.net/",description:"ä¸­æ–‡æœ€å¤§çš„æŠ€æœ¯ç¤¾åŒº",image:"/images/tools/csdn.png"},{category:"éƒ¨ç½²æ‰˜ç®¡",anchorId:"JUU5JTgzJUE4JUU3JUJEJUIyJUU2JTg5JTk4JUU3JUFFJUEx26"},{name:"GitHub Pages",link:"https://pages.github.com/",description:"é€šè¿‡ GitHub æ‰˜ç®¡å’Œå‘å¸ƒçš„å…¬å…±ç½‘é¡µ",image:"/images/tools/github.svg"},{name:"Vercel",link:"https://vercel.com/",description:"Vercel's Frontend Cloud provides the developer experience and infrastructure to build, scale, and secure a faster, more personalized web.",image:"/images/tools/vercel.svg"},{name:"Cloudflare Pages",link:"https://developers.cloudflare.com/pages/",description:"Create full-stack applications that are instantly deployed to the Cloudflare global network.",image:"/images/tools/cloudflare.svg"},{name:"Netlify",link:"https://www.netlify.com/",description:"Netlify is the essential platform for the delivery of exceptional and dynamic web experiences, without limitations.",image:"/images/tools/netlify.svg"},{name:"Railway",link:"https://railway.app/",description:"Railway is the cloud for building, shipping, and monitoring applications.",image:"/images/tools/railway.svg"},{name:"Zeabur",link:"https://zeabur.com",description:"Say goodbye to deployment hassles. With Zeabur, bring your coding genius to life swiftly and smoothly.",image:"/images/tools/zeabur.png"}]},version:"4.2.5"},KEEP.language_ago={second:"%s seconds ago",minute:"%s minutes ago",hour:"%s hours ago",day:"%s days ago",week:"%s weeks ago",month:"%s months ago",year:"%s years ago"},KEEP.language_code_block={copy:"Copy code",copied:"Copied",fold:"Fold code block",folded:"Folded"},KEEP.language_copy_copyright={copy:"Copy copyright info",copied:"Copied",title:"Original post title",author:"Original post author",link:"Original post link"}</script><meta name="generator" content="Hexo 6.3.0"><link rel="alternate" href="/atom.xml" title="XPoet's Blog" type="application/atom+xml">
</head><body><div class="progress-bar-container"><span class="pjax-progress-bar"></span> <i class="pjax-progress-icon fas fa-circle-notch fa-spin"></i></div><main class="page-container border-box"><div class="page-main-content border-box"><div class="page-main-content-top"><header class="header-wrapper"><div class="border-box header-content"><div class="left flex-start border-box"><a class="logo-image border-box" href="/"><img src="/images/avatar.png"> </a><a class="site-name border-box" href="/">XPoet&#39;s Blog</a></div><div class="right border-box"><div class="pc border-box"><ul class="menu-list border-box"><li class="menu-item flex-start border-box"><a class="menu-text-color border-box" href="/">HOME</a></li><li class="menu-item flex-start border-box"><a class="menu-text-color border-box" href="/archives">ARCHIVES</a></li><li class="menu-item flex-start border-box"><a class="menu-text-color border-box" href="/tags">TAGS</a></li><li class="menu-item flex-start border-box has-sub-menu"><a class="menu-text-color border-box" href="javascript:void(0);">ME <i class="menu-text-color collapse-icon fa-solid fa-angle-down"></i></a><ul class="sub-menu-list border-box"><li class="sub-menu-item border-box"><a class="menu-text-color border-box flex-start" href="/about"><i class="menu-text-color sub-menu-icon fa-solid fa-user-graduate"></i> ABOUT</a></li><li class="sub-menu-item border-box"><a class="menu-text-color border-box flex-start" href="/links"><i class="menu-text-color sub-menu-icon fa-solid fa-link"></i> LINKS</a></li><li class="sub-menu-item border-box"><a class="menu-text-color border-box flex-start" href="/tools"><i class="menu-text-color sub-menu-icon fa-solid fa-tools"></i> TOOLS</a></li></ul></li><li class="menu-item search search-popup-trigger"><i class="menu-text-color fas search fa-search"></i></li></ul></div><div class="mobile border-box flex-start"><div class="icon-item search search-popup-trigger"><i class="fas fa-search"></i></div><div class="icon-item menu-bar"><div class="menu-bar-middle"></div></div></div></div></div><div class="header-drawer"><ul class="drawer-menu-list border-box"><li class="drawer-menu-item border-box not-sub-menu"><label class="drawer-menu-label border-box"><a class="drawer-menu-text-color left-side flex-start border-box" href="/">HOME</a></label></li><li class="drawer-menu-item border-box not-sub-menu"><label class="drawer-menu-label border-box"><a class="drawer-menu-text-color left-side flex-start border-box" href="/archives">ARCHIVES</a></label></li><li class="drawer-menu-item border-box not-sub-menu"><label class="drawer-menu-label border-box"><a class="drawer-menu-text-color left-side flex-start border-box" href="/tags">TAGS</a></label></li><li class="drawer-menu-item border-box has-sub-menu"><label class="drawer-menu-label border-box"><a class="drawer-menu-text-color left-side flex-start border-box" href="javascript:void(0);">ME </a><i class="right-side collapse-icon fa-solid fa-angle-left"></i></label><ul class="drawer-sub-menu-list border-box"><li class="sub-menu-item border-box"><a class="drawer-menu-text-color border-box flex-start" href="/about"><span class="sub-menu-icon-wrap border-box flex-center"><i class="drawer-menu-text-color sub-menu-icon fa-solid fa-user-graduate"></i> </span>ABOUT</a></li><li class="sub-menu-item border-box"><a class="drawer-menu-text-color border-box flex-start" href="/links"><span class="sub-menu-icon-wrap border-box flex-center"><i class="drawer-menu-text-color sub-menu-icon fa-solid fa-link"></i> </span>LINKS</a></li><li class="sub-menu-item border-box"><a class="drawer-menu-text-color border-box flex-start" href="/tools"><span class="sub-menu-icon-wrap border-box flex-center"><i class="drawer-menu-text-color sub-menu-icon fa-solid fa-tools"></i> </span>TOOLS</a></li></ul></li></ul></div><div class="window-mask"></div></header></div><div class="page-main-content-middle border-box"><div class="main-content border-box"><div class="fade-in-down-animation"><div class="post-page-container border-box"><div class="post-content-container border-box"><div class="post-content-bottom border-box"><div class="post-title">å¸¸è€ƒçš„ JavaScript æ‰‹å†™é¢˜</div><div class="post-header border-box"><div class="avatar-box border-box"><img src="/images/avatar.png"></div><div class="info-box"><div class="author border-box"><span class="name">XPoet</span> <span class="author-badge">è‡ªç”±ç¨‹åºçŒ¿</span></div><div class="meta-info border-box"><div class="post-meta-info-container border-box post"><div class="post-meta-info border-box"><span class="meta-info-item post-create-date"><i class="icon fa-solid fa-calendar-plus"></i>&nbsp; <span class="datetime">2022-01-06 20:59:55</span> </span><span class="meta-info-item post-update-date"><i class="icon fa-solid fa-file-pen"></i>&nbsp; <span class="datetime" data-updated="Mon Mar 25 2024 08:31:07 GMT+0000">2024-03-25 16:31:07</span> </span><span class="meta-info-item post-category border-box"><i class="icon fas fa-folder"></i>&nbsp;<ul class="post-category-ul"><li class="category-item"><a href="/categories/%E5%89%8D%E7%AB%AF/">å‰ç«¯</a></li></ul></span><span class="post-tag meta-info-item border-box"><ul class="post-tag-ul"><li class="tag-item"><span class="tag-separator"><i class="icon fas fa-hashtag"></i></span><a href="/tags/JavaScript/">JavaScript</a></li></ul></span><span class="meta-info-item post-wordcount"><i class="icon fas fa-file-word"></i>&nbsp;<span>4.3k Words</span> </span><span class="meta-info-item post-min2read"><i class="icon fas fa-clock"></i>&nbsp;<span>19 Mins</span> </span><span class="meta-info-item post-pv"><i class="icon fas fa-eye"></i>&nbsp;<span id="busuanzi_value_page_pv"></span></span></div></div></div></div></div><div class="post-content keep-markdown-body"><p>ç°åœ¨çš„å‰ç«¯æ‹›è˜åœˆï¼Œå¯¹å‰ç«¯ç¨‹åºå‘˜çš„èƒ½åŠ›è¦æ±‚çœŸçš„æ˜¯è¶Šæ¥è¶Šé«˜äº†ï¼ˆ<del>å†…å·çœŸçš„å¤ªå‰å®³äº†</del>ï¼‰ï¼Œå‡ºå»æ‰¾å·¥ä½œé¢è¯•ï¼Œå“ªæ€•æ˜¯å®¶å°å…¬å¸ï¼Œå¤§æ¦‚ç‡éƒ½ä¼šè€ƒä¸€äº› JS æ‰‹å†™é¢˜ï¼Œä½ ä¸ä¼šä½†åˆ«äººä¼šï¼Œè‡ªç„¶å°±è¢«å·æ­»äº†ã€‚</p><p>å…¶å®ï¼Œå¯¹ä¸€ä¸ªå‰ç«¯å·¥ç¨‹å¸ˆæ¥è¯´ï¼ŒJS æœ¬å°±é‡ä¸­ä¹‹é‡ï¼Œæˆ‘ä»¬è¦æŒæ¡çš„å¯ä¸ä»…ä»…æ˜¯è¿™äº›æ‰‹å†™é¢˜ã€‚</p><p>å½“ç„¶ï¼Œä½ ä¸ä¼šè¿™äº›æ‰‹å†™é¢˜ä¹Ÿä¸èƒ½ä»£è¡¨ä½ çš„ JS ç¼–ç¨‹èƒ½åŠ›ä¸å¥½ï¼Œæˆ‘è§‰å¾—é‚£æ˜¯å› ä¸ºä½ ä¸ç†Ÿæ‚‰è€Œå·²ã€‚</p><span id="more"></span><p>ç°åœ¨å°±è·Ÿç€ä½œè€…æ¥ä¸€æ­¥ä¸€æ­¥å­¦ä¹ ï¼Œå½»åº•ææ‡‚è¿™äº›å¸¸è€ƒçš„ JS æ‰‹å†™é¢˜ï¼Œæ— è®ºæ˜¯åœ¨ä¸šåŠ¡å¼€å‘è¿˜æ˜¯æ±‚èŒé¢è¯•ä¸­éƒ½å¾ˆå®ç”¨ã€‚</p><p><img lazyload alt="image" data-src="https://cdn.statically.io/gh/XPoet/image-hosting@master/JS-%E6%89%8B%E5%86%99%E9%A2%98/image.79wc6n86vxw0.webp" alt="image"></p><p>æˆªæ­¢ç›®å‰ï¼Œå¸‚é¢ä¸Šè¶…è¿‡ 98% çš„æµè§ˆå™¨æ”¯æŒ ES6ï¼ŒES6 (ECMAScript 2015) éƒ½å·²ç»æ˜¯ 2015 å¹´çš„æ ‡å‡†äº†ï¼Œæ‰€ä»¥è¿™äº›æ‰‹å†™é¢˜é‡Œé¢èƒ½ä½¿ç”¨ ES6 å®ç°çš„å‡é‡‡ç”¨ ES6 å®ç°ã€‚ä»¥ä¸‹çš„æ¯ä¸€é“æ‰‹å†™é¢˜ï¼Œéƒ½ç»è¿‡ä½œè€…åå¤æ£€éªŒï¼Œä¹Ÿé…å¤‡äº†æµ‹è¯•ä»£ç ï¼Œå°ä¼™ä¼´æ”¾å¿ƒå¤§èƒ†å­¦èµ·æ¥ã€‚</p><p>å¦‚å‘ç°é”™è¯¯æˆ–è€…æœ‰æ›´å¥½çš„å®ç°æ–¹å¼ï¼Œæ¬¢è¿å¤§å®¶æŒ‡æ­£ã€‚</p><blockquote><p>ä»£ç ä»“åº“ï¼š<a class="link" target="_blank" rel="noopener" href="https://github.com/XPoet/handwriting-js">https://github.com/XPoet/handwriting-js<i class="fas fa-external-link-alt"></i></a></p></blockquote><h3 id="æ‰‹å†™ç±»å‹åˆ¤æ–­"><a href="#æ‰‹å†™ç±»å‹åˆ¤æ–­" class="headerlink" title="æ‰‹å†™ç±»å‹åˆ¤æ–­"></a>æ‰‹å†™ç±»å‹åˆ¤æ–­</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="title function_">myTypeOf</span> = (<span class="params">data</span>) =&gt; <span class="title class_">Object</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">toString</span>.<span class="title function_">call</span>(data).<span class="title function_">slice</span>(<span class="number">8</span>, -<span class="number">1</span>).<span class="title function_">toLowerCase</span>()</span><br><span class="line"></span><br><span class="line"><span class="comment">// æµ‹è¯•</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">myTypeOf</span>(<span class="number">1</span>)) <span class="comment">//--&gt; number</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">myTypeOf</span>(<span class="string">&#x27;1&#x27;</span>)) <span class="comment">//--&gt; string</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">myTypeOf</span>(<span class="literal">true</span>)) <span class="comment">//--&gt; boolean</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">myTypeOf</span>([])) <span class="comment">//--&gt; array</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">myTypeOf</span>(&#123;&#125;)) <span class="comment">//--&gt; object</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">myTypeOf</span>(<span class="regexp">/^/</span>)) <span class="comment">//--&gt; regexp</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">myTypeOf</span>(<span class="keyword">new</span> <span class="title class_">Date</span>())) <span class="comment">//--&gt; date</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">myTypeOf</span>(<span class="title class_">Math</span>)) <span class="comment">//--&gt; math</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">myTypeOf</span>(<span class="function">() =&gt;</span> &#123;&#125;)) <span class="comment">//--&gt; function</span></span><br></pre></td></tr></table></figure><h3 id="æ‰‹å†™æ•°ç»„å»é‡"><a href="#æ‰‹å†™æ•°ç»„å»é‡" class="headerlink" title="æ‰‹å†™æ•°ç»„å»é‡"></a>æ‰‹å†™æ•°ç»„å»é‡</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="title function_">myUnique</span> = array =&gt; [...<span class="keyword">new</span> <span class="title class_">Set</span>(array)]</span><br><span class="line"></span><br><span class="line"><span class="comment">// æµ‹è¯•</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">myUnique</span>([<span class="number">1</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>])) <span class="comment">//--&gt; [1, 2, 3]</span></span><br></pre></td></tr></table></figure><h3 id="æ‰‹å†™-Ajax-çš„-GET-æ–¹æ³•"><a href="#æ‰‹å†™-Ajax-çš„-GET-æ–¹æ³•" class="headerlink" title="æ‰‹å†™ Ajax çš„ GET æ–¹æ³•"></a>æ‰‹å†™ Ajax çš„ GET æ–¹æ³•</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">myAjaxGet</span>(<span class="params">url</span>) &#123;</span><br><span class="line">  <span class="comment">// åˆ›å»ºä¸€ä¸ª Promise å¯¹è±¡</span></span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="keyword">function</span>(<span class="params">resolve, reject</span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> xhr = <span class="keyword">new</span> <span class="title class_">XMLHttpRequest</span>()</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æ–°å»ºä¸€ä¸ª http è¯·æ±‚</span></span><br><span class="line">    xhr.<span class="title function_">open</span>(<span class="string">&#x27;GET&#x27;</span>, url, <span class="literal">true</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment">// è®¾ç½®å“åº”çš„æ•°æ®ç±»å‹</span></span><br><span class="line">    xhr.<span class="property">responseType</span> = <span class="string">&#x27;json&#x27;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// è®¾ç½®è¯·æ±‚å¤´ä¿¡æ¯</span></span><br><span class="line">    xhr.<span class="title function_">setRequestHeader</span>(<span class="string">&#x27;Accept&#x27;</span>, <span class="string">&#x27;application/json&#x27;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment">// è®¾ç½®çŠ¶æ€çš„ç›‘å¬å‡½æ•°</span></span><br><span class="line">    xhr.<span class="property">onreadystatechange</span> = <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">      <span class="keyword">if</span> (<span class="variable language_">this</span>.<span class="property">readyState</span> !== <span class="number">4</span>) <span class="keyword">return</span></span><br><span class="line"></span><br><span class="line">      <span class="comment">// å½“è¯·æ±‚æˆåŠŸæˆ–å¤±è´¥æ—¶ï¼Œæ”¹å˜ Promise çš„çŠ¶æ€</span></span><br><span class="line">      <span class="keyword">if</span> (<span class="variable language_">this</span>.<span class="property">status</span> === <span class="number">200</span>) &#123;</span><br><span class="line">        <span class="title function_">resolve</span>(<span class="variable language_">this</span>.<span class="property">response</span>)</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="title function_">reject</span>(<span class="keyword">new</span> <span class="title class_">Error</span>(<span class="variable language_">this</span>.<span class="property">statusText</span>))</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// è®¾ç½®é”™è¯¯ç›‘å¬å‡½æ•°</span></span><br><span class="line">    xhr.<span class="property">onerror</span> = <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">      <span class="title function_">reject</span>(<span class="keyword">new</span> <span class="title class_">Error</span>(<span class="variable language_">this</span>.<span class="property">statusText</span>))</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å‘é€ http è¯·æ±‚</span></span><br><span class="line">    xhr.<span class="title function_">send</span>(<span class="literal">null</span>)</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æµ‹è¯•</span></span><br><span class="line"><span class="title function_">myAjaxGet</span>(<span class="string">&#x27;https://api.github.com/users/XPoet&#x27;</span>).<span class="title function_">then</span>(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;res: &#x27;</span>, res) <span class="comment">//--&gt; &#123;...&#125;</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h3 id="æ‰‹å†™å‡½æ•°èŠ‚æµ"><a href="#æ‰‹å†™å‡½æ•°èŠ‚æµ" class="headerlink" title="æ‰‹å†™å‡½æ•°èŠ‚æµ"></a>æ‰‹å†™å‡½æ•°èŠ‚æµ</h3><p>å®šä¹‰ï¼šè§„å®šä¸€ä¸ªå•ä½æ—¶é—´ï¼Œåœ¨è¿™ä¸ªå•ä½æ—¶é—´å†…ï¼Œåªèƒ½æœ‰ä¸€æ¬¡è§¦å‘äº‹ä»¶çš„å›è°ƒå‡½æ•°æ‰§è¡Œï¼Œå¦‚æœåœ¨åŒä¸€ä¸ªå•ä½æ—¶é—´å†…æŸäº‹ä»¶è¢«è§¦å‘å¤šæ¬¡ï¼Œåªæœ‰ä¸€æ¬¡èƒ½ç”Ÿæ•ˆã€‚</p><p>ä½¿ç”¨åœºæ™¯ï¼šçª—å£ resizeã€scrollã€è¾“å…¥æ¡† inputã€é¢‘ç¹ç‚¹å‡»ç­‰</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> fn éœ€è¦æ‰§è¡Œçš„å‡½æ•°</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> delay é—´éš”æ—¶é—´</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">throttle</span> = (<span class="params">fn, delay = <span class="number">1000</span></span>) =&gt; &#123;</span><br><span class="line">  <span class="comment">// ä¸Šä¸€æ¬¡æ‰§è¡Œ fn çš„æ—¶é—´</span></span><br><span class="line">  <span class="keyword">let</span> prevTime = <span class="number">0</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">// å°† throttle å¤„ç†ç»“æœå½“ä½œå‡½æ•°è¿”å›</span></span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">function</span>(<span class="params">...args</span>) &#123;</span><br><span class="line">    <span class="comment">// è·å–å½“å‰æ—¶é—´ï¼Œè½¬æ¢æˆæ—¶é—´æˆ³ï¼Œå•ä½æ¯«ç§’ ms</span></span><br><span class="line">    <span class="keyword">const</span> nowTime = <span class="title class_">Date</span>.<span class="title function_">now</span>()</span><br><span class="line">    <span class="comment">// å°†å½“å‰æ—¶é—´å’Œä¸Šä¸€æ¬¡æ‰§è¡Œå‡½æ•°çš„æ—¶é—´è¿›è¡Œå¯¹æ¯”</span></span><br><span class="line">    <span class="comment">// å¤§äºé—´éš”æ—¶é—´å°±æŠŠ prevTime è®¾ç½®ä¸ºå½“å‰æ—¶é—´å¹¶æ‰§è¡Œå‡½æ•° fn</span></span><br><span class="line">    <span class="keyword">if</span> (nowTime - prevTime &gt; delay) &#123;</span><br><span class="line">      prevTime = nowTime</span><br><span class="line">      fn.<span class="title function_">apply</span>(<span class="variable language_">this</span>, args)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æµ‹è¯•</span></span><br><span class="line"><span class="keyword">const</span> testFn = <span class="title function_">throttle</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;å‡½æ•°èŠ‚æµæµ‹è¯• - fn æ‰§è¡Œäº†&#x27;</span>)</span><br><span class="line">&#125;, <span class="number">1000</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// å®šæ—¶å™¨æ¯ 100 æ¯«ç§’æ‰§è¡Œä¸€æ¬¡ testFn å‡½æ•°ï¼Œä½†æ˜¯åªæœ‰é—´éš”æ—¶é—´å·®å¤§äº 1000 æ¯«ç§’æ—¶æ‰ä¼šæ‰§è¡Œ fn</span></span><br><span class="line"><span class="built_in">setInterval</span>(testFn, <span class="number">100</span>) <span class="comment">//--&gt; å‡½æ•°èŠ‚æµæµ‹è¯• - fn æ‰§è¡Œäº†</span></span><br></pre></td></tr></table></figure><h3 id="æ‰‹å†™å‡½æ•°é˜²æŠ–"><a href="#æ‰‹å†™å‡½æ•°é˜²æŠ–" class="headerlink" title="æ‰‹å†™å‡½æ•°é˜²æŠ–"></a>æ‰‹å†™å‡½æ•°é˜²æŠ–</h3><p>å®šä¹‰ï¼šåœ¨äº‹ä»¶è¢«è§¦å‘ n ç§’åå†æ‰§è¡Œå›è°ƒï¼Œå¦‚æœåœ¨è¿™ n ç§’å†…äº‹ä»¶åˆè¢«è§¦å‘ï¼Œåˆ™é‡æ–°è®¡æ—¶ã€‚<br>ä½¿ç”¨åœºæ™¯ï¼šæœç´¢æ¡†è¾“å…¥æœç´¢ã€ç‚¹å‡»æäº¤ç­‰</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">debounce</span>(<span class="params">fn, wait</span>) &#123;</span><br><span class="line">  <span class="keyword">let</span> timer = <span class="literal">null</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">function</span>(<span class="params">...args</span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> ctx = <span class="variable language_">this</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// å¦‚æœæ­¤æ—¶å­˜åœ¨å®šæ—¶å™¨çš„è¯ï¼Œåˆ™å–æ¶ˆä¹‹å‰çš„å®šæ—¶å™¨é‡æ–°è®°æ—¶</span></span><br><span class="line">    <span class="keyword">if</span> (timer) &#123;</span><br><span class="line">      <span class="built_in">clearTimeout</span>(timer)</span><br><span class="line">      timer = <span class="literal">null</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// è®¾ç½®å®šæ—¶å™¨ï¼Œä½¿äº‹ä»¶é—´éš”æŒ‡å®šäº‹ä»¶åæ‰§è¡Œ</span></span><br><span class="line">    timer = <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">      fn.<span class="title function_">apply</span>(ctx, args)</span><br><span class="line">    &#125;, wait)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æµ‹è¯•</span></span><br><span class="line"><span class="keyword">const</span> testFn = <span class="title function_">debounce</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;å‡½æ•°é˜²æŠ–æµ‹è¯• - fn æ‰§è¡Œäº†&#x27;</span>)</span><br><span class="line">&#125;, <span class="number">2000</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// å®šæ—¶å™¨æ¯ 1000 æ¯«ç§’æ‰§è¡Œä¸€æ¬¡ testFn å‡½æ•°ï¼Œç­‰å¾…æ—¶é—´æœªå¤§äº 2000 æ¯«ç§’ï¼Œæ‰€ä»¥ fn æ°¸è¿œä¸ä¼šæ‰§è¡Œ</span></span><br><span class="line"><span class="built_in">setInterval</span>(testFn, <span class="number">1000</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// å®šæ—¶å™¨æ¯ 3000 æ¯«ç§’æ‰§è¡Œä¸€æ¬¡ testFn å‡½æ•°ï¼Œç­‰å¾…æ—¶é—´å¤§äº 2000 æ¯«ç§’ï¼Œæ‰€ä»¥ fn ä¼šéš” 3000 æ‰§è¡Œä¸€æ¬¡</span></span><br><span class="line"><span class="built_in">setInterval</span>(testFn, <span class="number">3000</span>) <span class="comment">//--&gt; å‡½æ•°é˜²æŠ–æµ‹è¯• - fn æ‰§è¡Œäº†</span></span><br></pre></td></tr></table></figure><h3 id="æ‰‹å†™æ·±æµ…æ‹·è´"><a href="#æ‰‹å†™æ·±æµ…æ‹·è´" class="headerlink" title="æ‰‹å†™æ·±æµ…æ‹·è´"></a>æ‰‹å†™æ·±æµ…æ‹·è´</h3><h4 id="æµ…æ‹·è´"><a href="#æµ…æ‹·è´" class="headerlink" title="æµ…æ‹·è´"></a>æµ…æ‹·è´</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">shallowCopy</span>(<span class="params">object</span>) &#123;</span><br><span class="line">  <span class="comment">// åªæ‹·è´å¯¹è±¡ç±»å‹çš„æ•°æ®</span></span><br><span class="line">  <span class="keyword">if</span> (!object || <span class="keyword">typeof</span> object !== <span class="string">&#x27;object&#x27;</span>) <span class="keyword">return</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">// object å¦‚æœæ˜¯æ•°ç»„ç±»å‹å°±æ–°å»ºä¸€ä¸ªç©ºæ•°ç»„ï¼Œå¦åˆ™æ–°å»ºç©ºå¯¹è±¡</span></span><br><span class="line">  <span class="keyword">const</span> newObject = <span class="title class_">Array</span>.<span class="title function_">isArray</span>(object) ? [] : &#123;&#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// éå† objectï¼Œè¿›è¡Œå±æ€§æ‹·è´</span></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">const</span> key <span class="keyword">in</span> object) &#123;</span><br><span class="line">    <span class="keyword">if</span> (object.<span class="title function_">hasOwnProperty</span>(key)) &#123;</span><br><span class="line">      newObject[key] = object[key]</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> newObject</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æµ‹è¯•</span></span><br><span class="line"><span class="keyword">const</span> obj1 = &#123; <span class="attr">x</span>: <span class="number">1</span>, <span class="attr">y</span>: <span class="number">2</span>, <span class="attr">z</span>: <span class="number">3</span> &#125;</span><br><span class="line"><span class="keyword">const</span> obj2 = <span class="title function_">shallowCopy</span>(obj1)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(obj2) <span class="comment">//--&gt; &#123; x: 1, y: 2, z: 3 &#125;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> arr1 = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</span><br><span class="line"><span class="keyword">const</span> arr2 = <span class="title function_">shallowCopy</span>(arr1)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(arr2) <span class="comment">//--&gt; [1, 2, 3]</span></span><br></pre></td></tr></table></figure><h4 id="æ·±æ‹·è´"><a href="#æ·±æ‹·è´" class="headerlink" title="æ·±æ‹·è´"></a>æ·±æ‹·è´</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">deepCopy</span>(<span class="params">object</span>) &#123;</span><br><span class="line">  <span class="comment">// åªæ‹·è´å¯¹è±¡ç±»å‹çš„æ•°æ®</span></span><br><span class="line">  <span class="keyword">if</span> (!object || <span class="keyword">typeof</span> object !== <span class="string">&#x27;object&#x27;</span>) <span class="keyword">return</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">// object å¦‚æœæ˜¯æ•°ç»„ç±»å‹å°±æ–°å»ºä¸€ä¸ªç©ºæ•°ç»„ï¼Œå¦åˆ™æ–°å»ºç©ºå¯¹è±¡</span></span><br><span class="line">  <span class="keyword">const</span> newObject = <span class="title class_">Array</span>.<span class="title function_">isArray</span>(object) ? [] : &#123;&#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">const</span> key <span class="keyword">in</span> object) &#123;</span><br><span class="line">    <span class="keyword">if</span> (object.<span class="title function_">hasOwnProperty</span>(key)) &#123;</span><br><span class="line">      <span class="comment">// object[key] å¦‚æœæ˜¯å¯¹è±¡ç±»å‹ï¼Œåˆ™ä½¿ç”¨é€’å½’ç»§ç»­éå†æ‹·è´å±æ€§</span></span><br><span class="line">      newObject[key] = <span class="keyword">typeof</span> object[key] === <span class="string">&#x27;object&#x27;</span> ? <span class="title function_">deepCopy</span>(object[key]) : object[key]</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> newObject</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æµ‹è¯•</span></span><br><span class="line"><span class="keyword">const</span> obj1 = &#123; <span class="attr">x</span>: <span class="number">1</span>, <span class="attr">y</span>: &#123; <span class="attr">z</span>: <span class="number">3</span> &#125; &#125;</span><br><span class="line"><span class="keyword">const</span> obj2 = <span class="title function_">deepCopy</span>(obj1)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(obj2) <span class="comment">//--&gt; &#123; x: 1, y: &#123; z: 3 &#125; &#125;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> arr1 = [<span class="number">1</span>, [<span class="number">2</span>, <span class="number">3</span>]]</span><br><span class="line"><span class="keyword">const</span> arr2 = <span class="title function_">deepCopy</span>(arr1)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(arr2) <span class="comment">//--&gt; [1, [2, 3]]</span></span><br></pre></td></tr></table></figure><h3 id="æ‰‹å†™-callã€apply-å’Œ-bind-å‡½æ•°"><a href="#æ‰‹å†™-callã€apply-å’Œ-bind-å‡½æ•°" class="headerlink" title="æ‰‹å†™ callã€apply å’Œ bind å‡½æ•°"></a>æ‰‹å†™ callã€apply å’Œ bind å‡½æ•°</h3><p>åœ¨ JavaScript ä¸­ï¼Œ<code>call</code>ã€<code>apply</code> å’Œ <code>bind</code> æ˜¯ <code>Function</code> å¯¹è±¡è‡ªå¸¦çš„ä¸‰ä¸ªæ–¹æ³•ï¼Œè¿™ä¸‰ä¸ªæ–¹æ³•çš„ä¸»è¦ä½œç”¨æ˜¯æ”¹å˜å‡½æ•°ä¸­çš„ <code>this</code> æŒ‡å‘ã€‚</p><p>å…±åŒç‚¹ï¼š</p><ul><li><code>apply</code> ã€ <code>call</code> ã€<code>bind</code> ä¸‰è€…éƒ½æ˜¯ç”¨æ¥æ”¹å˜å‡½æ•°çš„ <code>this</code> å¯¹è±¡æŒ‡å‘ã€‚</li><li><code>apply</code> ã€ <code>call</code> ã€<code>bind</code> ä¸‰è€…ç¬¬ä¸€ä¸ªå‚æ•°éƒ½æ˜¯ <code>this</code> è¦æŒ‡å‘çš„å¯¹è±¡ï¼Œä¹Ÿå°±æ˜¯æƒ³æŒ‡å®šçš„ä¸Šä¸‹æ–‡ã€‚ï¼ˆå‡½æ•°çš„æ¯æ¬¡è°ƒç”¨éƒ½ä¼šæ‹¥æœ‰ä¸€ä¸ªç‰¹æ®Šå€¼â€”â€”æœ¬æ¬¡è°ƒç”¨çš„ä¸Šä¸‹æ–‡ï¼ˆcontextï¼‰ï¼Œè¿™å°±æ˜¯ <code>this</code> å…³é”®å­—çš„å€¼ã€‚ï¼‰</li><li><code>apply</code> ã€ <code>call</code> ã€<code>bind</code> ä¸‰è€…éƒ½å¯ä»¥åˆ©ç”¨åç»­å‚æ•°ä¼ å‚ã€‚</li></ul><p>åŒºåˆ«ï¼š</p><ul><li><code>bind</code> æ˜¯è¿”å›å¯¹åº”å‡½æ•°ï¼Œä¾¿äºç¨åè°ƒç”¨ã€‚</li><li><code>apply</code> ã€<code>call</code> åˆ™æ˜¯ç«‹å³è°ƒç”¨ã€‚</li></ul><p><code>call()</code> å’Œ <code>apply()</code> çš„ä½œç”¨æ˜¯ä¸€æ ·çš„ï¼Œéƒ½æ˜¯ç”¨äºæ”¹å˜ <code>this</code> çš„æŒ‡å‘ï¼ŒåŒºåˆ«åœ¨äº <code>call</code> æ¥å—å¤šä¸ªå‚æ•°ï¼Œè€Œ <code>apply</code> æ¥å—çš„æ˜¯ä¸€ä¸ªæ•°ç»„ã€‚</p><p>ç¬¬ä¸€ä¸ªå‚æ•°çš„å–å€¼æœ‰ä»¥ä¸‹ 4 ç§æƒ…å†µï¼š</p><ol><li>ä¸ä¼ ï¼Œæˆ–è€…ä¼  <code>null</code>ã€<code>undefined</code>ï¼Œå‡½æ•°ä¸­çš„ <code>this</code> æŒ‡å‘ <code>window</code> å¯¹è±¡ã€‚</li><li>ä¼ é€’å¦ä¸€ä¸ªå‡½æ•°çš„å‡½æ•°åï¼Œå‡½æ•°ä¸­çš„ <code>this</code> æŒ‡å‘è¿™ä¸ªå‡½æ•°çš„å¼•ç”¨ã€‚</li><li>ä¼ é€’å­—ç¬¦ä¸²ã€æ•°å€¼æˆ–å¸ƒå°”ç±»å‹ç­‰åŸºç¡€ç±»å‹ï¼Œå‡½æ•°ä¸­çš„ <code>this</code> æŒ‡å‘å…¶å¯¹åº”çš„åŒ…è£…å¯¹è±¡ï¼Œå¦‚ <code>String</code>ã€<code>Number</code>ã€<code>Boolean</code>ã€‚</li><li>ä¼ é€’ä¸€ä¸ªå¯¹è±¡ï¼Œå‡½æ•°ä¸­çš„ <code>this</code> æŒ‡å‘è¿™ä¸ªå¯¹è±¡ã€‚</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">a</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">b</span>(<span class="params"></span>) &#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> c = &#123; <span class="attr">x</span>: <span class="number">1</span> &#125;</span><br><span class="line"></span><br><span class="line">a.<span class="title function_">call</span>() <span class="comment">//--&gt; window</span></span><br><span class="line">a.<span class="title function_">call</span>(<span class="literal">null</span>) <span class="comment">//--&gt; window</span></span><br><span class="line">a.<span class="title function_">call</span>(<span class="literal">undefined</span>) <span class="comment">//window</span></span><br><span class="line">a.<span class="title function_">call</span>(<span class="number">1</span>) <span class="comment">//--&gt; Number &#123;1&#125;</span></span><br><span class="line">a.<span class="title function_">call</span>(<span class="string">&#x27;&#x27;</span>) <span class="comment">//--&gt; String &#123;&#x27;&#x27;&#125;</span></span><br><span class="line">a.<span class="title function_">call</span>(<span class="literal">true</span>) <span class="comment">//--&gt; Boolean &#123;true&#125;</span></span><br><span class="line">a.<span class="title function_">call</span>(b) <span class="comment">//--&gt; function b()&#123;&#125;</span></span><br><span class="line">a.<span class="title function_">call</span>(c) <span class="comment">//--&gt; &#123;x: 1&#125;</span></span><br></pre></td></tr></table></figure><h4 id="æ‰‹å†™-call"><a href="#æ‰‹å†™-call" class="headerlink" title="æ‰‹å†™ call"></a>æ‰‹å†™ call</h4><p>call å‡½æ•°çš„å®ç°æ­¥éª¤ï¼š</p><ol><li>åˆ¤æ–­è°ƒç”¨å¯¹è±¡æ˜¯å¦ä¸ºå‡½æ•°ï¼Œå³ä½¿æˆ‘ä»¬æ˜¯å®šä¹‰åœ¨å‡½æ•°çš„åŸå‹ä¸Šçš„ï¼Œä½†æ˜¯å¯èƒ½å‡ºç°ä½¿ç”¨ <code>call</code> ç­‰æ–¹å¼è°ƒç”¨çš„æƒ…å†µã€‚</li><li>åˆ¤æ–­ä¼ å…¥ä¸Šä¸‹æ–‡å¯¹è±¡æ˜¯å¦å­˜åœ¨ï¼Œå¦‚æœä¸å­˜åœ¨ï¼Œåˆ™è®¾ç½®ä¸º <code>window</code>ã€‚</li><li>å°†å‡½æ•°ä½œä¸ºä¸Šä¸‹æ–‡å¯¹è±¡çš„ä¸€ä¸ªå±æ€§ã€‚</li><li>ä½¿ç”¨ä¸Šä¸‹æ–‡å¯¹è±¡æ¥è°ƒç”¨è¿™ä¸ªæ–¹æ³•ï¼Œå¹¶ä¿å­˜è¿”å›ç»“æœã€‚</li><li>åˆ é™¤åˆšæ‰æ–°å¢çš„å±æ€§ã€‚</li><li>è¿”å›ç»“æœã€‚</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">Function</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">myCall</span> = <span class="keyword">function</span>(<span class="params">ctx, ...args</span>) &#123;</span><br><span class="line">  <span class="comment">// åˆ¤æ–­è°ƒç”¨å¯¹è±¡</span></span><br><span class="line">  <span class="keyword">if</span> (<span class="keyword">typeof</span> <span class="variable language_">this</span> !== <span class="string">&#x27;function&#x27;</span>) &#123;</span><br><span class="line">    <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">TypeError</span>(<span class="string">&#x27;Type Error&#x27;</span>)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// åˆ¤æ–­ ctx æ˜¯å¦ä¼ å…¥ï¼Œå¦‚æœæœªä¼ å…¥åˆ™è®¾ç½®ä¸º window</span></span><br><span class="line">  ctx = ctx || <span class="variable language_">window</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">// å°†è°ƒç”¨å‡½æ•°è®¾ä¸ºå¯¹è±¡çš„æ–¹æ³•</span></span><br><span class="line">  ctx.<span class="property">fn</span> = <span class="variable language_">this</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">// è°ƒç”¨å‡½æ•°</span></span><br><span class="line">  <span class="keyword">const</span> result = ctx.<span class="title function_">fn</span>(...args)</span><br><span class="line"></span><br><span class="line">  <span class="comment">// å°†å±æ€§åˆ é™¤</span></span><br><span class="line">  <span class="keyword">delete</span> ctx.<span class="property">fn</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> result</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// æµ‹è¯•</span></span><br><span class="line"><span class="keyword">const</span> obj = &#123;</span><br><span class="line">  <span class="title function_">test</span>(<span class="params">a, b, c</span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>, a, b)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">obj.<span class="property">test</span>.<span class="title function_">myCall</span>(obj, <span class="number">4</span>, <span class="number">5</span>) <span class="comment">//--&gt; &#123;test: Æ’, fn: Æ’&#125; 4 5</span></span><br></pre></td></tr></table></figure><h4 id="æ‰‹å†™-apply"><a href="#æ‰‹å†™-apply" class="headerlink" title="æ‰‹å†™ apply"></a>æ‰‹å†™ apply</h4><ol><li>åˆ¤æ–­è°ƒç”¨å¯¹è±¡æ˜¯å¦ä¸ºå‡½æ•°ï¼Œå³ä½¿æˆ‘ä»¬æ˜¯å®šä¹‰åœ¨å‡½æ•°çš„åŸå‹ä¸Šçš„ï¼Œä½†æ˜¯å¯èƒ½å‡ºç°ä½¿ç”¨ <code>call</code> ç­‰æ–¹å¼è°ƒç”¨çš„æƒ…å†µã€‚</li><li>åˆ¤æ–­ä¼ å…¥ä¸Šä¸‹æ–‡å¯¹è±¡æ˜¯å¦å­˜åœ¨ï¼Œå¦‚æœä¸å­˜åœ¨ï¼Œåˆ™è®¾ç½®ä¸º <code>window</code>ã€‚</li><li>å°†å‡½æ•°ä½œä¸ºä¸Šä¸‹æ–‡å¯¹è±¡çš„ä¸€ä¸ªå±æ€§ã€‚</li><li>åˆ¤æ–­å‚æ•°å€¼æ˜¯å¦ä¼ å…¥ã€‚</li><li>ä½¿ç”¨ä¸Šä¸‹æ–‡å¯¹è±¡æ¥è°ƒç”¨è¿™ä¸ªæ–¹æ³•ï¼Œå¹¶ä¿å­˜è¿”å›ç»“æœã€‚</li><li>åˆ é™¤åˆšæ‰æ–°å¢çš„å±æ€§ã€‚</li><li>è¿”å›ç»“æœã€‚</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">Function</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">myApply</span> = <span class="keyword">function</span>(<span class="params">ctx</span>) &#123;</span><br><span class="line">  <span class="comment">// åˆ¤æ–­è°ƒç”¨å¯¹è±¡æ˜¯å¦ä¸ºå‡½æ•°</span></span><br><span class="line">  <span class="keyword">if</span> (<span class="keyword">typeof</span> <span class="variable language_">this</span> !== <span class="string">&#x27;function&#x27;</span>) &#123;</span><br><span class="line">    <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">TypeError</span>(<span class="string">&#x27;Type Error&#x27;</span>)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">let</span> result = <span class="literal">null</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">// åˆ¤æ–­ ctx æ˜¯å¦å­˜åœ¨ï¼Œå¦‚æœæœªä¼ å…¥åˆ™ä¸º window</span></span><br><span class="line">  ctx = ctx || <span class="variable language_">window</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">// å°†å‡½æ•°è®¾ä¸ºå¯¹è±¡çš„æ–¹æ³•</span></span><br><span class="line">  ctx.<span class="property">fn</span> = <span class="variable language_">this</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">// è°ƒç”¨æ–¹æ³•</span></span><br><span class="line">  <span class="keyword">if</span> (<span class="variable language_">arguments</span>[<span class="number">1</span>]) &#123;</span><br><span class="line">    result = ctx.<span class="title function_">fn</span>(...<span class="variable language_">arguments</span>[<span class="number">1</span>])</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    result = ctx.<span class="title function_">fn</span>()</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// å°†å±æ€§åˆ é™¤</span></span><br><span class="line">  <span class="keyword">delete</span> ctx.<span class="property">fn</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> result</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æµ‹è¯•</span></span><br><span class="line"><span class="keyword">const</span> obj = &#123;</span><br><span class="line">  <span class="title function_">test</span>(<span class="params">a, b, c</span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>, a, b, c)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">obj.<span class="property">test</span>.<span class="title function_">myApply</span>(obj, [<span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>]) <span class="comment">//--&gt; &#123;test: Æ’, fn: Æ’&#125; 4 5 6</span></span><br></pre></td></tr></table></figure><h4 id="æ‰‹å†™-bind"><a href="#æ‰‹å†™-bind" class="headerlink" title="æ‰‹å†™ bind"></a>æ‰‹å†™ bind</h4><ol><li>åˆ¤æ–­è°ƒç”¨å¯¹è±¡æ˜¯å¦ä¸ºå‡½æ•°ï¼Œå³ä½¿æˆ‘ä»¬æ˜¯å®šä¹‰åœ¨å‡½æ•°çš„åŸå‹ä¸Šçš„ï¼Œä½†æ˜¯å¯èƒ½å‡ºç°ä½¿ç”¨ <code>call</code> ç­‰æ–¹å¼è°ƒç”¨çš„æƒ…å†µã€‚</li><li>ä¿å­˜å½“å‰å‡½æ•°çš„å¼•ç”¨ï¼Œè·å–å…¶ä½™ä¼ å…¥å‚æ•°å€¼ã€‚</li><li>åˆ›å»ºä¸€ä¸ªå‡½æ•°è¿”å›ã€‚</li><li>å‡½æ•°å†…éƒ¨ä½¿ç”¨ <code>apply</code> æ¥ç»‘å®šå‡½æ•°è°ƒç”¨ï¼Œéœ€è¦åˆ¤æ–­å‡½æ•°ä½œä¸ºæ„é€ å‡½æ•°çš„æƒ…å†µï¼Œè¿™ä¸ªæ—¶å€™éœ€è¦ä¼ å…¥å½“å‰å‡½æ•°çš„ <code>this</code> ç»™ <code>apply</code> è°ƒç”¨ï¼Œå…¶ä½™æƒ…å†µéƒ½ä¼ å…¥æŒ‡å®šçš„ä¸Šä¸‹æ–‡å¯¹è±¡ã€‚</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">Function</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">myBind</span> = <span class="keyword">function</span>(<span class="params">ctx, ...args</span>) &#123;</span><br><span class="line">  <span class="comment">// åˆ¤æ–­è°ƒç”¨å¯¹è±¡æ˜¯å¦ä¸ºå‡½æ•°</span></span><br><span class="line">  <span class="keyword">if</span> (<span class="keyword">typeof</span> <span class="variable language_">this</span> !== <span class="string">&#x27;function&#x27;</span>) &#123;</span><br><span class="line">    <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">TypeError</span>(<span class="string">&#x27;Type Error&#x27;</span>)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> fn = <span class="variable language_">this</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">function</span> <span class="title function_">Fn</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="comment">// æ ¹æ®è°ƒç”¨æ–¹å¼ï¼Œä¼ å…¥ä¸åŒç»‘å®šå€¼</span></span><br><span class="line">    <span class="keyword">return</span> fn.<span class="title function_">apply</span>(</span><br><span class="line">      <span class="variable language_">this</span> <span class="keyword">instanceof</span> <span class="title class_">Fn</span> ? <span class="variable language_">this</span> : ctx, args.<span class="title function_">concat</span>(...<span class="variable language_">arguments</span>)</span><br><span class="line">    )</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æµ‹è¯•</span></span><br><span class="line"><span class="keyword">const</span> obj = &#123;</span><br><span class="line">  <span class="title function_">test</span>(<span class="params">a, b, c</span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>, a + b)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">obj.<span class="property">test</span>.<span class="title function_">myBind</span>(obj, <span class="number">4</span>, <span class="number">5</span>)() <span class="comment">//--&gt; &#123;test: Æ’&#125; 9</span></span><br></pre></td></tr></table></figure><h3 id="å‡½æ•°æŸ¯é‡ŒåŒ–"><a href="#å‡½æ•°æŸ¯é‡ŒåŒ–" class="headerlink" title="å‡½æ•°æŸ¯é‡ŒåŒ–"></a>å‡½æ•°æŸ¯é‡ŒåŒ–</h3><p>å‡½æ•°æŸ¯é‡ŒåŒ–æŒ‡çš„æ˜¯ä¸€ç§å°†ä½¿ç”¨å¤šä¸ªå‚æ•°çš„ä¸€ä¸ªå‡½æ•°è½¬æ¢æˆä¸€ç³»åˆ—ä½¿ç”¨ä¸€ä¸ªå‚æ•°çš„å‡½æ•°çš„æŠ€æœ¯ã€‚ä¾‹å¦‚ï¼š<code>add(1, 2, 3, 4, 5)</code> è½¬æ¢æˆ <code>add(1)(2)(3)(4)(5)</code></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">curry</span>(<span class="params">fn, ...args</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> fn.<span class="property">length</span> &lt;= args.<span class="property">length</span> ? <span class="title function_">fn</span>(...args) : curry.<span class="title function_">bind</span>(<span class="literal">null</span>, fn, ...args)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æµ‹è¯•</span></span><br><span class="line"><span class="comment">// æ™®é€šå‡½æ•°</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">fn</span>(<span class="params">a, b, c, d, e</span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(a, b, c, d, e)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç”Ÿæˆçš„æŸ¯é‡ŒåŒ–å‡½æ•°</span></span><br><span class="line"><span class="keyword">const</span> _fn = <span class="title function_">curry</span>(fn)</span><br><span class="line"></span><br><span class="line"><span class="title function_">_fn</span>(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>) <span class="comment">//--&gt; 1 2 3 4 5</span></span><br><span class="line"><span class="title function_">_fn</span>(<span class="number">1</span>)(<span class="number">2</span>)(<span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>) <span class="comment">//--&gt; 1 2 3 4 5</span></span><br><span class="line"><span class="title function_">_fn</span>(<span class="number">1</span>, <span class="number">2</span>)(<span class="number">3</span>, <span class="number">4</span>)(<span class="number">5</span>) <span class="comment">//--&gt; 1 2 3 4 5</span></span><br><span class="line"><span class="title function_">_fn</span>(<span class="number">1</span>)(<span class="number">2</span>)(<span class="number">3</span>)(<span class="number">4</span>)(<span class="number">5</span>) <span class="comment">//--&gt; 1 2 3 4 5</span></span><br></pre></td></tr></table></figure><p>çœ‹èµ·æ¥æŸ¯é‡ŒåŒ–å¥½åƒæ˜¯æŠŠç®€ç­”çš„é—®é¢˜å¤æ‚åŒ–äº†ï¼Œä½†æ˜¯å¤æ‚åŒ–çš„åŒæ—¶ï¼Œæˆ‘ä»¬åœ¨ä½¿ç”¨å‡½æ•°æ—¶æ‹¥æœ‰äº†æ›´åŠ å¤šçš„è‡ªç”±åº¦ã€‚è€Œè¿™é‡Œå¯¹äºå‡½æ•°å‚æ•°çš„è‡ªç”±å¤„ç†ï¼Œæ­£æ˜¯æŸ¯é‡ŒåŒ–çš„æ ¸å¿ƒæ‰€åœ¨ã€‚æŸ¯é‡ŒåŒ–æœ¬è´¨ä¸Šæ˜¯é™ä½é€šç”¨æ€§ï¼Œæé«˜é€‚ç”¨æ€§ã€‚</p><h3 id="æ‰‹å†™-EventBus"><a href="#æ‰‹å†™-EventBus" class="headerlink" title="æ‰‹å†™ EventBus"></a>æ‰‹å†™ EventBus</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * æ‰‹å†™ EventBus</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">EventBus</span> &#123;</span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="comment">// å­˜å‚¨äº‹ä»¶åŠå…¶å¯¹åº”çš„å›è°ƒå‡½æ•°</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">events</span> = &#123;&#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// è®¢é˜…äº‹ä»¶</span></span><br><span class="line">  <span class="title function_">subscribe</span>(<span class="params">eventName, callback</span>) &#123;</span><br><span class="line">    <span class="comment">// å¦‚æœäº‹ä»¶ä¸å­˜åœ¨ï¼Œåˆ™åˆ›å»ºä¸€ä¸ªæ–°çš„äº‹ä»¶æ•°ç»„</span></span><br><span class="line">    <span class="keyword">if</span> (!<span class="variable language_">this</span>.<span class="property">events</span>[eventName]) &#123;</span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">events</span>[eventName] = []</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// å°†å›è°ƒå‡½æ•°æ·»åŠ åˆ°äº‹ä»¶æ•°ç»„ä¸­</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">events</span>[eventName].<span class="title function_">push</span>(callback)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// å–æ¶ˆè®¢é˜…äº‹ä»¶</span></span><br><span class="line">  <span class="title function_">unsubscribe</span>(<span class="params">eventName, callback</span>) &#123;</span><br><span class="line">    <span class="comment">// å¦‚æœäº‹ä»¶ä¸å­˜åœ¨ï¼Œåˆ™ç›´æ¥è¿”å›</span></span><br><span class="line">    <span class="keyword">if</span> (!<span class="variable language_">this</span>.<span class="property">events</span>[eventName]) &#123;</span><br><span class="line">      <span class="keyword">return</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// ä»äº‹ä»¶æ•°ç»„ä¸­ç§»é™¤æŒ‡å®šçš„å›è°ƒå‡½æ•°</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">events</span>[eventName] = <span class="variable language_">this</span>.<span class="property">events</span>[eventName].<span class="title function_">filter</span>(<span class="function"><span class="params">cb</span> =&gt;</span> cb !== callback)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// å‘å¸ƒäº‹ä»¶</span></span><br><span class="line">  <span class="title function_">next</span>(<span class="params">eventName, data</span>) &#123;</span><br><span class="line">    <span class="comment">// å¦‚æœäº‹ä»¶ä¸å­˜åœ¨ï¼Œåˆ™ç›´æ¥è¿”å›</span></span><br><span class="line">    <span class="keyword">if</span> (!<span class="variable language_">this</span>.<span class="property">events</span>[eventName]) &#123;</span><br><span class="line">      <span class="keyword">return</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// éå†äº‹ä»¶æ•°ç»„ï¼Œä¾æ¬¡æ‰§è¡Œå›è°ƒå‡½æ•°</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">events</span>[eventName].<span class="title function_">forEach</span>(<span class="function"><span class="params">callback</span> =&gt;</span> &#123;</span><br><span class="line">      <span class="title function_">callback</span>(data)</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// åˆ›å»ºä¸€ä¸ªæ–°çš„ EventBus å®ä¾‹</span></span><br><span class="line"><span class="keyword">const</span> eventBus = <span class="keyword">new</span> <span class="title class_">EventBus</span>()</span><br><span class="line"></span><br><span class="line"><span class="comment">// å®šä¹‰äº‹ä»¶å¤„ç†å‡½æ•°</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">handler1</span> = data =&gt; &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;Handler 1:&#x27;</span>, data)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">handler2</span> = data =&gt; &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;Handler 2:&#x27;</span>, data)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// è®¢é˜…äº‹ä»¶</span></span><br><span class="line">eventBus.<span class="title function_">subscribe</span>(<span class="string">&#x27;event1&#x27;</span>, handler1)</span><br><span class="line">eventBus.<span class="title function_">subscribe</span>(<span class="string">&#x27;event1&#x27;</span>, handler2)</span><br><span class="line"></span><br><span class="line"><span class="comment">// å‘å¸ƒäº‹ä»¶</span></span><br><span class="line">eventBus.<span class="title function_">next</span>(<span class="string">&#x27;event1&#x27;</span>, <span class="string">&#x27;Hello, EventBus!&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// å–æ¶ˆè®¢é˜…äº‹ä»¶</span></span><br><span class="line">eventBus.<span class="title function_">unsubscribe</span>(<span class="string">&#x27;event1&#x27;</span>, handler2)</span><br></pre></td></tr></table></figure><h3 id="æ‰‹å†™-Promise"><a href="#æ‰‹å†™-Promise" class="headerlink" title="æ‰‹å†™ Promise"></a>æ‰‹å†™ Promise</h3><p>Promise æ˜¯å¼‚æ­¥ç¼–ç¨‹çš„ä¸€ç§è§£å†³æ–¹æ¡ˆï¼Œæ¯”ä¼ ç»Ÿçš„è§£å†³æ–¹æ¡ˆå›è°ƒå‡½æ•°å’Œäº‹ä»¶æ›´åˆç†å’Œæ›´å¼ºå¤§ã€‚å®ƒç”±ç¤¾åŒºæœ€æ—©æå‡ºå’Œå®ç°ï¼ŒES6 å°†å…¶å†™è¿›äº†è¯­è¨€æ ‡å‡†ï¼Œç»Ÿä¸€äº†ç”¨æ³•ï¼ŒåŸç”Ÿæä¾›äº† <code>Promise</code> å¯¹è±¡ã€‚</p><p>æ‰€è°“ <code>Promise</code>ï¼Œç®€å•è¯´å°±æ˜¯ä¸€ä¸ªå®¹å™¨ï¼Œé‡Œé¢ä¿å­˜ç€æŸä¸ªæœªæ¥æ‰ä¼šç»“æŸçš„äº‹ä»¶ï¼ˆé€šå¸¸æ˜¯ä¸€ä¸ªå¼‚æ­¥æ“ä½œï¼‰çš„ç»“æœã€‚ä»è¯­æ³•ä¸Šè¯´ï¼ŒPromise æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œä»å®ƒå¯ä»¥è·å–å¼‚æ­¥æ“ä½œçš„æ¶ˆæ¯ã€‚Promise æä¾›ç»Ÿä¸€çš„ APIï¼Œå„ç§å¼‚æ­¥æ“ä½œéƒ½å¯ä»¥ç”¨åŒæ ·çš„æ–¹æ³•è¿›è¡Œå¤„ç†ã€‚</p><p>ä¸‹é¢æˆ‘ä»¬ç”¨ ES6 è¯­æ³•æ¥æ‰‹å†™ä¸€ä¸ª Promiseï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">MyPromise</span> &#123;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// Promise/A+ è§„èŒƒè§„å®šçš„ä¸‰ç§çŠ¶æ€</span></span><br><span class="line">  <span class="variable constant_">PENDING</span> = <span class="string">&#x27;pending&#x27;</span> <span class="comment">// ç­‰å¾…çŠ¶æ€</span></span><br><span class="line">  <span class="variable constant_">FULFILLED</span> = <span class="string">&#x27;fulfilled&#x27;</span><span class="comment">// æˆåŠŸçŠ¶æ€</span></span><br><span class="line">  <span class="variable constant_">REJECTED</span> = <span class="string">&#x27;rejected&#x27;</span> <span class="comment">// å¤±è´¥çŠ¶æ€</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">// æ„é€ å‡½æ•°æ¥æ”¶ä¸€ä¸ªæ‰§è¡Œå›è°ƒ</span></span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params">executor</span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">_status</span> = <span class="variable language_">this</span>.<span class="property">PENDING</span> <span class="comment">// Promise åˆå§‹çŠ¶æ€</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">_value</span> = <span class="literal">undefined</span> <span class="comment">// then å›è°ƒçš„å€¼</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">_resolveQueue</span> = [] <span class="comment">// resolve æ—¶è§¦å‘çš„æˆåŠŸé˜Ÿåˆ—</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">_rejectQueue</span> = [] <span class="comment">// reject æ—¶è§¦å‘çš„å¤±è´¥é˜Ÿåˆ—</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// ä½¿ç”¨ç®­å¤´å‡½æ•°å›ºå®š thisï¼ˆresolve å‡½æ•°åœ¨ executor ä¸­è§¦å‘ï¼Œä¸ç„¶æ‰¾ä¸åˆ° thisï¼‰</span></span><br><span class="line">    <span class="keyword">const</span> <span class="title function_">resolve</span> = value =&gt; &#123;</span><br><span class="line">      <span class="keyword">const</span> <span class="title function_">run</span> = (<span class="params"></span>) =&gt; &#123;</span><br><span class="line">        <span class="comment">// Promise/A+ è§„èŒƒè§„å®šçš„ Promise çŠ¶æ€åªèƒ½ä» pending è§¦å‘ï¼Œå˜æˆ fulfilled</span></span><br><span class="line">        <span class="keyword">if</span> (<span class="variable language_">this</span>.<span class="property">_status</span> === <span class="variable language_">this</span>.<span class="property">PENDING</span>) &#123;</span><br><span class="line">          <span class="variable language_">this</span>.<span class="property">_status</span> = <span class="variable language_">this</span>.<span class="property">FULFILLED</span> <span class="comment">// æ›´æ”¹çŠ¶æ€</span></span><br><span class="line">          <span class="variable language_">this</span>.<span class="property">_value</span> = value <span class="comment">// å‚¨å­˜å½“å‰å€¼ï¼Œç”¨äº then å›è°ƒ</span></span><br><span class="line"></span><br><span class="line">          <span class="comment">// æ‰§è¡Œ resolve å›è°ƒ</span></span><br><span class="line">          <span class="keyword">while</span> (<span class="variable language_">this</span>.<span class="property">_resolveQueue</span>.<span class="property">length</span>) &#123;</span><br><span class="line">            <span class="keyword">const</span> callback = <span class="variable language_">this</span>.<span class="property">_resolveQueue</span>.<span class="title function_">shift</span>()</span><br><span class="line">            <span class="title function_">callback</span>(value)</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="comment">// æŠŠ resolve æ‰§è¡Œå›è°ƒçš„æ“ä½œå°è£…æˆä¸€ä¸ªå‡½æ•°ï¼Œæ”¾è¿› setTimeout é‡Œï¼Œä»¥å®ç° Promise å¼‚æ­¥è°ƒç”¨çš„ç‰¹æ€§ï¼ˆè§„èŒƒä¸Šæ˜¯å¾®ä»»åŠ¡ï¼Œè¿™é‡Œæ˜¯å®ä»»åŠ¡ï¼‰</span></span><br><span class="line">      <span class="built_in">setTimeout</span>(run)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// åŒ resolve</span></span><br><span class="line">    <span class="keyword">const</span> <span class="title function_">reject</span> = value =&gt; &#123;</span><br><span class="line">      <span class="keyword">const</span> <span class="title function_">run</span> = (<span class="params"></span>) =&gt; &#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="variable language_">this</span>.<span class="property">_status</span> === <span class="variable language_">this</span>.<span class="property">PENDING</span>) &#123;</span><br><span class="line">          <span class="variable language_">this</span>.<span class="property">_status</span> = <span class="variable language_">this</span>.<span class="property">REJECTED</span></span><br><span class="line">          <span class="variable language_">this</span>.<span class="property">_value</span> = value</span><br><span class="line"></span><br><span class="line">          <span class="keyword">while</span> (<span class="variable language_">this</span>.<span class="property">_rejectQueue</span>.<span class="property">length</span>) &#123;</span><br><span class="line">            <span class="keyword">const</span> callback = <span class="variable language_">this</span>.<span class="property">_rejectQueue</span>.<span class="title function_">shift</span>()</span><br><span class="line">            <span class="title function_">callback</span>(value)</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="built_in">setTimeout</span>(run)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// new Promise() æ—¶ç«‹å³æ‰§è¡Œ executorï¼Œå¹¶ä¼ å…¥ resolve å’Œ reject</span></span><br><span class="line">    <span class="title function_">executor</span>(resolve, reject)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// then æ–¹æ³•ï¼Œæ¥æ”¶ä¸€ä¸ªæˆåŠŸçš„å›è°ƒå’Œä¸€ä¸ªå¤±è´¥çš„å›è°ƒ</span></span><br><span class="line">  <span class="title function_">then</span>(<span class="params">onFulfilled, onRejected</span>) &#123;</span><br><span class="line">    <span class="comment">// æ ¹æ®è§„èŒƒï¼Œå¦‚æœ then çš„å‚æ•°ä¸æ˜¯ functionï¼Œåˆ™å¿½ç•¥å®ƒï¼Œè®©å€¼ç»§ç»­å¾€ä¸‹ä¼ é€’ï¼Œé“¾å¼è°ƒç”¨ç»§ç»­å¾€ä¸‹æ‰§è¡Œ</span></span><br><span class="line">    <span class="keyword">typeof</span> onFulfilled !== <span class="string">&#x27;function&#x27;</span> ? onFulfilled = <span class="function"><span class="params">value</span> =&gt;</span> value : <span class="literal">null</span></span><br><span class="line">    <span class="keyword">typeof</span> onRejected !== <span class="string">&#x27;function&#x27;</span> ? onRejected = <span class="function"><span class="params">error</span> =&gt;</span> error : <span class="literal">null</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// then è¿”å›ä¸€ä¸ªæ–°çš„ Promise</span></span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">MyPromise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">const</span> <span class="title function_">resolveFn</span> = value =&gt; &#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">          <span class="keyword">const</span> x = <span class="title function_">onFulfilled</span>(value)</span><br><span class="line">          <span class="comment">// åˆ†ç±»è®¨è®ºè¿”å›å€¼ï¼Œå¦‚æœæ˜¯ Promiseï¼Œé‚£ä¹ˆç­‰å¾… Promise çŠ¶æ€å˜æ›´ï¼Œå¦åˆ™ç›´æ¥ resolve</span></span><br><span class="line">          x <span class="keyword">instanceof</span> <span class="title class_">MyPromise</span> ? x.<span class="title function_">then</span>(resolve, reject) : <span class="title function_">resolve</span>(x)</span><br><span class="line">        &#125; <span class="keyword">catch</span> (error) &#123;</span><br><span class="line">          <span class="title function_">reject</span>(error)</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      <span class="keyword">const</span> <span class="title function_">rejectFn</span> = error =&gt; &#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">          <span class="keyword">const</span> x = <span class="title function_">onRejected</span>(error)</span><br><span class="line">          x <span class="keyword">instanceof</span> <span class="title class_">MyPromise</span> ? x.<span class="title function_">then</span>(resolve, reject) : <span class="title function_">resolve</span>(x)</span><br><span class="line">        &#125; <span class="keyword">catch</span> (error) &#123;</span><br><span class="line">          <span class="title function_">reject</span>(error)</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      <span class="keyword">switch</span> (<span class="variable language_">this</span>.<span class="property">_status</span>) &#123;</span><br><span class="line">        <span class="keyword">case</span> <span class="variable language_">this</span>.<span class="property">PENDING</span>:</span><br><span class="line">          <span class="variable language_">this</span>.<span class="property">_resolveQueue</span>.<span class="title function_">push</span>(resolveFn)</span><br><span class="line">          <span class="variable language_">this</span>.<span class="property">_rejectQueue</span>.<span class="title function_">push</span>(rejectFn)</span><br><span class="line">          <span class="keyword">break</span></span><br><span class="line">        <span class="keyword">case</span> <span class="variable language_">this</span>.<span class="property">FULFILLED</span>:</span><br><span class="line">          <span class="title function_">resolveFn</span>(<span class="variable language_">this</span>.<span class="property">_value</span>)</span><br><span class="line">          <span class="keyword">break</span></span><br><span class="line">        <span class="keyword">case</span> <span class="variable language_">this</span>.<span class="property">REJECTED</span>:</span><br><span class="line">          <span class="title function_">rejectFn</span>(<span class="variable language_">this</span>.<span class="property">_value</span>)</span><br><span class="line">          <span class="keyword">break</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">catch</span>(onRejected) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="title function_">then</span>(<span class="literal">null</span>, onRejected)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">finally</span>(<span class="params">callback</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="title function_">then</span>(<span class="function"><span class="params">value</span> =&gt;</span> <span class="title class_">MyPromise</span>.<span class="title function_">resolve</span>(<span class="title function_">callback</span>()).<span class="title function_">then</span>(<span class="function">() =&gt;</span> value), <span class="function"><span class="params">error</span> =&gt;</span> &#123;</span><br><span class="line">      <span class="title class_">MyPromise</span>.<span class="title function_">resolve</span>(<span class="title function_">callback</span>()).<span class="title function_">then</span>(<span class="function">() =&gt;</span> error)</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// é™æ€ resolve æ–¹æ³•</span></span><br><span class="line">  <span class="keyword">static</span> <span class="title function_">resolve</span>(<span class="params">value</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> value <span class="keyword">instanceof</span> <span class="title class_">MyPromise</span> ? value : <span class="keyword">new</span> <span class="title class_">MyPromise</span>(<span class="function"><span class="params">resolve</span> =&gt;</span> <span class="title function_">resolve</span>(value))</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// é™æ€ reject æ–¹æ³•</span></span><br><span class="line">  <span class="keyword">static</span> <span class="title function_">reject</span>(<span class="params">error</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">MyPromise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> <span class="title function_">reject</span>(error))</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// é™æ€ all æ–¹æ³•</span></span><br><span class="line">  <span class="keyword">static</span> <span class="title function_">all</span>(<span class="params">promiseArr</span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> count = <span class="number">0</span></span><br><span class="line">    <span class="keyword">let</span> result = []</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">MyPromise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">if</span> (!promiseArr.<span class="property">length</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="title function_">resolve</span>(result)</span><br><span class="line">      &#125;</span><br><span class="line">      promiseArr.<span class="title function_">forEach</span>(<span class="function">(<span class="params">p, i</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="title class_">MyPromise</span>.<span class="title function_">resolve</span>(p).<span class="title function_">then</span>(<span class="function"><span class="params">value</span> =&gt;</span> &#123;</span><br><span class="line">          count++</span><br><span class="line">          result[i] = value</span><br><span class="line">          <span class="keyword">if</span> (count === promiseArr.<span class="property">length</span>) &#123;</span><br><span class="line">            <span class="title function_">resolve</span>(result)</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;, <span class="function"><span class="params">error</span> =&gt;</span> &#123;</span><br><span class="line">          <span class="title function_">reject</span>(error)</span><br><span class="line">        &#125;)</span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// é™æ€ race æ–¹æ³•</span></span><br><span class="line">  <span class="keyword">static</span> <span class="title function_">race</span>(<span class="params">promiseArr</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">MyPromise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">      promiseArr.<span class="title function_">forEach</span>(<span class="function"><span class="params">p</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="title class_">MyPromise</span>.<span class="title function_">resolve</span>(p).<span class="title function_">then</span>(<span class="function"><span class="params">value</span> =&gt;</span> &#123;</span><br><span class="line">          <span class="title function_">resolve</span>(value)</span><br><span class="line">        &#125;, <span class="function"><span class="params">error</span> =&gt;</span> &#123;</span><br><span class="line">          <span class="title function_">reject</span>(error)</span><br><span class="line">        &#125;)</span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æµ‹è¯•</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">fn</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">MyPromise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="title class_">Math</span>.<span class="title function_">random</span>() &gt; <span class="number">0.5</span>) &#123;</span><br><span class="line">      <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">        <span class="title function_">resolve</span>(<span class="string">`resolve ***`</span>)</span><br><span class="line">      &#125;, <span class="number">500</span>)</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">        <span class="title function_">reject</span>(<span class="string">`reject ***`</span>)</span><br><span class="line">      &#125;, <span class="number">500</span>)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">fn</span>().<span class="title function_">then</span>(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;resolve value: &#x27;</span>, res)</span><br><span class="line">&#125;).<span class="title function_">catch</span>(<span class="function"><span class="params">err</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;reject value: &#x27;</span>, err)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h3 id="æ‰‹å†™-JSONP"><a href="#æ‰‹å†™-JSONP" class="headerlink" title="æ‰‹å†™ JSONP"></a>æ‰‹å†™ JSONP</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">jsonp</span>(<span class="params">url, params, callback</span>) &#123;</span><br><span class="line">  <span class="comment">// åˆ¤æ–­æ˜¯å¦å«æœ‰å‚æ•°</span></span><br><span class="line">  <span class="keyword">let</span> queryString = url.<span class="title function_">indexOf</span>(<span class="string">&#x27;?&#x27;</span>) === <span class="string">&#x27;-1&#x27;</span> ? <span class="string">&#x27;?&#x27;</span> : <span class="string">&#x27;&amp;&#x27;</span>;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// æ·»åŠ å‚æ•°</span></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">var</span> k <span class="keyword">in</span> params) &#123;</span><br><span class="line">    <span class="keyword">if</span> (params.<span class="title function_">hasOwnProperty</span>(k)) &#123;</span><br><span class="line">      queryString += k + <span class="string">&#x27;=&#x27;</span> + params[k] + <span class="string">&#x27;&amp;&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// å¤„ç†å›è°ƒå‡½æ•°å</span></span><br><span class="line">  <span class="keyword">let</span> random = <span class="title class_">Math</span>.<span class="title function_">random</span>().<span class="title function_">toString</span>().<span class="title function_">replace</span>(<span class="string">&#x27;.&#x27;</span>, <span class="string">&#x27;&#x27;</span>),</span><br><span class="line">    callbackName = <span class="string">&#x27;myJsonp&#x27;</span> + random;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// æ·»åŠ å›è°ƒå‡½æ•°</span></span><br><span class="line">  queryString += <span class="string">&#x27;callback=&#x27;</span> + callbackName;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// æ„å»ºè¯·æ±‚</span></span><br><span class="line">  <span class="keyword">let</span> scriptNode = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&#x27;script&#x27;</span>);</span><br><span class="line">  scriptNode.<span class="property">src</span> = url + queryString;</span><br><span class="line"></span><br><span class="line">  <span class="variable language_">window</span>[callbackName] = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="comment">// è°ƒç”¨å›è°ƒå‡½æ•°</span></span><br><span class="line">    <span class="title function_">callback</span>(...<span class="variable language_">arguments</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// åˆ é™¤è¿™ä¸ªå¼•å…¥çš„è„šæœ¬</span></span><br><span class="line">    <span class="variable language_">document</span>.<span class="title function_">getElementsByTagName</span>(<span class="string">&#x27;head&#x27;</span>)[<span class="number">0</span>].<span class="title function_">removeChild</span>(scriptNode);</span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// å‘èµ·è¯·æ±‚</span></span><br><span class="line">  <span class="variable language_">document</span>.<span class="title function_">getElementsByTagName</span>(<span class="string">&#x27;head&#x27;</span>)[<span class="number">0</span>].<span class="title function_">appendChild</span>(scriptNode);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="æ‰‹å†™è§‚å¯Ÿè€…æ¨¡å¼"><a href="#æ‰‹å†™è§‚å¯Ÿè€…æ¨¡å¼" class="headerlink" title="æ‰‹å†™è§‚å¯Ÿè€…æ¨¡å¼"></a>æ‰‹å†™è§‚å¯Ÿè€…æ¨¡å¼</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> events = (<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">var</span> topics = &#123;&#125;;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> &#123;</span><br><span class="line">    <span class="comment">// æ³¨å†Œç›‘å¬å‡½æ•°</span></span><br><span class="line">    <span class="attr">subscribe</span>: <span class="keyword">function</span> (<span class="params">topic, handler</span>) &#123;</span><br><span class="line">      <span class="keyword">if</span> (!topics.<span class="title function_">hasOwnProperty</span>(topic)) &#123;</span><br><span class="line">        topics[topic] = [];</span><br><span class="line">      &#125;</span><br><span class="line">      topics[topic].<span class="title function_">push</span>(handler);</span><br><span class="line">    &#125;,</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å‘å¸ƒäº‹ä»¶ï¼Œè§¦å‘è§‚å¯Ÿè€…å›è°ƒäº‹ä»¶</span></span><br><span class="line">    <span class="attr">publish</span>: <span class="keyword">function</span> (<span class="params">topic, info</span>) &#123;</span><br><span class="line">      <span class="keyword">if</span> (topics.<span class="title function_">hasOwnProperty</span>(topic)) &#123;</span><br><span class="line">        topics[topic].<span class="title function_">forEach</span>(<span class="keyword">function</span> (<span class="params">handler</span>) &#123;</span><br><span class="line">          <span class="title function_">handler</span>(info);</span><br><span class="line">        &#125;);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ç§»é™¤ä¸»é¢˜çš„ä¸€ä¸ªè§‚å¯Ÿè€…çš„å›è°ƒäº‹ä»¶</span></span><br><span class="line">    <span class="attr">remove</span>: <span class="keyword">function</span> (<span class="params">topic, handler</span>) &#123;</span><br><span class="line">      <span class="keyword">if</span> (!topics.<span class="title function_">hasOwnProperty</span>(topic)) <span class="keyword">return</span>;</span><br><span class="line"></span><br><span class="line">      <span class="keyword">var</span> handlerIndex = -<span class="number">1</span>;</span><br><span class="line">      topics[topic].<span class="title function_">forEach</span>(<span class="keyword">function</span> (<span class="params">item, index</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> (item === handler) &#123;</span><br><span class="line">          handlerIndex = index;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;);</span><br><span class="line"></span><br><span class="line">      <span class="keyword">if</span> (handlerIndex &gt;= <span class="number">0</span>) &#123;</span><br><span class="line">        topics[topic].<span class="title function_">splice</span>(handlerIndex, <span class="number">1</span>);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ç§»é™¤ä¸»é¢˜çš„æ‰€æœ‰è§‚å¯Ÿè€…çš„å›è°ƒäº‹ä»¶</span></span><br><span class="line">    <span class="attr">removeAll</span>: <span class="keyword">function</span> (<span class="params">topic</span>) &#123;</span><br><span class="line">      <span class="keyword">if</span> (topics.<span class="title function_">hasOwnProperty</span>(topic)) &#123;</span><br><span class="line">        topics[topic] = [];</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;)();</span><br></pre></td></tr></table></figure></div><div class="post-copyright-info-container border-box"><div class="copyright-info-content border-box"><div class="copyright-info-top border-box"><div class="copyright-post-title border-box text-ellipsis">å¸¸è€ƒçš„ JavaScript æ‰‹å†™é¢˜</div><div class="copyright-post-link border-box text-ellipsis">post/9b7700b386a6/</div></div><div class="copyright-info-bottom border-box"><div class="copyright-post-author bottom-item"><div class="type">Author</div><div class="content">XPoet</div></div><div class="post-time bottom-item"><div class="type">Published</div><div class="content">2022-01-06 20:59</div></div><div class="post-license bottom-item"><div class="type">License</div><div class="content tooltip" data-tooltip-content="CC BY-NC-SA 4.0"><a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed" target="_blank"><i class="fa-brands fa-creative-commons"></i> <i class="fa-brands fa-creative-commons-by"></i> <i class="fa-brands fa-creative-commons-nc"></i> <i class="fa-brands fa-creative-commons-sa"></i></a></div></div></div><i class="copyright-bg fa-solid fa-copyright"></i></div><div class="copy-copyright-info flex-center tooltip" data-tooltip-content="Copy copyright info" data-tooltip-offset-y="-2px"><i class="fa-solid fa-copy"></i></div></div><div class="post-bottom-tags-and-share border-box"><div><ul class="post-tags-box border-box"><li class="tag-item border-box"><i class="icon fas fa-hashtag"></i>&nbsp;<a href="/tags/JavaScript/">JavaScript</a></li></ul></div><div><div class="post-share-container border-box"><ul class="share-list-wrap border-box"><li class="qq share-item border-box flex-center tooltip" data-tooltip-content="Share to QQ"><i class="fa-brands fa-qq"></i></li><li class="wechat share-item border-box flex-center tooltip tooltip-img" data-tooltip-content="Share to WeChat" data-tooltip-img-tip="Scan by WeChat" data-tooltip-img-style="background-color: #fff; top: -10px; padding: 0.6rem 0.6rem 0.1rem 0.6rem;"><i class="fa-brands fa-weixin"></i></li><li class="weibo share-item border-box flex-center tooltip" data-tooltip-content="Share to WeiBo"><i class="fa-brands fa-weibo"></i></li></ul></div></div></div><div class="reward-author-container border-box flex-center"><div class="reward-btn border-box flex-center tooltip tooltip-img" data-tooltip-img-url="/images/admire-code.png" data-tooltip-img-trigger="click" data-tooltip-img-style="top: -6px;"><i class="fa-solid fa-gift"></i>&nbsp;REWARD AUTHOR</div></div><div class="post-nav border-box"><div class="prev-post"><a class="prev" rel="prev" href="/post/cbe58a2205e2/" title="JavaScript çš„å¹¶å‘æ¨¡å‹å’Œäº‹ä»¶å¾ªç¯"><span class="left arrow-icon flex-center"><i class="fas fa-chevron-left"></i> </span><span class="title flex-center"><span class="post-nav-title-item text-ellipsis">JavaScript çš„å¹¶å‘æ¨¡å‹å’Œäº‹ä»¶å¾ªç¯</span> <span class="post-nav-item">Prev posts</span></span></a></div><div class="next-post"><a class="next" rel="next" href="/post/a1ea44b079f7/" title="JavaScript çš„å†…å­˜ç®¡ç†"><span class="title flex-center"><span class="post-nav-title-item text-ellipsis">JavaScript çš„å†…å­˜ç®¡ç†</span> <span class="post-nav-item">Next posts</span> </span><span class="right arrow-icon flex-center"><i class="fas fa-chevron-right"></i></span></a></div></div><div class="comments-container border-box"><div id="comments-anchor" class="comment-area-title border-box"><i class="fas fa-comments"></i>&nbsp;Comments</div><div class="comment-plugin-fail border-box"><span class="fail-tip">Comment plugin failed to load</span> <button class="reload keep-button">Click to reload</button></div><div class="comment-plugin-loading flex-center border-box"><i class="loading-icon fa-solid fa-spinner fa-spin"></i> <span class="load-tip">Loading comment plugin</span></div><script data-pjax>window.KeepCommentPlugin={},window.KeepCommentPlugin.hideLoading=()=>{document.querySelector(".comments-container .comment-plugin-loading").style.display="none"},window.KeepCommentPlugin.loadFailHandle=()=>{window.KeepCommentPlugin.hideLoading();const e=document.querySelector(".comments-container .comment-plugin-fail");e.style.display="flex",e.querySelector(".reload").addEventListener("click",()=>{window.location.reload()})}</script><div class="waline-comment-container"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/waline/3.2.1/waline.css"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/waline/3.2.1/waline-meta.css"><div id="waline-comment"></div><script data-pjax>window.KeepCommentPlugin.walineOptions=JSON.parse("{}".replace(/&#34;/g,'"')),window.KeepCommentPlugin.walineOptions.el="#waline-comment",window.KeepCommentPlugin.walineOptions.comment=".post-comments-count",window.KeepCommentPlugin.walineOptions.serverURL="https://vercel-waline.xpoet.cn",window.KeepCommentPlugin.walineOptions.lang="en",window.KeepCommentPlugin.walineOptions.reaction=!0</script><script data-pjax async type="module">import{init}from"https://cdnjs.cloudflare.com/ajax/libs/waline/3.2.1/waline.js";window.KeepCommentPlugin.initWaline=()=>{init?(init(window.KeepCommentPlugin.walineOptions),window.KeepCommentPlugin.hideLoading()):setTimeout(()=>{window.KeepCommentPlugin.initWaline()},1e3)},setTimeout(()=>{window.KeepCommentPlugin.initWaline()},1200)</script></div></div></div></div><div class="pc-post-toc right-toc"><div class="post-toc-wrap border-box"><div class="post-toc border-box"><ol class="nav"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%89%8B%E5%86%99%E7%B1%BB%E5%9E%8B%E5%88%A4%E6%96%AD"><span class="nav-number">1.</span> <span class="nav-text">æ‰‹å†™ç±»å‹åˆ¤æ–­</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%89%8B%E5%86%99%E6%95%B0%E7%BB%84%E5%8E%BB%E9%87%8D"><span class="nav-number">2.</span> <span class="nav-text">æ‰‹å†™æ•°ç»„å»é‡</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%89%8B%E5%86%99-Ajax-%E7%9A%84-GET-%E6%96%B9%E6%B3%95"><span class="nav-number">3.</span> <span class="nav-text">æ‰‹å†™ Ajax çš„ GET æ–¹æ³•</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%89%8B%E5%86%99%E5%87%BD%E6%95%B0%E8%8A%82%E6%B5%81"><span class="nav-number">4.</span> <span class="nav-text">æ‰‹å†™å‡½æ•°èŠ‚æµ</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%89%8B%E5%86%99%E5%87%BD%E6%95%B0%E9%98%B2%E6%8A%96"><span class="nav-number">5.</span> <span class="nav-text">æ‰‹å†™å‡½æ•°é˜²æŠ–</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%89%8B%E5%86%99%E6%B7%B1%E6%B5%85%E6%8B%B7%E8%B4%9D"><span class="nav-number">6.</span> <span class="nav-text">æ‰‹å†™æ·±æµ…æ‹·è´</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%B5%85%E6%8B%B7%E8%B4%9D"><span class="nav-number">6.1.</span> <span class="nav-text">æµ…æ‹·è´</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%B7%B1%E6%8B%B7%E8%B4%9D"><span class="nav-number">6.2.</span> <span class="nav-text">æ·±æ‹·è´</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%89%8B%E5%86%99-call%E3%80%81apply-%E5%92%8C-bind-%E5%87%BD%E6%95%B0"><span class="nav-number">7.</span> <span class="nav-text">æ‰‹å†™ callã€apply å’Œ bind å‡½æ•°</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%89%8B%E5%86%99-call"><span class="nav-number">7.1.</span> <span class="nav-text">æ‰‹å†™ call</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%89%8B%E5%86%99-apply"><span class="nav-number">7.2.</span> <span class="nav-text">æ‰‹å†™ apply</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%89%8B%E5%86%99-bind"><span class="nav-number">7.3.</span> <span class="nav-text">æ‰‹å†™ bind</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%87%BD%E6%95%B0%E6%9F%AF%E9%87%8C%E5%8C%96"><span class="nav-number">8.</span> <span class="nav-text">å‡½æ•°æŸ¯é‡ŒåŒ–</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%89%8B%E5%86%99-EventBus"><span class="nav-number">9.</span> <span class="nav-text">æ‰‹å†™ EventBus</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%89%8B%E5%86%99-Promise"><span class="nav-number">10.</span> <span class="nav-text">æ‰‹å†™ Promise</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%89%8B%E5%86%99-JSONP"><span class="nav-number">11.</span> <span class="nav-text">æ‰‹å†™ JSONP</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%89%8B%E5%86%99%E8%A7%82%E5%AF%9F%E8%80%85%E6%A8%A1%E5%BC%8F"><span class="nav-number">12.</span> <span class="nav-text">æ‰‹å†™è§‚å¯Ÿè€…æ¨¡å¼</span></a></li></ol></div></div></div></div></div></div></div><div class="page-main-content-bottom border-box"><footer class="footer border-box"><div class="copyright-info info-item">&copy;&nbsp;<span>2020</span>&nbsp;-&nbsp;2024 &nbsp;<i class="fas fa-heart icon-animate"></i>&nbsp;&nbsp;<a href="/">XPoet</a></div><div class="theme-info info-item">Powered by&nbsp;<a target="_blank" href="https://hexo.io">Hexo</a>&nbsp;&&nbsp;Theme&nbsp;<a class="keep-version" target="_blank" href="https://github.com/XPoet/hexo-theme-keep">Keep</a></div><div class="deploy-info info-item"><a target="_blank" rel="nofollow" href="https://github.com/xpoet/xpoet.github.io">This site is deployed on <span class="tooltip" data-tooltip-content="GitHub Pages"><img src="/images/brands/github.png"></span></a></div><div class="count-info info-item"><span class="count-item border-box uv"><span class="item-type border-box">Unique Visitor</span> <span class="item-value border-box uv" id="busuanzi_value_site_uv"></span> </span><span class="count-item border-box pv"><span class="item-type border-box">Page View</span> <span class="item-value border-box pv" id="busuanzi_value_site_pv"></span></span></div></footer></div></div><div class="post-tools right-toc"><div class="post-tools-container border-box"><ul class="post-tools-list border-box"><li class="tools-item flex-center toggle-show-toc"><i class="fas fa-list"></i></li><li class="tools-item flex-center go-to-comments"><i class="fas fa-comment"></i> <span class="post-comments-count"></span></li><li class="tools-item flex-center full-screen"><i class="fa-solid fa-expand"></i></li></ul></div></div><div class="side-tools"><div class="side-tools-container border-box"><ul class="side-tools-list side-tools-show-handle border-box"><li class="tools-item tool-font-adjust-plus flex-center"><i class="fas fa-search-plus"></i></li><li class="tools-item tool-font-adjust-minus flex-center"><i class="fas fa-search-minus"></i></li><li class="tools-item tool-toggle-theme-mode flex-center"><i class="fas fa-moon"></i></li><li class="tools-item rss flex-center"><a class="flex-center" href="/atom.xml" target="_blank"><i class="fas fa-rss"></i></a></li><li class="tools-item tool-scroll-to-bottom flex-center"><i class="fas fa-arrow-down"></i></li></ul><ul class="exposed-tools-list border-box"><li class="tools-item toggle-show-toc-tablet flex-center"><i class="fas fa-list"></i></li><li class="tools-item go-to-comments-tablet flex-center"><i class="fas fa-comment"></i></li><li class="tools-item tool-toggle-show flex-center"><i class="fas fa-cog fa-spin"></i></li><li class="tools-item tool-scroll-to-top flex-center show-arrow"><i class="arrow fas fa-arrow-up"></i> <span class="percent"></span></li></ul></div></div><div class="zoom-in-image-mask"><img class="zoom-in-image"></div><div class="search-pop-overlay"><div class="popup search-popup"><div class="search-header"><span class="search-input-field-pre"><i class="fas fa-keyboard"></i></span><div class="search-input-container"><input autocomplete="off" autocorrect="off" autocapitalize="off" placeholder="Search..." spellcheck="false" type="search" class="search-input"></div><span class="close-popup-btn"><i class="fas fa-times"></i></span></div><div id="search-result"><div id="no-result"><i class="fas fa-spinner fa-pulse fa-5x fa-fw"></i></div></div></div></div><div class="tablet-post-toc-mask"><div class="tablet-post-toc"><div class="post-toc-wrap border-box"><div class="post-toc border-box"><ol class="nav"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%89%8B%E5%86%99%E7%B1%BB%E5%9E%8B%E5%88%A4%E6%96%AD"><span class="nav-number">1.</span> <span class="nav-text">æ‰‹å†™ç±»å‹åˆ¤æ–­</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%89%8B%E5%86%99%E6%95%B0%E7%BB%84%E5%8E%BB%E9%87%8D"><span class="nav-number">2.</span> <span class="nav-text">æ‰‹å†™æ•°ç»„å»é‡</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%89%8B%E5%86%99-Ajax-%E7%9A%84-GET-%E6%96%B9%E6%B3%95"><span class="nav-number">3.</span> <span class="nav-text">æ‰‹å†™ Ajax çš„ GET æ–¹æ³•</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%89%8B%E5%86%99%E5%87%BD%E6%95%B0%E8%8A%82%E6%B5%81"><span class="nav-number">4.</span> <span class="nav-text">æ‰‹å†™å‡½æ•°èŠ‚æµ</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%89%8B%E5%86%99%E5%87%BD%E6%95%B0%E9%98%B2%E6%8A%96"><span class="nav-number">5.</span> <span class="nav-text">æ‰‹å†™å‡½æ•°é˜²æŠ–</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%89%8B%E5%86%99%E6%B7%B1%E6%B5%85%E6%8B%B7%E8%B4%9D"><span class="nav-number">6.</span> <span class="nav-text">æ‰‹å†™æ·±æµ…æ‹·è´</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%B5%85%E6%8B%B7%E8%B4%9D"><span class="nav-number">6.1.</span> <span class="nav-text">æµ…æ‹·è´</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%B7%B1%E6%8B%B7%E8%B4%9D"><span class="nav-number">6.2.</span> <span class="nav-text">æ·±æ‹·è´</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%89%8B%E5%86%99-call%E3%80%81apply-%E5%92%8C-bind-%E5%87%BD%E6%95%B0"><span class="nav-number">7.</span> <span class="nav-text">æ‰‹å†™ callã€apply å’Œ bind å‡½æ•°</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%89%8B%E5%86%99-call"><span class="nav-number">7.1.</span> <span class="nav-text">æ‰‹å†™ call</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%89%8B%E5%86%99-apply"><span class="nav-number">7.2.</span> <span class="nav-text">æ‰‹å†™ apply</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%89%8B%E5%86%99-bind"><span class="nav-number">7.3.</span> <span class="nav-text">æ‰‹å†™ bind</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%87%BD%E6%95%B0%E6%9F%AF%E9%87%8C%E5%8C%96"><span class="nav-number">8.</span> <span class="nav-text">å‡½æ•°æŸ¯é‡ŒåŒ–</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%89%8B%E5%86%99-EventBus"><span class="nav-number">9.</span> <span class="nav-text">æ‰‹å†™ EventBus</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%89%8B%E5%86%99-Promise"><span class="nav-number">10.</span> <span class="nav-text">æ‰‹å†™ Promise</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%89%8B%E5%86%99-JSONP"><span class="nav-number">11.</span> <span class="nav-text">æ‰‹å†™ JSONP</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%89%8B%E5%86%99%E8%A7%82%E5%AF%9F%E8%80%85%E6%A8%A1%E5%BC%8F"><span class="nav-number">12.</span> <span class="nav-text">æ‰‹å†™è§‚å¯Ÿè€…æ¨¡å¼</span></a></li></ol></div></div></div></div></main><script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-theme-keep/4.2.5/js/utils.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-theme-keep/4.2.5/js/header-shrink.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-theme-keep/4.2.5/js/back2top.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-theme-keep/4.2.5/js/toggle-theme.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-theme-keep/4.2.5/js/code-block.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-theme-keep/4.2.5/js/main.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-theme-keep/4.2.5/js/libs/anime.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-theme-keep/4.2.5/js/local-search.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-theme-keep/4.2.5/js/lazyload.min.js"></script><div class="pjax"><script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-theme-keep/4.2.5/js/post/post-helper.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-theme-keep/4.2.5/js/post/toc.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-theme-keep/4.2.5/js/post/copyright-info.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-theme-keep/4.2.5/js/post/share.min.js"></script></div><script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-theme-keep/4.2.5/js/libs/pjax.min.js"></script><script>window.addEventListener("DOMContentLoaded",()=>{window.pjax=new Pjax({selectors:["head title",".page-container",".pjax"],history:!0,debug:!1,cacheBust:!1,timeout:0,analytics:!1,currentUrlFullReload:!1,scrollRestoration:!1}),document.addEventListener("pjax:send",()=>{KEEP.utils.pjaxProgressBarStart()}),document.addEventListener("pjax:complete",()=>{KEEP.utils.pjaxProgressBarEnd(),window.pjax.executeScripts(document.querySelectorAll("script[data-pjax], .pjax script")),KEEP.initExecute()})})</script></body></html>