<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"><meta name="keywords" content="XPoet"><meta name="description" content="XPoet&#39;s Blog"><meta name="author" content="XPoet"><title>å‰ç«¯å·¥ç¨‹åŒ–å…¥é—¨ | XPoet&#39;s Blog</title><link rel="stylesheet" href="/css/style.css"><link rel="shortcut icon" href="/images/avatar.png"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/hexo-theme-keep/4.2.5/font/css/fontawesome.min.css"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/hexo-theme-keep/4.2.5/font/css/regular.min.css"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/hexo-theme-keep/4.2.5/font/css/solid.min.css"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/hexo-theme-keep/4.2.5/font/css/brands.min.css"><link rel="stylesheet" href="/css/custom.css"><script class="keep-theme-configurations">const KEEP=window.KEEP||{};KEEP.hexo_config={hostname:"xpoet.cn",root:"/",language:"en",path:"search.json"},KEEP.theme_config={base_info:{primary_color:"#0066cc",title:"XPoet's Blog",author:"XPoet",avatar:"/images/avatar.png",logo:"/images/avatar.png",favicon:"/images/avatar.png"},menu:{home:"/",archives:"/archives",tags:"/tags",me:{children:[{about:"/about || fa-solid fa-user-graduate"},{links:"/links || fa-solid fa-link"},{tools:"/tools || fa-solid fa-tools"}]}},first_screen:{enable:!0,background_img:"/images/bg.svg",background_img_dark:"/images/bg2.svg",description:"é»„è‰²çš„æ£®æ—åˆ†å‡ºä¸¤æ¡è·¯ï¼Œæˆ‘é€‰æ‹©äººè¿¹æ›´å°‘çš„é‚£ä¸€æ¡ï¼Œä»æ­¤å†³å®šæˆ‘ä¸€ç”Ÿçš„é“è·¯ã€‚",hitokoto:!1},social_contact:{enable:!0,links:{github:"https://github.com/XPoet",weixin:"img | /images/fp/fp-qrcode.webp",qq:null,weibo:null,zhihu:null,twitter:null,x:null,facebook:null,email:"i@xpoet.cn"}},scroll:{progress_bar:!1,percent:!0,hide_header:!0},home:{announcement:null,category:!0,tag:!0,post_datetime:"updated"},post:{author_badge:{enable:!0,level_badge:!1,custom_badge:"è‡ªç”±ç¨‹åºçŒ¿"},word_count:{wordcount:!0,min2read:!0},datetime_format:"YYYY-MM-DD HH:mm:ss",copyright_info:!0,share:!0,reward:{enable:!0,img_link:"/images/admire-code.png",text:null}},code_block:{tools:{enable:!0,style:"default"},highlight_theme:"default"},toc:{enable:!0,number:!0,expand_all:!0,init_open:!0,layout:"right"},website_count:{busuanzi_count:{enable:!0,site_uv:!0,site_pv:!0,page_pv:!0}},local_search:{enable:!0,preload:!0},comment:{enable:!0,use:"waline",valine:{appid:"ih2nzG3ilVNdLgJK4kBXTjOq-gzGzoHsz",appkey:"gdf6tXXLBTLg9qpjS2y6Tbw7",server_urls:null,placeholder:"åæ§½ä¸€ä¸‹..."},gitalk:{github_id:null,github_admins:null,repository:null,client_id:null,client_secret:null,proxy:null},twikoo:{env_id:null,region:null,version:"1.6.36"},waline:{server_url:"https://vercel-waline.xpoet.cn",reaction:!0,version:"3.2.1"},giscus:{repo:"XPoet/xpoet.github.io",repo_id:"MDEwOlJlcG9zaXRvcnkzMjk0NzQ2NzM=",category:"Announcements",category_id:"DIC_kwDOE6Nicc4CZnkm",reactions_enabled:!0},artalk:{server:null},disqus:{shortname:null}},rss:{enable:!0},lazyload:{enable:!0},cdn:{enable:!0,provider:"cdnjs"},pjax:{enable:!0},footer:{since:2020,word_count:!1,site_deploy:{enable:!0,provider:"github",url:"https://github.com/xpoet/xpoet.github.io"},record:{enable:!1,list:[{code:null,link:null}]}},inject:{enable:!0,css:["/css/custom.css"],js:[null]},root:"",source_data:{links:[{title:"å®è—åšä¸»ä»¬"},{name:"ä¸çŸ¥åè‰ºæœ¯å®¶",link:"https://jinzhanqi.com/",description:"love artist, love code.",avatar:"https://s3.ax1x.com/2020/11/17/DVvkB4.jpg"},{name:"çˆ±Â·ç»®æ¢¦",link:"https://x.iqimeng.com/",description:"å­¦è€Œæ—¶ä¹ ä¹‹ ä¸äº¦è¯´ä¹",avatar:"https://x.iqimeng.com/images/avatar.jpg"},{name:"Keep learning",link:"https://blog.gooday.press",description:"çˆ±å¥½å­¦ä¹ ï¼Œä¸æ–­æå‡è‡ªæˆ‘",avatar:"https://cdn.statically.io/gh/cemonliu/blogpic@main/avatar.svg"},{name:"CitingNutria",link:"https://citingnutria.github.io/",description:"ã¾ã å¤¢ãŒã‚ã‚‹",avatar:"https://cdn.statically.io/gh/CitingNutria/image_hosting@master/avatar.jpg"},{name:"Xcbyao",link:"https://xcbyao.github.io/",description:"è¦ä¹ˆåº¸ä¿—ï¼Œè¦ä¹ˆå­¤ç‹¬ï¼",avatar:"https://xcbyao.github.io/images/avatar.png"},{name:"Ycr's Blog",link:"https://www.ycr10.cn/",description:"å–œæ¬¢ä½ çš„äººä¸€ç›´æœ‰ç©ºï¼Œä»€ä¹ˆéƒ½æ‡‚ï¼Œæ— æ‰€ä¸èƒ½ã€‚",avatar:"https://www.ycr10.cn/wp-content/uploads/2022/02/cropped-Ycr_logo.jpg"},{name:"å°é¾™çš„è·‹æ¶‰",link:"https://www.eduorg.ltd/",description:"ä½†è¡Œå¥½äº‹ï¼Œè«é—®å‰ç¨‹",avatar:"https://cdn.statically.io/gh/Xiaolong00/raines-photo@master/blog/favicon.42reb4izcgs0.png"},{name:"recovxy",link:"https://naiv.xyz/",description:"åœ¨äººç”Ÿçš„ä¸­é€”ï¼Œæˆ‘å‘ç°æˆ‘å·²ç»è¿·å¤±äº†æ­£è·¯ï¼Œèµ°è¿›äº†ä¸€åº§å¹½æš—æ£®æ—Â·Â·Â·Â·Â·Â·",avatar:"https://naiv.xyz/assets/blogImg/logo.jpg"},{name:"KAI'S NOTE",link:"https://kainote.top/",description:"ä¸‰å¤©æ‰“é±¼ (âŠ™ËâŠ™) ä¸¤å¤©æ™’ç½‘",avatar:"https://s2.loli.net/2022/01/09/UtbhxHv2IA8jqwZ.jpg"},{name:"xustudyxu",link:"https://frxcat.fun/",description:"ä¸€èµ·å­¦ä¹ ç¼–ç¨‹ï¼",avatar:"https://cdn.statically.io/gh/xustudyxu/image-hosting@master/20220627/mmexport1656324824543.124zxwkqyzlc.webp"},{name:"CalvinHaynes çš„åšå®¢",link:"https://blog.calvinhaynes.top/",description:"æ…¢æ…¢èµ°æ‰ä¼šå¿«",avatar:"https://cdn.statically.io/gh/CalvinHaynes/ImageHub@main/Icon/avatar.jpg"},{name:"ä¸€åº§æµ®å²›",link:"https://anlondon.cn/",description:"ğŸ¤ªæˆ‘çš„å°ç«™ğŸ¤ª",avatar:"https://anlondon.cn/images/logo_my.png"},{name:"æœ‰æ„æ ½èŠ±èŠ±æ»¡æ",link:"https://blog.hjroyal.top",description:"å¿ƒä¸­æœ‰å…‰ã€ç‚¹äº®ç”Ÿæ´»",avatar:"https://blog.hjroyal.top/img/profile.webp"},{name:"è£ 6 çš„åšå®¢",link:"http://rong6.cn/",description:"é’»ç ”ä¿¡æ¯æŠ€æœ¯çš„å±‘",avatar:"https://img2.huashi6.com/images/resource/u275992/2021/08/04/108889_59388969493.jpg?imageMogr2/quality/75/interlace/1/thumbnail/x1400/gravity/Center/crop/1400x1400/format/webp"},{name:"ç¨‹åºå‘˜å°æ˜",link:"https://mynamecoder.com",description:"ä¸€ä¸ªå¾ˆå°‘åŠ ç­çš„ç¨‹åºå‘˜",avatar:"https://mynamecoder.com/images/avatar.png"},{name:"å€šæ å¬é£",link:"https://iweek.eu.org/",description:"åå…«çº¿è¿ç»´çš„å·¥ä½œç¬”è®°ã€‚",avatar:"https://s1.vika.cn/space/2023/02/17/0c1c4a6b023b42f38aaf39d480206e26"},{name:"Ssk-wh`s Blog",link:"https://ssk-wh.github.io",avatar:"https://ssk-wh.github.io/images/logo.svg",description:"å‡å¦‚èµ°è¿äº†å‘¢"},{name:"XTZYJ ã®æŠ€æœ¯å°å±‹",link:"https://xtzyj.top/",description:"åŠæ³•æ€»æ¯”å›°éš¾å¤šã€‚",avatar:"https://xtzyj.top/favicon.ico"},{name:"ç¯ç«çš„åšå®¢",link:"https://blog.juniverse.top/",description:"ä¸è¦æ‡’æƒ°",avatar:"https://blog.juniverse.top/images/lights-logo.jpg"},{name:"ç»¯é çš„åšå®¢",link:"https://loli.fj.cn",description:"ä¸€åªçˆ±æŠ˜è…¾çš„ç»¯é ",avatar:"https://loli.fj.cn/dist/images/avatar.gif"}],icons:{"ç¨€åœŸæ˜é‡‘":{svg:'<svg t="1717059555650" class="icon" viewBox="0 0 1316 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2653" width="16" height="16"><path d="M643.181714 247.698286l154.916572-123.172572L643.181714 0.256 643.072 0l-154.660571 124.269714 154.660571 123.245715 0.109714 0.182857z m0 388.461714h0.109715l399.579428-315.245714-108.361143-87.04-291.218285 229.888h-0.146286l-0.109714 0.146285L351.817143 234.093714l-108.251429 87.04 399.433143 315.136 0.146286-0.146285z m-0.146285 215.552l0.146285-0.146286 534.893715-422.034285 108.397714 87.04-243.309714 192L643.145143 1024 10.422857 525.056 0 516.754286l108.251429-86.893715L643.035429 851.748571z" fill="#1E80FF" p-id="2654"></path></svg>',link:"https://juejin.cn/user/2700056291193374"}},tools:[{category:"AIGC",anchorId:"QUlHQw0"},{name:"ChatGPT",link:"https://chat.openai.com/",description:"OpenAI æ——ä¸‹ AI èŠå¤©å¯¹è¯å·¥å…·",image:"/images/tools/chatgpt.svg"},{name:"Gemini",link:"https://gemini.google.com/app",description:"Google æ——ä¸‹ AI èŠå¤©å¯¹è¯å·¥å…·",image:"/images/tools/gemini.svg"},{name:"Kimi",link:"https://kimi.moonshot.cn/",description:"å¸®ä½ çœ‹æ›´å¤§çš„ä¸–ç•Œ",image:"/images/tools/kimi.svg"},{name:"Copilot",link:"https://copilot.microsoft.com/",description:"å¾®è½¯æ——ä¸‹çš„æ—¥å¸¸ AI åŠ©æ‰‹",image:"/images/tools/copilot.png"},{name:"æ–‡å¿ƒä¸€è¨€",link:"https://yiyan.baidu.com/",description:"ç™¾åº¦æ——ä¸‹ AI èŠå¤©å¯¹è¯å·¥å…·",image:"/images/tools/wenxinyiyan.png"},{name:"é€šä¹‰åƒé—®",link:"https://tongyi.aliyun.com/qianwen/",description:"é˜¿é‡Œå·´å·´æ——ä¸‹ AI èŠå¤©å¯¹è¯å·¥å…·",image:"/images/tools/tongyiqianwen.svg"},{name:"è®¯é£æ˜Ÿç«",link:"https://xinghuo.xfyun.cn/",description:"ç§‘å¤§è®¯é£æ˜Ÿç«è®¤çŸ¥ AI å¤§æ¨¡å‹",image:"/images/tools/xinghuo.svg"},{name:"Midjourney",link:"https://www.midjourney.com/",description:"AI å›¾åƒå’Œæ’ç”»ç”Ÿæˆå·¥å…·",image:"/images/tools/midjourney.png"},{name:"Adobe Firefly",link:"https://firefly.adobe.com/",description:"Adobe æ¨å‡ºçš„ AI å›¾åƒç”Ÿæˆå’Œç¼–è¾‘å·¥å…·",image:"/images/tools/adobe-firefly.svg"},{name:"Stable Diffusion",link:"https://stability.ai/",description:"æœ€å¼ºå¼€æº AI ç»˜ç”»å·¥å…·",image:"/images/tools/stability.png"},{name:"Microsoft Designer",link:"https://designer.microsoft.com/home",description:"å¾®è½¯æ¨å‡ºçš„åœ¨çº¿è®¾è®¡æµ·æŠ¥å’Œå®£ä¼ å›¾å·¥å…·",image:"/images/tools/microsoft-designer.svg"},{name:"æ–‡å¿ƒä¸€æ ¼",link:"https://yige.baidu.com/",description:"ç™¾åº¦å‡ºå“çš„ AI ç»˜ç”»å·¥å…·",image:"/images/tools/wenxinyiyan.png"},{name:"AI Bot",link:"https://juejin.cn/bots",description:"ç¨€åœŸæ˜é‡‘ AI Bot å·¥å…·é›†åˆ",image:null},{category:"æŠ€æœ¯ç¤¾åŒº",anchorId:"JUU2JThBJTgwJUU2JTlDJUFGJUU3JUE0JUJFJUU1JThDJUJB14"},{name:"ç¨€åœŸæ˜é‡‘",link:"https://juejin.cn/",description:"ä¸€ä¸ªå¸®åŠ©å¼€å‘è€…æˆé•¿çš„ç¤¾åŒº",image:"/images/tools/juejin.svg"},{name:"V2EX",link:"https://www.v2ex.com/",description:"åˆ›æ„å·¥ä½œè€…ä»¬çš„ç¤¾åŒº",image:"/images/tools/v2ex.png"},{name:"æ€å¦",link:"https://segmentfault.com/",description:"ä¸­å›½é¢†å…ˆçš„å¼€å‘è€…æŠ€æœ¯ç¤¾åŒº",image:"/images/tools/segmentfault.svg"},{name:"åšå®¢å›­",link:"https://www.cnblogs.com/",description:"å¼€å‘è€…çš„ç½‘ä¸Šå®¶å›­",image:"/images/tools/cnblogs.png"},{name:"W2Solo",link:"https://w2solo.com/",description:"ä¸­æ–‡ç‹¬ç«‹å¼€å‘è€…ç¤¾åŒº",image:null},{name:"ç”µé¸­ç¤¾åŒº",link:"https://eleduck.com/",description:"ä¸“æ³¨è¿œç¨‹å·¥ä½œæ‹›è˜äº¤æµ",image:"/images/tools/dianyashequ.png"},{name:"StackOverflow",link:"https://stackoverflow.com/",description:"å…¨çƒæœ€å¤§çš„æŠ€æœ¯é—®ç­”ç¤¾åŒº",image:"/images/tools/stackoverflow.png"},{name:"å¼€æºä¸­å›½",link:"https://www.oschina.net/",description:"ç›®å‰å›½å†…æœ€å¤§çš„å¼€æºæŠ€æœ¯ç¤¾åŒº",image:"/images/tools/oschina.webp"},{name:"InfoQ",link:"https://www.infoq.cn/",description:"ä¸€ä¸ªå®è·µé©±åŠ¨çš„æŠ€æœ¯ç¤¾åŒºèµ„è®¯ç«™ç‚¹",image:"/images/tools/infoq.png"},{name:"51CTO",link:"https://www.51cto.com/",description:"ä¸­å›½é¢†å…ˆçš„ IT æŠ€æœ¯ç½‘ç«™",image:"/images/tools/51cto.webp"},{name:"CSDN",link:"https://www.csdn.net/",description:"ä¸­æ–‡æœ€å¤§çš„æŠ€æœ¯ç¤¾åŒº",image:"/images/tools/csdn.png"},{category:"éƒ¨ç½²æ‰˜ç®¡",anchorId:"JUU5JTgzJUE4JUU3JUJEJUIyJUU2JTg5JTk4JUU3JUFFJUEx26"},{name:"GitHub Pages",link:"https://pages.github.com/",description:"é€šè¿‡ GitHub æ‰˜ç®¡å’Œå‘å¸ƒçš„å…¬å…±ç½‘é¡µ",image:"/images/tools/github.svg"},{name:"Vercel",link:"https://vercel.com/",description:"Vercel's Frontend Cloud provides the developer experience and infrastructure to build, scale, and secure a faster, more personalized web.",image:"/images/tools/vercel.svg"},{name:"Cloudflare Pages",link:"https://developers.cloudflare.com/pages/",description:"Create full-stack applications that are instantly deployed to the Cloudflare global network.",image:"/images/tools/cloudflare.svg"},{name:"Netlify",link:"https://www.netlify.com/",description:"Netlify is the essential platform for the delivery of exceptional and dynamic web experiences, without limitations.",image:"/images/tools/netlify.svg"},{name:"Railway",link:"https://railway.app/",description:"Railway is the cloud for building, shipping, and monitoring applications.",image:"/images/tools/railway.svg"},{name:"Zeabur",link:"https://zeabur.com",description:"Say goodbye to deployment hassles. With Zeabur, bring your coding genius to life swiftly and smoothly.",image:"/images/tools/zeabur.png"}]},version:"4.2.5"},KEEP.language_ago={second:"%s seconds ago",minute:"%s minutes ago",hour:"%s hours ago",day:"%s days ago",week:"%s weeks ago",month:"%s months ago",year:"%s years ago"},KEEP.language_code_block={copy:"Copy code",copied:"Copied",fold:"Fold code block",folded:"Folded"},KEEP.language_copy_copyright={copy:"Copy copyright info",copied:"Copied",title:"Original post title",author:"Original post author",link:"Original post link"}</script><meta name="generator" content="Hexo 6.3.0"><link rel="alternate" href="/atom.xml" title="XPoet's Blog" type="application/atom+xml">
</head><body><div class="progress-bar-container"><span class="pjax-progress-bar"></span> <i class="pjax-progress-icon fas fa-circle-notch fa-spin"></i></div><main class="page-container border-box"><div class="page-main-content border-box"><div class="page-main-content-top"><header class="header-wrapper"><div class="border-box header-content"><div class="left flex-start border-box"><a class="logo-image border-box" href="/"><img src="/images/avatar.png"> </a><a class="site-name border-box" href="/">XPoet&#39;s Blog</a></div><div class="right border-box"><div class="pc border-box"><ul class="menu-list border-box"><li class="menu-item flex-start border-box"><a class="menu-text-color border-box" href="/">HOME</a></li><li class="menu-item flex-start border-box"><a class="menu-text-color border-box" href="/archives">ARCHIVES</a></li><li class="menu-item flex-start border-box"><a class="menu-text-color border-box" href="/tags">TAGS</a></li><li class="menu-item flex-start border-box has-sub-menu"><a class="menu-text-color border-box" href="javascript:void(0);">ME <i class="menu-text-color collapse-icon fa-solid fa-angle-down"></i></a><ul class="sub-menu-list border-box"><li class="sub-menu-item border-box"><a class="menu-text-color border-box flex-start" href="/about"><i class="menu-text-color sub-menu-icon fa-solid fa-user-graduate"></i> ABOUT</a></li><li class="sub-menu-item border-box"><a class="menu-text-color border-box flex-start" href="/links"><i class="menu-text-color sub-menu-icon fa-solid fa-link"></i> LINKS</a></li><li class="sub-menu-item border-box"><a class="menu-text-color border-box flex-start" href="/tools"><i class="menu-text-color sub-menu-icon fa-solid fa-tools"></i> TOOLS</a></li></ul></li><li class="menu-item search search-popup-trigger"><i class="menu-text-color fas search fa-search"></i></li></ul></div><div class="mobile border-box flex-start"><div class="icon-item search search-popup-trigger"><i class="fas fa-search"></i></div><div class="icon-item menu-bar"><div class="menu-bar-middle"></div></div></div></div></div><div class="header-drawer"><ul class="drawer-menu-list border-box"><li class="drawer-menu-item border-box not-sub-menu"><label class="drawer-menu-label border-box"><a class="drawer-menu-text-color left-side flex-start border-box" href="/">HOME</a></label></li><li class="drawer-menu-item border-box not-sub-menu"><label class="drawer-menu-label border-box"><a class="drawer-menu-text-color left-side flex-start border-box" href="/archives">ARCHIVES</a></label></li><li class="drawer-menu-item border-box not-sub-menu"><label class="drawer-menu-label border-box"><a class="drawer-menu-text-color left-side flex-start border-box" href="/tags">TAGS</a></label></li><li class="drawer-menu-item border-box has-sub-menu"><label class="drawer-menu-label border-box"><a class="drawer-menu-text-color left-side flex-start border-box" href="javascript:void(0);">ME </a><i class="right-side collapse-icon fa-solid fa-angle-left"></i></label><ul class="drawer-sub-menu-list border-box"><li class="sub-menu-item border-box"><a class="drawer-menu-text-color border-box flex-start" href="/about"><span class="sub-menu-icon-wrap border-box flex-center"><i class="drawer-menu-text-color sub-menu-icon fa-solid fa-user-graduate"></i> </span>ABOUT</a></li><li class="sub-menu-item border-box"><a class="drawer-menu-text-color border-box flex-start" href="/links"><span class="sub-menu-icon-wrap border-box flex-center"><i class="drawer-menu-text-color sub-menu-icon fa-solid fa-link"></i> </span>LINKS</a></li><li class="sub-menu-item border-box"><a class="drawer-menu-text-color border-box flex-start" href="/tools"><span class="sub-menu-icon-wrap border-box flex-center"><i class="drawer-menu-text-color sub-menu-icon fa-solid fa-tools"></i> </span>TOOLS</a></li></ul></li></ul></div><div class="window-mask"></div></header></div><div class="page-main-content-middle border-box"><div class="main-content border-box"><div class="fade-in-down-animation"><div class="post-page-container border-box"><div class="post-content-container border-box"><div class="post-content-bottom border-box"><div class="post-title">å‰ç«¯å·¥ç¨‹åŒ–å…¥é—¨</div><div class="post-header border-box"><div class="avatar-box border-box"><img src="/images/avatar.png"></div><div class="info-box"><div class="author border-box"><span class="name">XPoet</span> <span class="author-badge">è‡ªç”±ç¨‹åºçŒ¿</span></div><div class="meta-info border-box"><div class="post-meta-info-container border-box post"><div class="post-meta-info border-box"><span class="meta-info-item post-create-date"><i class="icon fa-solid fa-calendar-plus"></i>&nbsp; <span class="datetime">2021-03-16 18:20:16</span> </span><span class="meta-info-item post-update-date"><i class="icon fa-solid fa-file-pen"></i>&nbsp; <span class="datetime" data-updated="Fri Dec 01 2023 07:47:53 GMT+0000">2023-12-01 15:47:53</span> </span><span class="meta-info-item post-category border-box"><i class="icon fas fa-folder"></i>&nbsp;<ul class="post-category-ul"><li class="category-item"><a href="/categories/%E5%89%8D%E7%AB%AF/">å‰ç«¯</a></li></ul></span><span class="post-tag meta-info-item border-box"><ul class="post-tag-ul"><li class="tag-item"><span class="tag-separator"><i class="icon fas fa-hashtag"></i></span><a href="/tags/%E5%89%8D%E7%AB%AF%E5%B7%A5%E7%A8%8B%E5%8C%96/">å‰ç«¯å·¥ç¨‹åŒ–</a></li></ul></span><span class="meta-info-item post-wordcount"><i class="icon fas fa-file-word"></i>&nbsp;<span>9.2k Words</span> </span><span class="meta-info-item post-min2read"><i class="icon fas fa-clock"></i>&nbsp;<span>35 Mins</span> </span><span class="meta-info-item post-pv"><i class="icon fas fa-eye"></i>&nbsp;<span id="busuanzi_value_page_pv"></span></span></div></div></div></div></div><div class="post-content keep-markdown-body"><p>æœ¬æ–‡å¸¦ä½ å…¥é—¨å‰ç«¯å·¥ç¨‹åŒ–ï¼Œåˆ†ä¸º 7 ä¸ªå°èŠ‚è®²è§£ï¼š</p><ul><li>æŠ€æœ¯é€‰å‹</li><li>ç»Ÿä¸€è§„èŒƒ</li><li>æµ‹è¯•</li><li>éƒ¨ç½²</li><li>ç›‘æ§</li><li>æ€§èƒ½ä¼˜åŒ–</li><li>é‡æ„</li></ul><h2 id="æŠ€æœ¯é€‰å‹"><a href="#æŠ€æœ¯é€‰å‹" class="headerlink" title="æŠ€æœ¯é€‰å‹"></a>æŠ€æœ¯é€‰å‹</h2><p>å¯¹äºå‰ç«¯å·¥ç¨‹å¸ˆæ¥è¯´ï¼ŒæŠ€æœ¯é€‰å‹æŒºç®€å•çš„ï¼Œå°±æ˜¯åšé€‰æ‹©é¢˜ï¼Œä¸‰å¤§æ¡†æ¶ä¸­é€‰ä¸€ä¸ªã€‚ä¸ªäººè®¤ä¸ºå¯ä»¥ä¾æ®ä»¥ä¸‹ä¸¤ä¸ªç‰¹ç‚¹æ¥é€‰ï¼š</p><ol><li>é€‰ä½ æˆ–å›¢é˜Ÿæœ€ç†Ÿçš„ï¼Œä¿è¯åœ¨é‡åˆ°æ£˜æ‰‹çš„é—®é¢˜æ—¶æœ‰äººèƒ½å¡«å‘ã€‚</li><li>é€‰å¸‚åœºå æœ‰ç‡é«˜çš„ã€‚æ¢å¥è¯è¯´ï¼Œå°±æ˜¯é€‰å¥½æ‹›äººçš„ã€‚</li></ol><p>ç¬¬äºŒç‚¹å¯¹äºå°å…¬å¸æ¥è¯´ï¼Œç‰¹åˆ«é‡è¦ã€‚æœ¬æ¥å°å…¬å¸å°±ä¸å¥½æ‹›äººï¼Œè¦æ˜¯è¿˜é€‰ä¸€ä¸ªå¸‚åœºå æœ‰ç‡ä¸é«˜çš„æ¡†æ¶ï¼ˆä¾‹å¦‚ Angularï¼‰ï¼Œç®€å†ä½ éƒ½çœ‹ä¸åˆ°å‡ ä¸ªâ€¦</p><p><img lazyload alt="image" data-src="https://cdn.statically.io/gh/XPoet/image-hosting@master/%E5%89%8D%E7%AB%AF%E5%B7%A5%E7%A8%8B%E5%8C%96/image.epcwhdte5js.png" alt="image"></p><p><img lazyload alt="image" data-src="https://cdn.statically.io/gh/XPoet/image-hosting@master/%E5%89%8D%E7%AB%AF%E5%B7%A5%E7%A8%8B%E5%8C%96/image.epcwhdte5js.png" alt="image"></p><p>UI ç»„ä»¶åº“æ›´ç®€å•ï¼Œgithub ä¸Šå“ªä¸ª star å¤šå°±ç”¨å“ªä¸ªã€‚star å¤šï¼Œè¯´æ˜ç”¨çš„äººå°±å¤šï¼Œå¾ˆå¤šå‘åˆ«äººéƒ½æ›¿ä½ è¸©è¿‡äº†ï¼Œçœäº‹ã€‚</p><h2 id="ç»Ÿä¸€è§„èŒƒ"><a href="#ç»Ÿä¸€è§„èŒƒ" class="headerlink" title="ç»Ÿä¸€è§„èŒƒ"></a>ç»Ÿä¸€è§„èŒƒ</h2><h3 id="ä»£ç è§„èŒƒ"><a href="#ä»£ç è§„èŒƒ" class="headerlink" title="ä»£ç è§„èŒƒ"></a>ä»£ç è§„èŒƒ</h3><p>å…ˆæ¥çœ‹çœ‹ç»Ÿä¸€ä»£ç è§„èŒƒçš„å¥½å¤„ï¼š</p><ul><li>è§„èŒƒçš„ä»£ç å¯ä»¥ä¿ƒè¿›å›¢é˜Ÿåˆä½œ</li><li>è§„èŒƒçš„ä»£ç å¯ä»¥é™ä½ç»´æŠ¤æˆæœ¬</li><li>è§„èŒƒçš„ä»£ç æœ‰åŠ©äº code reviewï¼ˆä»£ç å®¡æŸ¥ï¼‰</li><li>å…»æˆä»£ç è§„èŒƒçš„ä¹ æƒ¯ï¼Œæœ‰åŠ©äºç¨‹åºå‘˜è‡ªèº«çš„æˆé•¿</li></ul><p>å½“å›¢é˜Ÿçš„æˆå‘˜éƒ½ä¸¥æ ¼æŒ‰ç…§ä»£ç è§„èŒƒæ¥å†™ä»£ç æ—¶ï¼Œå¯ä»¥ä¿è¯æ¯ä¸ªäººçš„ä»£ç çœ‹èµ·æ¥éƒ½åƒæ˜¯ä¸€ä¸ªäººå†™çš„ï¼Œçœ‹åˆ«äººçš„ä»£ç å°±åƒæ˜¯åœ¨çœ‹è‡ªå·±çš„ä»£ç ã€‚æ›´é‡è¦çš„æ˜¯æˆ‘ä»¬èƒ½å¤Ÿè®¤è¯†åˆ°è§„èŒƒçš„é‡è¦æ€§ï¼Œå¹¶åšæŒè§„èŒƒçš„å¼€å‘ä¹ æƒ¯ã€‚</p><h4 id="å¦‚ä½•åˆ¶è®¢ä»£ç è§„èŒƒ"><a href="#å¦‚ä½•åˆ¶è®¢ä»£ç è§„èŒƒ" class="headerlink" title="å¦‚ä½•åˆ¶è®¢ä»£ç è§„èŒƒ"></a>å¦‚ä½•åˆ¶è®¢ä»£ç è§„èŒƒ</h4><p>å»ºè®®æ‰¾ä¸€ä»½å¥½çš„ä»£ç è§„èŒƒï¼Œåœ¨æ­¤åŸºç¡€ä¸Šç»“åˆå›¢é˜Ÿçš„éœ€æ±‚ä½œä¸ªæ€§åŒ–ä¿®æ”¹ã€‚</p><p>ä¸‹é¢åˆ—ä¸¾ä¸€äº› star è¾ƒå¤šçš„ js ä»£ç è§„èŒƒï¼š</p><ul><li><a class="link" target="_blank" rel="noopener" href="https://github.com/airbnb/javascript">airbnbï¼ˆè‹±æ–‡ç‰ˆï¼‰<i class="fas fa-external-link-alt"></i></a></li><li><a class="link" target="_blank" rel="noopener" href="https://github.com/lin-123/javascript">airbnbï¼ˆä¸­æ–‡ç‰ˆï¼‰<i class="fas fa-external-link-alt"></i></a></li><li><a class="link" target="_blank" rel="noopener" href="https://github.com/standard/standard/blob/master/docs/README-zhcn.md">standard (ä¸­æ–‡ç‰ˆ) <i class="fas fa-external-link-alt"></i></a></li><li><a class="link" target="_blank" rel="noopener" href="https://github.com/ecomfe/spec">ç™¾åº¦å‰ç«¯ç¼–ç è§„èŒƒ<i class="fas fa-external-link-alt"></i></a></li></ul><p>CSS ä»£ç è§„èŒƒä¹Ÿæœ‰ä¸å°‘ï¼Œä¾‹å¦‚ï¼š</p><ul><li><a class="link" target="_blank" rel="noopener" href="https://github.com/fex-team/styleguide/blob/master/css.md">styleguide<i class="fas fa-external-link-alt"></i></a></li><li><a class="link" target="_blank" rel="noopener" href="https://github.com/ecomfe/spec/blob/master/css-style-guide.md">spec<i class="fas fa-external-link-alt"></i></a></li></ul><h4 id="å¦‚ä½•æ£€æŸ¥ä»£ç è§„èŒƒ"><a href="#å¦‚ä½•æ£€æŸ¥ä»£ç è§„èŒƒ" class="headerlink" title="å¦‚ä½•æ£€æŸ¥ä»£ç è§„èŒƒ"></a>å¦‚ä½•æ£€æŸ¥ä»£ç è§„èŒƒ</h4><p>ä½¿ç”¨ eslint å¯ä»¥æ£€æŸ¥ä»£ç ç¬¦ä¸ç¬¦åˆå›¢é˜Ÿåˆ¶è®¢çš„è§„èŒƒï¼Œä¸‹é¢æ¥çœ‹ä¸€ä¸‹å¦‚ä½•é…ç½® eslint æ¥æ£€æŸ¥ä»£ç ã€‚</p><ol><li>ä¸‹è½½ä¾èµ–</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">// eslint-config-airbnb-base ä½¿ç”¨ airbnb ä»£ç è§„èŒƒ</span><br><span class="line">npm i -D babel-eslint eslint eslint-config-airbnb-base eslint-plugin-import</span><br></pre></td></tr></table></figure><ol><li>é…ç½® .eslintrc æ–‡ä»¶</li></ol><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;parserOptions&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;ecmaVersion&quot;</span><span class="punctuation">:</span> <span class="number">2019</span></span><br><span class="line">  <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;env&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;es6&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span></span><br><span class="line">  <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;parser&quot;</span><span class="punctuation">:</span> <span class="string">&quot;babel-eslint&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;extends&quot;</span><span class="punctuation">:</span> <span class="string">&quot;airbnb-base&quot;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><ol><li>åœ¨ <code>package.json</code> çš„ <code>scripts</code> åŠ ä¸Šè¿™è¡Œä»£ç  <code>&quot;lint&quot;: &quot;eslint --ext .js test/ src/&quot;</code>ã€‚ç„¶åæ‰§è¡Œ <code>npm run lint</code> å³å¯å¼€å§‹éªŒè¯ä»£ç ã€‚ä»£ç ä¸­çš„ <code>test/ src/</code> æ˜¯æŒ‡ä½ è¦è¿›è¡Œæ ¡éªŒçš„ä»£ç ç›®å½•ï¼Œè¿™é‡ŒæŒ‡æ˜äº†è¦æ£€æŸ¥ <code>test</code>ã€<code>src</code> ç›®å½•ä¸‹çš„ä»£ç ã€‚</li></ol><p>ä¸è¿‡è¿™æ ·æ£€æŸ¥ä»£ç æ•ˆç‡å¤ªä½ï¼Œæ¯æ¬¡éƒ½å¾—æ‰‹åŠ¨æ£€æŸ¥ã€‚å¹¶ä¸”æŠ¥é”™äº†è¿˜å¾—æ‰‹åŠ¨ä¿®æ”¹ä»£ç ã€‚</p><p>ä¸ºäº†æ”¹å–„ä»¥ä¸Šç¼ºç‚¹ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ VSCodeã€‚ä½¿ç”¨å®ƒå¹¶åŠ ä¸Šé€‚å½“çš„é…ç½®å¯ä»¥åœ¨æ¯æ¬¡ä¿å­˜ä»£ç çš„æ—¶å€™ï¼Œè‡ªåŠ¨éªŒè¯ä»£ç å¹¶è¿›è¡Œæ ¼å¼åŒ–ï¼Œçœå»äº†åŠ¨æ‰‹çš„éº»çƒ¦ã€‚</p><p>css æ£€æŸ¥ä»£ç è§„èŒƒåˆ™ä½¿ç”¨ <code>stylelint</code> æ’ä»¶ã€‚</p><p>ç”±äºç¯‡å¹…æœ‰é™ï¼Œå…·ä½“å¦‚ä½•é…ç½®è¯·çœ‹æˆ‘çš„å¦ä¸€ç¯‡æ–‡ç«  <a class="link" target="_blank" rel="noopener" href="https://juejin.cn/post/6892000216020189198/">ESlint + stylelint + VSCode è‡ªåŠ¨æ ¼å¼åŒ–ä»£ç  (2020)<i class="fas fa-external-link-alt"></i></a>ã€‚</p><p><img lazyload alt="image" data-src="https://cdn.statically.io/gh/XPoet/image-hosting@master/%E5%89%8D%E7%AB%AF%E5%B7%A5%E7%A8%8B%E5%8C%96/fe.1yceth8ay01s.gif" alt="fe"></p><h3 id="git-è§„èŒƒ"><a href="#git-è§„èŒƒ" class="headerlink" title="git è§„èŒƒ"></a>git è§„èŒƒ</h3><p>git è§„èŒƒåŒ…æ‹¬ä¸¤ç‚¹ï¼šåˆ†æ”¯ç®¡ç†è§„èŒƒã€git commit è§„èŒƒã€‚</p><h4 id="åˆ†æ”¯ç®¡ç†è§„èŒƒ"><a href="#åˆ†æ”¯ç®¡ç†è§„èŒƒ" class="headerlink" title="åˆ†æ”¯ç®¡ç†è§„èŒƒ"></a>åˆ†æ”¯ç®¡ç†è§„èŒƒ</h4><p>ä¸€èˆ¬é¡¹ç›®åˆ†ä¸»åˆ†æ”¯ï¼ˆmasterï¼‰å’Œå…¶ä»–åˆ†æ”¯ã€‚<br>å½“æœ‰å›¢é˜Ÿæˆå‘˜è¦å¼€å‘æ–°åŠŸèƒ½æˆ–æ”¹ BUG æ—¶ï¼Œå°±ä» master åˆ†æ”¯å¼€ä¸€ä¸ªæ–°çš„åˆ†æ”¯ã€‚ä¾‹å¦‚é¡¹ç›®è¦ä»å®¢æˆ·ç«¯æ¸²æŸ“æ”¹æˆæœåŠ¡ç«¯æ¸²æŸ“ï¼Œå°±å¼€ä¸€ä¸ªåˆ†æ”¯å« ssrï¼Œå¼€å‘å®Œäº†å†åˆå¹¶å› master åˆ†æ”¯ã€‚<br>å¦‚æœæ”¹ä¸€ä¸ª BUGï¼Œä¹Ÿå¯ä»¥ä» master åˆ†æ”¯å¼€ä¸€ä¸ªæ–°åˆ†æ”¯ï¼Œå¹¶ç”¨ BUG å·å‘½åï¼ˆä¸è¿‡æˆ‘ä»¬å°å›¢é˜Ÿå«Œéº»çƒ¦ï¼Œæ²¡è¿™æ ·åšï¼Œé™¤éæœ‰ç‰¹åˆ«å¤§çš„ BUGï¼‰ã€‚</p><h4 id="git-commit-è§„èŒƒ"><a href="#git-commit-è§„èŒƒ" class="headerlink" title="git commit è§„èŒƒ"></a>git commit è§„èŒƒ</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;type&gt;(&lt;scope&gt;): &lt;subject&gt;</span><br><span class="line">&lt;BLANK LINE&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;BLANK LINE&gt;</span><br><span class="line">&lt;footer&gt;</span><br></pre></td></tr></table></figure><p>å¤§è‡´åˆ†ä¸ºä¸‰ä¸ªéƒ¨åˆ† (ä½¿ç”¨ç©ºè¡Œåˆ†å‰²):</p><ul><li>æ ‡é¢˜è¡Œï¼šå¿…å¡«ï¼Œæè¿°ä¸»è¦ä¿®æ”¹ç±»å‹å’Œå†…å®¹</li><li>ä¸»é¢˜å†…å®¹ï¼šæè¿°ä¸ºä»€ä¹ˆä¿®æ”¹ï¼Œåšäº†ä»€ä¹ˆæ ·çš„ä¿®æ”¹ï¼Œä»¥åŠå¼€å‘çš„æ€è·¯ç­‰ç­‰</li><li>é¡µè„šæ³¨é‡Šï¼šå¯ä»¥å†™æ³¨é‡Šï¼ŒBUG å·é“¾æ¥</li></ul><h4 id="type-commit-çš„ç±»å‹"><a href="#type-commit-çš„ç±»å‹" class="headerlink" title="type: commit çš„ç±»å‹"></a>type: commit çš„ç±»å‹</h4><ul><li>feat: æ–°åŠŸèƒ½ã€æ–°ç‰¹æ€§</li><li>fix: ä¿®æ”¹ bug</li><li>perf: æ›´æ”¹ä»£ç ï¼Œä»¥æé«˜æ€§èƒ½</li><li>refactor: ä»£ç é‡æ„ï¼ˆé‡æ„ï¼Œåœ¨ä¸å½±å“ä»£ç å†…éƒ¨è¡Œä¸ºã€åŠŸèƒ½ä¸‹çš„ä»£ç ä¿®æ”¹ï¼‰</li><li>docs: æ–‡æ¡£ä¿®æ”¹</li><li>style: ä»£ç æ ¼å¼ä¿®æ”¹ï¼Œæ³¨æ„ä¸æ˜¯ css ä¿®æ”¹ï¼ˆä¾‹å¦‚åˆ†å·ä¿®æ”¹ï¼‰</li><li>test: æµ‹è¯•ç”¨ä¾‹æ–°å¢ã€ä¿®æ”¹</li><li>build: å½±å“é¡¹ç›®æ„å»ºæˆ–ä¾èµ–é¡¹ä¿®æ”¹</li><li>revert: æ¢å¤ä¸Šä¸€æ¬¡æäº¤</li><li>ci: æŒç»­é›†æˆç›¸å…³æ–‡ä»¶ä¿®æ”¹</li><li>chore: å…¶ä»–ä¿®æ”¹ï¼ˆä¸åœ¨ä¸Šè¿°ç±»å‹ä¸­çš„ä¿®æ”¹ï¼‰</li><li>release: å‘å¸ƒæ–°ç‰ˆæœ¬</li><li>workflow: å·¥ä½œæµç›¸å…³æ–‡ä»¶ä¿®æ”¹</li></ul><ol><li>scope: commit å½±å“çš„èŒƒå›´ï¼Œæ¯”å¦‚ï¼šroute, component, utils, buildâ€¦</li><li>subject: commit çš„æ¦‚è¿°</li><li>body: commit å…·ä½“ä¿®æ”¹å†…å®¹ï¼Œå¯ä»¥åˆ†ä¸ºå¤šè¡Œã€‚</li><li>footer: ä¸€äº›å¤‡æ³¨ï¼Œé€šå¸¸æ˜¯ BREAKING CHANGE æˆ–ä¿®å¤çš„ bug çš„é“¾æ¥ã€‚</li></ol><p>ç¤ºä¾‹ï¼š</p><ul><li><p>fixï¼ˆä¿®å¤ BUGï¼‰</p><p>å¦‚æœä¿®å¤çš„è¿™ä¸ª BUG åªå½±å“å½“å‰ä¿®æ”¹çš„æ–‡ä»¶ï¼Œå¯ä¸åŠ èŒƒå›´ã€‚å¦‚æœå½±å“çš„èŒƒå›´æ¯”è¾ƒå¤§ï¼Œè¦åŠ ä¸ŠèŒƒå›´æè¿°ã€‚</p><p>ä¾‹å¦‚è¿™æ¬¡ BUG ä¿®å¤å½±å“åˆ°å…¨å±€ï¼Œå¯ä»¥åŠ ä¸ª globalã€‚å¦‚æœå½±å“çš„æ˜¯æŸä¸ªç›®å½•æˆ–æŸä¸ªåŠŸèƒ½ï¼Œå¯ä»¥åŠ ä¸Šè¯¥ç›®å½•çš„è·¯å¾„ï¼Œæˆ–è€…å¯¹åº”çš„åŠŸèƒ½åç§°ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">// ç¤ºä¾‹ 1</span><br><span class="line">fix(global): ä¿®å¤ checkbox ä¸èƒ½å¤é€‰çš„é—®é¢˜</span><br><span class="line"></span><br><span class="line">// ç¤ºä¾‹ 2 ä¸‹é¢åœ†æ‹¬å·é‡Œçš„ common ä¸ºé€šç”¨ç®¡ç†çš„åç§°</span><br><span class="line">fix(common): ä¿®å¤å­—ä½“è¿‡å°çš„ BUGï¼Œå°†é€šç”¨ç®¡ç†ä¸‹æ‰€æœ‰é¡µé¢çš„é»˜è®¤å­—ä½“å¤§å°ä¿®æ”¹ä¸º 14px</span><br><span class="line"></span><br><span class="line">// ç¤ºä¾‹ 3</span><br><span class="line">fix: value.length -&gt; values.length</span><br></pre></td></tr></table></figure></li><li><p>featï¼ˆæ·»åŠ æ–°åŠŸèƒ½æˆ–æ–°é¡µé¢ï¼‰</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">feat: æ·»åŠ ç½‘ç«™ä¸»é¡µé™æ€é¡µé¢</span><br><span class="line"></span><br><span class="line">è¿™æ˜¯ä¸€ä¸ªç¤ºä¾‹ï¼Œå‡è®¾å¯¹ç‚¹æ£€ä»»åŠ¡é™æ€é¡µé¢è¿›è¡Œäº†ä¸€äº›æè¿°ã€‚</span><br><span class="line"></span><br><span class="line">è¿™é‡Œæ˜¯å¤‡æ³¨ï¼Œå¯ä»¥æ˜¯æ”¾ BUG é“¾æ¥æˆ–è€…ä¸€äº›é‡è¦æ€§çš„ä¸œè¥¿ã€‚</span><br></pre></td></tr></table></figure></li><li><p>choreï¼ˆå…¶ä»–ä¿®æ”¹ï¼‰</p><p>chore çš„ä¸­æ–‡ç¿»è¯‘ä¸ºæ—¥å¸¸äº‹åŠ¡ã€ä¾‹è¡Œå·¥ä½œï¼Œé¡¾åæ€ä¹‰ï¼Œå³ä¸åœ¨å…¶ä»– commit ç±»å‹ä¸­çš„ä¿®æ”¹ï¼Œéƒ½å¯ä»¥ç”¨ chore è¡¨ç¤ºã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">chore: å°†è¡¨æ ¼ä¸­çš„æŸ¥çœ‹è¯¦æƒ…æ”¹ä¸ºè¯¦æƒ…</span><br></pre></td></tr></table></figure><p>å…¶ä»–ç±»å‹çš„ commit å’Œä¸Šé¢ä¸‰ä¸ªç¤ºä¾‹å·®ä¸å¤šï¼Œå°±ä¸è¯´äº†ã€‚</p></li></ul><h4 id="éªŒè¯-git-commit-è§„èŒƒ"><a href="#éªŒè¯-git-commit-è§„èŒƒ" class="headerlink" title="éªŒè¯ git commit è§„èŒƒ"></a>éªŒè¯ git commit è§„èŒƒ</h4><p>éªŒè¯ git commit è§„èŒƒï¼Œä¸»è¦é€šè¿‡ git çš„ pre-commit é’©å­å‡½æ•°æ¥è¿›è¡Œã€‚å½“ç„¶ï¼Œä½ è¿˜éœ€è¦ä¸‹è½½ä¸€ä¸ªè¾…åŠ©å·¥å…·æ¥å¸®åŠ©ä½ è¿›è¡ŒéªŒè¯ã€‚</p><p>ä¸‹è½½è¾…åŠ©å·¥å…·</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i -D husky</span><br></pre></td></tr></table></figure><p>åœ¨ <code>package.json</code> åŠ ä¸Šä¸‹é¢çš„ä»£ç </p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">&quot;husky&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;hooks&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;pre-commit&quot;</span><span class="punctuation">:</span> <span class="string">&quot;npm run lint&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;commit-msg&quot;</span><span class="punctuation">:</span> <span class="string">&quot;node script/verify-commit.js&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;pre-push&quot;</span><span class="punctuation">:</span> <span class="string">&quot;npm test&quot;</span></span><br><span class="line">  <span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><p>ç„¶ååœ¨ä½ é¡¹ç›®æ ¹ç›®å½•ä¸‹æ–°å»ºä¸€ä¸ªæ–‡ä»¶å¤¹ scriptï¼Œå¹¶åœ¨ä¸‹é¢æ–°å»ºä¸€ä¸ªæ–‡ä»¶ verify-commit.jsï¼Œè¾“å…¥ä»¥ä¸‹ä»£ç ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> msgPath = process.<span class="property">env</span>.<span class="property">HUSKY_GIT_PARAMS</span>;</span><br><span class="line"><span class="keyword">const</span> msg = <span class="built_in">require</span>(<span class="string">&quot;fs&quot;</span>).<span class="title function_">readFileSync</span>(msgPath, <span class="string">&quot;utf-8&quot;</span>).<span class="title function_">trim</span>();</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> commitRE = <span class="regexp">/^(feat|fix|docs|style|refactor|perf|test|workflow|build|ci|chore|release|workflow)(\(.+\))?: .&#123;1,50&#125;/</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (!commitRE.<span class="title function_">test</span>(msg)) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>();</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">error</span>(<span class="string">`</span></span><br><span class="line"><span class="string">        ä¸åˆæ³•çš„ commit æ¶ˆæ¯æ ¼å¼ã€‚</span></span><br><span class="line"><span class="string">        è¯·æŸ¥çœ‹ git commit æäº¤è§„èŒƒï¼šhttps://github.com/woai3c/Front-end-articles/blob/master/git%20commit%20style.md</span></span><br><span class="line"><span class="string">    `</span>);</span><br><span class="line"></span><br><span class="line">  process.<span class="title function_">exit</span>(<span class="number">1</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç°åœ¨æ¥è§£é‡Šä¸‹å„ä¸ªé’©å­çš„å«ä¹‰ï¼š</p><ol><li><p><code>&quot;pre-commit&quot;: &quot;npm run lint&quot;</code> åœ¨ <code>git commit</code> å‰æ‰§è¡Œ <code>npm run lint</code> æ£€æŸ¥ä»£ç æ ¼å¼ã€‚</p></li><li><p><code>&quot;commit-msg&quot;: &quot;node script/verify-commit.js&quot;</code> åœ¨ <code>git commit</code> æ—¶æ‰§è¡Œè„šæœ¬ã€‚verify-commit.js éªŒè¯ commit æ¶ˆæ¯ã€‚å¦‚æœä¸ç¬¦åˆè„šæœ¬ä¸­å®šä¹‰çš„æ ¼å¼ï¼Œå°†ä¼šæŠ¥é”™ã€‚</p></li><li><p><code>&quot;pre-push&quot;: &quot;npm test&quot;</code> åœ¨ä½ æ‰§è¡Œ <code>git push</code> å°†ä»£ç æ¨é€åˆ°è¿œç¨‹ä»“åº“å‰ï¼Œæ‰§è¡Œ <code>npm test</code> è¿›è¡Œæµ‹è¯•ã€‚å¦‚æœæµ‹è¯•å¤±è´¥ï¼Œå°†ä¸ä¼šæ‰§è¡Œè¿™æ¬¡æ¨é€ã€‚</p></li></ol><h3 id="é¡¹ç›®è§„èŒƒ"><a href="#é¡¹ç›®è§„èŒƒ" class="headerlink" title="é¡¹ç›®è§„èŒƒ"></a>é¡¹ç›®è§„èŒƒ</h3><p>ä¸»è¦æ˜¯é¡¹ç›®æ–‡ä»¶çš„ç»„ç»‡æ–¹å¼å’Œå‘½åæ–¹å¼ã€‚</p><p>ç”¨æˆ‘ä»¬çš„ Vue é¡¹ç›®ä¸¾ä¸ªä¾‹å­ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">â”œâ”€public</span><br><span class="line">â”œâ”€src</span><br><span class="line">â”œâ”€test</span><br></pre></td></tr></table></figure><p>ä¸€ä¸ªé¡¹ç›®åŒ…å« publicï¼ˆå…¬å…±èµ„æºï¼Œä¸ä¼šè¢« webpack å¤„ç†ï¼‰ã€srcï¼ˆæºç ï¼‰ã€testï¼ˆæµ‹è¯•ä»£ç ï¼‰ï¼Œå…¶ä¸­ src ç›®å½•ï¼Œåˆå¯ä»¥ç»†åˆ†ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">â”œâ”€api ï¼ˆæ¥å£ï¼‰</span><br><span class="line">â”œâ”€assets ï¼ˆé™æ€èµ„æºï¼‰</span><br><span class="line">â”œâ”€components ï¼ˆå…¬å…±ç»„ä»¶ï¼‰</span><br><span class="line">â”œâ”€styles ï¼ˆå…¬å…±æ ·å¼ï¼‰</span><br><span class="line">â”œâ”€router ï¼ˆè·¯ç”±ï¼‰</span><br><span class="line">â”œâ”€store ï¼ˆvuex å…¨å±€æ•°æ®ï¼‰</span><br><span class="line">â”œâ”€utils ï¼ˆå·¥å…·å‡½æ•°ï¼‰</span><br><span class="line">â””â”€views ï¼ˆé¡µé¢ï¼‰</span><br></pre></td></tr></table></figure><p>æ–‡ä»¶åç§°å¦‚æœè¿‡é•¿åˆ™ç”¨ - éš”å¼€ã€‚</p><h3 id="UI-è§„èŒƒ"><a href="#UI-è§„èŒƒ" class="headerlink" title="UI è§„èŒƒ"></a>UI è§„èŒƒ</h3><p>UI è§„èŒƒéœ€è¦å‰ç«¯ã€UIã€äº§å“æ²Ÿé€šï¼Œäº’ç›¸å•†é‡ï¼Œæœ€ååˆ¶å®šä¸‹æ¥ï¼Œå»ºè®®ä½¿ç”¨ç»Ÿä¸€çš„ UI ç»„ä»¶åº“ã€‚</p><p>åˆ¶å®š UI è§„èŒƒçš„å¥½å¤„ï¼š</p><ul><li>ç»Ÿä¸€é¡µé¢ UI æ ‡å‡†ï¼ŒèŠ‚çœ UI è®¾è®¡æ—¶é—´</li><li>æé«˜å‰ç«¯å¼€å‘æ•ˆç‡</li></ul><h2 id="æµ‹è¯•"><a href="#æµ‹è¯•" class="headerlink" title="æµ‹è¯•"></a>æµ‹è¯•</h2><p>æµ‹è¯•æ˜¯å‰ç«¯å·¥ç¨‹åŒ–å»ºè®¾å¿…ä¸å¯å°‘çš„ä¸€éƒ¨åˆ†ï¼Œå®ƒçš„ä½œç”¨å°±æ˜¯æ‰¾å‡º bugï¼Œè¶Šæ—©å‘ç° bugï¼Œæ‰€éœ€è¦ä»˜å‡ºçš„æˆæœ¬å°±è¶Šä½ã€‚å¹¶ä¸”ï¼Œå®ƒæ›´é‡è¦çš„ä½œç”¨æ˜¯åœ¨å°†æ¥ï¼Œè€Œä¸æ˜¯å½“ä¸‹ã€‚</p><p>è®¾æƒ³ä¸€ä¸‹åŠå¹´åï¼Œä½ çš„é¡¹ç›®è¦åŠ ä¸€ä¸ªæ–°åŠŸèƒ½ã€‚åœ¨åŠ å®Œæ–°åŠŸèƒ½åï¼Œä½ ä¸ç¡®å®šæœ‰æ²¡æœ‰å½±å“åˆ°åŸæœ‰çš„åŠŸèƒ½ï¼Œéœ€è¦æµ‹è¯•ä¸€ä¸‹ã€‚ç”±äºæ—¶é—´è¿‡å»å¤ªä¹…ï¼Œä½ å¯¹é¡¹ç›®çš„ä»£ç å·²ç»ä¸äº†è§£äº†ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå¦‚æœæ²¡æœ‰å†™æµ‹è¯•ï¼Œä½ å°±å¾—æ‰‹åŠ¨ä¸€éä¸€éçš„å»è¯•ã€‚è€Œå¦‚æœå†™äº†æµ‹è¯•ï¼Œä½ åªéœ€è¦è·‘ä¸€éæµ‹è¯•ä»£ç å°± OK äº†ï¼Œçœæ—¶çœåŠ›ã€‚</p><p>å†™æµ‹è¯•è¿˜å¯ä»¥è®©ä½ ä¿®æ”¹ä»£ç æ—¶æ²¡æœ‰å¿ƒç†è´Ÿæ‹…ï¼Œä¸ç”¨ä¸€ç›´æƒ³ç€æ”¹è¿™é‡Œæœ‰æ²¡æœ‰é—®é¢˜ï¼Ÿä¼šä¸ä¼šå¼•èµ· BUGï¼Ÿè€Œå†™äº†æµ‹è¯•å°±æ²¡æœ‰è¿™ç§æ‹…å¿ƒäº†ã€‚</p><p>åœ¨å‰ç«¯ç”¨å¾—æœ€å¤šçš„å°±æ˜¯å•å…ƒæµ‹è¯•ï¼ˆä¸»è¦æ˜¯ç«¯åˆ°ç«¯æµ‹è¯•æˆ‘ç”¨å¾—å¾ˆå°‘ï¼Œä¸ç†Ÿï¼‰ï¼Œè¿™é‡Œç€é‡è®²è§£ä¸€ä¸‹ã€‚</p><h3 id="å•å…ƒæµ‹è¯•"><a href="#å•å…ƒæµ‹è¯•" class="headerlink" title="å•å…ƒæµ‹è¯•"></a>å•å…ƒæµ‹è¯•</h3><p>å•å…ƒæµ‹è¯•å°±æ˜¯å¯¹ä¸€ä¸ªå‡½æ•°ã€ä¸€ä¸ªç»„ä»¶ã€ä¸€ä¸ªç±»åšçš„æµ‹è¯•ï¼Œå®ƒé’ˆå¯¹çš„ç²’åº¦æ¯”è¾ƒå°ã€‚</p><p>å®ƒåº”è¯¥æ€ä¹ˆå†™å‘¢ï¼Ÿ</p><ol><li>æ ¹æ®æ­£ç¡®æ€§å†™æµ‹è¯•ï¼Œå³æ­£ç¡®çš„è¾“å…¥åº”è¯¥æœ‰æ­£å¸¸çš„ç»“æœã€‚</li><li>æ ¹æ®å¼‚å¸¸å†™æµ‹è¯•ï¼Œå³é”™è¯¯çš„è¾“å…¥åº”è¯¥æ˜¯é”™è¯¯çš„ç»“æœã€‚</li></ol><h4 id="å¯¹ä¸€ä¸ªå‡½æ•°åšæµ‹è¯•"><a href="#å¯¹ä¸€ä¸ªå‡½æ•°åšæµ‹è¯•" class="headerlink" title="å¯¹ä¸€ä¸ªå‡½æ•°åšæµ‹è¯•"></a>å¯¹ä¸€ä¸ªå‡½æ•°åšæµ‹è¯•</h4><p>ä¾‹å¦‚ä¸€ä¸ªå–ç»å¯¹å€¼çš„å‡½æ•° <code>abs()</code>ï¼Œè¾“å…¥ <code>1,2</code>ï¼Œç»“æœåº”è¯¥ä¸è¾“å…¥ç›¸åŒï¼›è¾“å…¥ <code>-1,-2</code>ï¼Œç»“æœåº”è¯¥ä¸è¾“å…¥ç›¸åã€‚å¦‚æœè¾“å…¥éæ•°å­—ï¼Œä¾‹å¦‚ <code>&quot;abc&quot;</code>ï¼Œåº”è¯¥æŠ›å‡ºä¸€ä¸ªç±»å‹é”™è¯¯ã€‚</p><h4 id="å¯¹ä¸€ä¸ªç±»åšæµ‹è¯•"><a href="#å¯¹ä¸€ä¸ªç±»åšæµ‹è¯•" class="headerlink" title="å¯¹ä¸€ä¸ªç±»åšæµ‹è¯•"></a>å¯¹ä¸€ä¸ªç±»åšæµ‹è¯•</h4><p>å‡è®¾æœ‰è¿™æ ·ä¸€ä¸ªç±»ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Math</span> &#123;</span><br><span class="line">    <span class="title function_">abs</span>(<span class="params"></span>) &#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="title function_">sqrt</span>(<span class="params"></span>) &#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="title function_">pow</span>(<span class="params"></span>) &#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å•å…ƒæµ‹è¯•ï¼Œå¿…é¡»æŠŠè¿™ä¸ªç±»çš„æ‰€æœ‰æ–¹æ³•éƒ½æµ‹ä¸€éã€‚</p><h4 id="å¯¹ä¸€ä¸ªç»„ä»¶åšæµ‹è¯•"><a href="#å¯¹ä¸€ä¸ªç»„ä»¶åšæµ‹è¯•" class="headerlink" title="å¯¹ä¸€ä¸ªç»„ä»¶åšæµ‹è¯•"></a>å¯¹ä¸€ä¸ªç»„ä»¶åšæµ‹è¯•</h4><p>ç»„ä»¶æµ‹è¯•æ¯”è¾ƒéš¾ï¼Œå› ä¸ºå¾ˆå¤šç»„ä»¶éƒ½æ¶‰åŠäº† DOM æ“ä½œã€‚</p><p>ä¾‹å¦‚ä¸€ä¸ªä¸Šä¼ å›¾ç‰‡ç»„ä»¶ï¼Œå®ƒæœ‰ä¸€ä¸ªå°†å›¾ç‰‡è½¬æˆ base64 ç çš„æ–¹æ³•ï¼Œé‚£è¦æ€ä¹ˆæµ‹è¯•å‘¢ï¼Ÿä¸€èˆ¬æµ‹è¯•éƒ½æ˜¯è·‘åœ¨ node ç¯å¢ƒä¸‹çš„ï¼Œè€Œ node ç¯å¢ƒæ²¡æœ‰ DOM å¯¹è±¡ã€‚</p><p>æˆ‘ä»¬å…ˆæ¥å›é¡¾ä¸€ä¸‹ä¸Šä¼ å›¾ç‰‡çš„è¿‡ç¨‹ï¼š</p><ol><li>ç‚¹å‡» <code>&lt;input type=&quot;file&quot; /&gt;</code>ï¼Œé€‰æ‹©å›¾ç‰‡ä¸Šä¼ ã€‚</li><li>è§¦å‘ <code>input</code> çš„ <code>change</code> äº‹ä»¶ï¼Œè·å– <code>file</code> å¯¹è±¡ã€‚</li><li>ç”¨ <code>FileReader</code> å°†å›¾ç‰‡è½¬æ¢æˆ <code>base64</code> ç ã€‚</li></ol><p>è¿™ä¸ªè¿‡ç¨‹å’Œä¸‹é¢çš„ä»£ç æ˜¯ä¸€æ ·çš„ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&quot;input&quot;</span>).<span class="property">onchange</span> = <span class="keyword">function</span> <span class="title function_">fileChangeHandler</span>(<span class="params">e</span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> file = e.<span class="property">target</span>.<span class="property">files</span>[<span class="number">0</span>];</span><br><span class="line">  <span class="keyword">const</span> reader = <span class="keyword">new</span> <span class="title class_">FileReader</span>();</span><br><span class="line">  reader.<span class="property">onload</span> = <span class="function">(<span class="params">res</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> fileResult = res.<span class="property">target</span>.<span class="property">result</span>;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(fileResult); <span class="comment">// è¾“å‡º base64 ç </span></span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line">  reader.<span class="title function_">readAsDataURL</span>(file);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>ä¸Šé¢çš„ä»£ç åªæ˜¯æ¨¡æ‹Ÿï¼ŒçœŸå®æƒ…å†µä¸‹åº”è¯¥æ˜¯è¿™æ ·ä½¿ç”¨</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&quot;input&quot;</span>).<span class="property">onchange</span> = <span class="keyword">function</span> <span class="title function_">fileChangeHandler</span>(<span class="params">e</span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> file = e.<span class="property">target</span>.<span class="property">files</span>[<span class="number">0</span>];</span><br><span class="line">  <span class="title function_">tobase64</span>(file);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">tobase64</span>(<span class="params">file</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> reader = <span class="keyword">new</span> <span class="title class_">FileReader</span>();</span><br><span class="line">    reader.<span class="property">onload</span> = <span class="function">(<span class="params">res</span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">const</span> fileResult = res.<span class="property">target</span>.<span class="property">result</span>;</span><br><span class="line">      <span class="title function_">resolve</span>(fileResult); <span class="comment">// è¾“å‡º base64 ç </span></span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    reader.<span class="title function_">readAsDataURL</span>(file);</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¯ä»¥çœ‹åˆ°ï¼Œä¸Šé¢ä»£ç å‡ºç°äº† window çš„äº‹ä»¶å¯¹è±¡ <code>event</code>ã€<code>FileReader</code>ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œåªè¦æˆ‘ä»¬èƒ½å¤Ÿæä¾›è¿™ä¸¤ä¸ªå¯¹è±¡ï¼Œå°±å¯ä»¥åœ¨ä»»ä½•ç¯å¢ƒä¸‹è¿è¡Œå®ƒã€‚æ‰€ä»¥æˆ‘ä»¬å¯ä»¥åœ¨æµ‹è¯•ç¯å¢ƒä¸‹åŠ ä¸Šè¿™ä¸¤ä¸ªå¯¹è±¡ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// é‡å†™ File</span></span><br><span class="line"><span class="variable language_">window</span>.<span class="property">File</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// é‡å†™ FileReader</span></span><br><span class="line"><span class="variable language_">window</span>.<span class="property">FileReader</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">this</span>.<span class="property">readAsDataURL</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">onload</span> &amp;&amp;</span><br><span class="line">      <span class="variable language_">this</span>.<span class="title function_">onload</span>(&#123;</span><br><span class="line">        <span class="attr">target</span>: &#123;</span><br><span class="line">          <span class="attr">result</span>: fileData,</span><br><span class="line">        &#125;,</span><br><span class="line">      &#125;);</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>ç„¶åæµ‹è¯•å¯ä»¥è¿™æ ·å†™ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æå‰å†™å¥½æ–‡ä»¶å†…å®¹</span></span><br><span class="line"><span class="keyword">const</span> fileData = <span class="string">&quot;data:image/test&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æä¾›ä¸€ä¸ªå‡çš„ file å¯¹è±¡ç»™ tobase64() å‡½æ•°</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">test</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> file = <span class="keyword">new</span> <span class="title class_">File</span>();</span><br><span class="line">  <span class="keyword">const</span> event = &#123; <span class="attr">target</span>: &#123; <span class="attr">files</span>: [file] &#125; &#125;;</span><br><span class="line">  file.<span class="property">type</span> = <span class="string">&quot;image/png&quot;</span>;</span><br><span class="line">  file.<span class="property">name</span> = <span class="string">&quot;test.png&quot;</span>;</span><br><span class="line">  file.<span class="property">size</span> = <span class="number">1024</span>;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">it</span>(<span class="string">&quot;file content&quot;</span>, <span class="function">(<span class="params">done</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="title function_">tobase64</span>(file).<span class="title function_">then</span>(<span class="function">(<span class="params">base64</span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="title function_">expect</span>(base64).<span class="title function_">toEqual</span>(fileData); <span class="comment">// &#x27;data:image/test&#x27;</span></span><br><span class="line">      <span class="title function_">done</span>();</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ‰§è¡Œæµ‹è¯•</span></span><br><span class="line"><span class="title function_">test</span>();</span><br></pre></td></tr></table></figure><p>é€šè¿‡è¿™ç§ hack çš„æ–¹å¼ï¼Œæˆ‘ä»¬å°±å®ç°äº†å¯¹æ¶‰åŠ DOM æ“ä½œçš„ç»„ä»¶çš„æµ‹è¯•ã€‚æˆ‘çš„ <a class="link" target="_blank" rel="noopener" href="https://github.com/woai3c/vue-upload-imgs">vue-upload-imgs<i class="fas fa-external-link-alt"></i></a> åº“å°±æ˜¯é€šè¿‡è¿™ç§æ–¹å¼å†™çš„å•å…ƒæµ‹è¯•ï¼Œæœ‰å…´è¶£å¯ä»¥äº†è§£ä¸€ä¸‹ã€‚</p><h4 id="TDD-æµ‹è¯•é©±åŠ¨å¼€å‘"><a href="#TDD-æµ‹è¯•é©±åŠ¨å¼€å‘" class="headerlink" title="TDD æµ‹è¯•é©±åŠ¨å¼€å‘"></a>TDD æµ‹è¯•é©±åŠ¨å¼€å‘</h4><p>TDD å°±æ˜¯æ ¹æ®éœ€æ±‚æå‰æŠŠæµ‹è¯•ä»£ç å†™å¥½ï¼Œç„¶åæ ¹æ®æµ‹è¯•ä»£ç å®ç°åŠŸèƒ½ã€‚</p><p>TDD çš„åˆè¡·æ˜¯å¥½çš„ï¼Œä½†å¦‚æœä½ çš„éœ€æ±‚ç»å¸¸å˜ï¼ˆä½ æ‡‚çš„ï¼‰ï¼Œé‚£å°±ä¸æ˜¯ä¸€ä»¶å¥½äº‹äº†ã€‚å¾ˆæœ‰å¯èƒ½ä½ å¤©å¤©éƒ½åœ¨æ”¹æµ‹è¯•ä»£ç ï¼Œä¸šåŠ¡ä»£ç åè€Œæ²¡æ€ä¹ˆåŠ¨ã€‚æ‰€ä»¥åˆ°ç°åœ¨ä¸ºæ­¢ï¼Œä¸‰å¹´å¤šçš„ç¨‹åºå‘˜ç”Ÿæ¶¯ï¼Œæˆ‘è¿˜æ²¡å°è¯•è¿‡ TDD å¼€å‘ã€‚</p><p>è™½ç„¶ç¯å¢ƒå¦‚æ­¤è‰°éš¾ï¼Œä½†æœ‰æ¡ä»¶çš„æƒ…å†µä¸‹è¿˜æ˜¯åº”è¯¥è¯•ä¸€ä¸‹ TDD çš„ã€‚ä¾‹å¦‚åœ¨ä½ è‡ªå·±è´Ÿè´£ä¸€ä¸ªé¡¹ç›®åˆä¸å¿™çš„æ—¶å€™ï¼Œå¯ä»¥é‡‡ç”¨æ­¤æ–¹æ³•ç¼–å†™æµ‹è¯•ç”¨ä¾‹ã€‚</p><h4 id="æµ‹è¯•æ¡†æ¶æ¨è"><a href="#æµ‹è¯•æ¡†æ¶æ¨è" class="headerlink" title="æµ‹è¯•æ¡†æ¶æ¨è"></a>æµ‹è¯•æ¡†æ¶æ¨è</h4><p>æˆ‘å¸¸ç”¨çš„æµ‹è¯•æ¡†æ¶æ˜¯ <a class="link" target="_blank" rel="noopener" href="https://jestjs.io/zh-Hans/docs/getting-started">jest<i class="fas fa-external-link-alt"></i></a>ï¼Œå¥½å¤„æ˜¯æœ‰ä¸­æ–‡æ–‡æ¡£ï¼ŒAPI æ¸…æ™°æ˜äº†ï¼Œä¸€çœ‹å°±çŸ¥é“æ˜¯å¹²ä»€ä¹ˆç”¨çš„ã€‚</p><h2 id="éƒ¨ç½²"><a href="#éƒ¨ç½²" class="headerlink" title="éƒ¨ç½²"></a>éƒ¨ç½²</h2><p>åœ¨æ²¡æœ‰å­¦ä¼šè‡ªåŠ¨éƒ¨ç½²å‰ï¼Œæˆ‘æ˜¯è¿™æ ·éƒ¨ç½²é¡¹ç›®çš„ï¼š</p><ol><li>æ‰§è¡Œæµ‹è¯• <code>npm run test</code>ã€‚</li><li>æ„å»ºé¡¹ç›® <code>npm run build</code>ã€‚</li><li>å°†æ‰“åŒ…å¥½çš„æ–‡ä»¶æ”¾åˆ°é™æ€æœåŠ¡å™¨ã€‚</li></ol><p>ä¸€æ¬¡ä¸¤æ¬¡è¿˜è¡Œï¼Œå¦‚æœå¤©å¤©éƒ½è¿™æ ·ï¼Œå°±ä¼šæŠŠå¾ˆå¤šæ—¶é—´æµªè´¹åœ¨é‡å¤çš„æ“ä½œä¸Šã€‚æ‰€ä»¥æˆ‘ä»¬è¦å­¦ä¼šè‡ªåŠ¨éƒ¨ç½²ï¼Œå½»åº•è§£æ”¾åŒæ‰‹ã€‚</p><p>è‡ªåŠ¨éƒ¨ç½²ï¼ˆåˆå«æŒç»­éƒ¨ç½² Continuous Deploymentï¼Œè‹±æ–‡ç¼©å†™ CDï¼‰ä¸€èˆ¬æœ‰ä¸¤ç§è§¦å‘æ–¹å¼ï¼š</p><ol><li>è½®è¯¢ã€‚</li><li>ç›‘å¬ <code>webhook</code> äº‹ä»¶ã€‚</li></ol><h3 id="è½®è¯¢"><a href="#è½®è¯¢" class="headerlink" title="è½®è¯¢"></a>è½®è¯¢</h3><p>è½®è¯¢ï¼Œå°±æ˜¯æ„å»ºè½¯ä»¶æ¯éš”ä¸€æ®µæ—¶é—´è‡ªåŠ¨æ‰§è¡Œæ‰“åŒ…ã€éƒ¨ç½²æ“ä½œã€‚</p><p>è¿™ç§æ–¹å¼ä¸å¤ªå¥½ï¼Œå¾ˆæœ‰å¯èƒ½è½¯ä»¶åˆšéƒ¨ç½²å®Œæˆ‘å°±æ”¹ä»£ç äº†ã€‚ä¸ºäº†çœ‹åˆ°æ–°çš„é¡µé¢æ•ˆæœï¼Œä¸å¾—ä¸ç­‰åˆ°ä¸‹ä¸€æ¬¡æ„å»ºå¼€å§‹ã€‚</p><p>å¦å¤–è¿˜æœ‰ä¸€ä¸ªå‰¯ä½œç”¨ï¼Œå‡å¦‚æˆ‘ä¸€å¤©éƒ½æ²¡æ›´æ”¹ä»£ç ï¼Œæ„å»ºè½¯ä»¶è¿˜æ˜¯ä¼šä¸åœçš„æ‰§è¡Œæ‰“åŒ…ã€éƒ¨ç½²æ“ä½œï¼Œç™½ç™½çš„æµªè´¹èµ„æºã€‚</p><p>æ‰€ä»¥ç°åœ¨çš„æ„å»ºè½¯ä»¶åŸºæœ¬é‡‡ç”¨ç›‘å¬ <code>webhook</code> äº‹ä»¶çš„æ–¹å¼æ¥è¿›è¡Œéƒ¨ç½²ã€‚</p><h3 id="ç›‘å¬-webhook-äº‹ä»¶"><a href="#ç›‘å¬-webhook-äº‹ä»¶" class="headerlink" title="ç›‘å¬ webhook äº‹ä»¶"></a>ç›‘å¬ webhook äº‹ä»¶</h3><p>webhook é’©å­å‡½æ•°ï¼Œå°±æ˜¯åœ¨ä½ çš„æ„å»ºè½¯ä»¶ä¸Šè¿›è¡Œè®¾ç½®ï¼Œç›‘å¬æŸä¸€ä¸ªäº‹ä»¶ï¼ˆä¸€èˆ¬æ˜¯ç›‘å¬ <code>push</code> äº‹ä»¶ï¼‰ï¼Œå½“äº‹ä»¶è§¦å‘æ—¶ï¼Œè‡ªåŠ¨æ‰§è¡Œå®šä¹‰å¥½çš„è„šæœ¬ã€‚</p><p>ä¾‹å¦‚ Github Actions å°±æœ‰è¿™ä¸ªåŠŸèƒ½ã€‚</p><p>å¯¹äºæ–°äººæ¥è¯´ï¼Œä»…çœ‹æˆ‘è¿™ä¸€æ®µè®²è§£æ˜¯ä¸å¯èƒ½å­¦ä¼šè‡ªåŠ¨éƒ¨ç½²çš„ã€‚ä¸ºæ­¤æˆ‘ç‰¹åœ°å†™äº†ä¸€ç¯‡è‡ªåŠ¨åŒ–éƒ¨ç½²æ•™ç¨‹ï¼Œä¸éœ€è¦ä½ æå‰å­¦ä¹ è‡ªåŠ¨åŒ–éƒ¨ç½²çš„çŸ¥è¯†ï¼Œåªè¦ç…§ç€æŒ‡å¼•åšï¼Œå°±èƒ½å®ç°å‰ç«¯é¡¹ç›®è‡ªåŠ¨åŒ–éƒ¨ç½²ã€‚</p><p><a class="link" target="_blank" rel="noopener" href="https://juejin.cn/post/6887751398499287054">å‰ç«¯é¡¹ç›®è‡ªåŠ¨åŒ–éƒ¨ç½²â€”â€”è¶…è¯¦ç»†æ•™ç¨‹ï¼ˆJenkinsã€Github Actionsï¼‰<i class="fas fa-external-link-alt"></i></a>ï¼Œæ•™ç¨‹å·²ç»å¥‰ä¸Šï¼Œå„ä½å¤§ä½¬çœ‹å®Œåè¦æ˜¯è§‰å¾—æœ‰ç”¨ï¼Œä¸è¦å¿˜äº†ç‚¹èµï¼Œæ„Ÿæ¿€ä¸å°½ã€‚</p><h2 id="ç›‘æ§"><a href="#ç›‘æ§" class="headerlink" title="ç›‘æ§"></a>ç›‘æ§</h2><p>ç›‘æ§ï¼Œåˆåˆ†æ€§èƒ½ç›‘æ§å’Œé”™è¯¯ç›‘æ§ï¼Œå®ƒçš„ä½œç”¨æ˜¯é¢„è­¦å’Œè¿½è¸ªå®šä½é—®é¢˜ã€‚</p><h3 id="æ€§èƒ½ç›‘æ§"><a href="#æ€§èƒ½ç›‘æ§" class="headerlink" title="æ€§èƒ½ç›‘æ§"></a>æ€§èƒ½ç›‘æ§</h3><p>æ€§èƒ½ç›‘æ§ä¸€èˆ¬åˆ©ç”¨ <code>window.performance</code> æ¥è¿›è¡Œæ•°æ®é‡‡é›†ã€‚</p><blockquote><p>Performance æ¥å£å¯ä»¥è·å–åˆ°å½“å‰é¡µé¢ä¸­ä¸æ€§èƒ½ç›¸å…³çš„ä¿¡æ¯ï¼Œå®ƒæ˜¯ High Resolution Time API çš„ä¸€éƒ¨åˆ†ï¼ŒåŒæ—¶ä¹Ÿèåˆäº† Performance Timeline APIã€Navigation Timing APIã€User Timing API å’Œ Resource Timing APIã€‚</p></blockquote><p>è¿™ä¸ª API çš„å±æ€§ <code>timing</code>ï¼ŒåŒ…å«äº†é¡µé¢åŠ è½½å„ä¸ªé˜¶æ®µçš„èµ·å§‹åŠç»“æŸæ—¶é—´ã€‚</p><p><img lazyload alt="image" data-src="https://raw.githubusercontent.com/XPoet/image-hosting/master/%E5%89%8D%E7%AB%AF%E5%B7%A5%E7%A8%8B%E5%8C%96/image.1rb2amet2rcw.png" alt="image"></p><p><img lazyload alt="image" data-src="https://raw.githubusercontent.com/XPoet/image-hosting/master/%E5%89%8D%E7%AB%AF%E5%B7%A5%E7%A8%8B%E5%8C%96/image.59uaxyeshkw0.png" alt="image"></p><p>ä¸ºäº†æ–¹ä¾¿å¤§å®¶ç†è§£ <code>timing</code> å„ä¸ªå±æ€§çš„æ„ä¹‰ï¼Œæˆ‘åœ¨çŸ¥ä¹æ‰¾åˆ°ä¸€ä½ç½‘å‹å¯¹äº <code>timing</code> å†™çš„ç®€ä»‹ï¼ˆå¿˜äº†å§“åï¼Œåæ¥æ‰¾ä¸åˆ°äº†ï¼Œè§è°…ï¼‰ï¼Œåœ¨æ­¤è½¬è½½ä¸€ä¸‹ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">timing</span>: &#123;</span><br><span class="line">    <span class="comment">// åŒä¸€ä¸ªæµè§ˆå™¨ä¸Šä¸€ä¸ªé¡µé¢å¸è½½ (unload) ç»“æŸæ—¶çš„æ—¶é—´æˆ³ã€‚å¦‚æœæ²¡æœ‰ä¸Šä¸€ä¸ªé¡µé¢ï¼Œè¿™ä¸ªå€¼ä¼šå’Œ fetchStart ç›¸åŒã€‚</span></span><br><span class="line">	<span class="attr">navigationStart</span>: <span class="number">1543806782096</span>,</span><br><span class="line"></span><br><span class="line">	<span class="comment">// ä¸Šä¸€ä¸ªé¡µé¢ unload äº‹ä»¶æŠ›å‡ºæ—¶çš„æ—¶é—´æˆ³ã€‚å¦‚æœæ²¡æœ‰ä¸Šä¸€ä¸ªé¡µé¢ï¼Œè¿™ä¸ªå€¼ä¼šè¿”å› 0ã€‚</span></span><br><span class="line">	<span class="attr">unloadEventStart</span>: <span class="number">1543806782523</span>,</span><br><span class="line"></span><br><span class="line">	<span class="comment">// å’Œ unloadEventStart ç›¸å¯¹åº”ï¼Œunload äº‹ä»¶å¤„ç†å®Œæˆæ—¶çš„æ—¶é—´æˆ³ã€‚å¦‚æœæ²¡æœ‰ä¸Šä¸€ä¸ªé¡µé¢ï¼Œè¿™ä¸ªå€¼ä¼šè¿”å› 0ã€‚</span></span><br><span class="line">	<span class="attr">unloadEventEnd</span>: <span class="number">1543806782523</span>,</span><br><span class="line"></span><br><span class="line">	<span class="comment">// ç¬¬ä¸€ä¸ª HTTP é‡å®šå‘å¼€å§‹æ—¶çš„æ—¶é—´æˆ³ã€‚å¦‚æœæ²¡æœ‰é‡å®šå‘ï¼Œæˆ–è€…é‡å®šå‘ä¸­çš„ä¸€ä¸ªä¸åŒæºï¼Œè¿™ä¸ªå€¼ä¼šè¿”å› 0ã€‚</span></span><br><span class="line">	<span class="attr">redirectStart</span>: <span class="number">0</span>,</span><br><span class="line"></span><br><span class="line">	<span class="comment">// æœ€åä¸€ä¸ª HTTP é‡å®šå‘å®Œæˆæ—¶ï¼ˆä¹Ÿå°±æ˜¯è¯´æ˜¯ HTTP å“åº”çš„æœ€åä¸€ä¸ªæ¯”ç‰¹ç›´æ¥è¢«æ”¶åˆ°çš„æ—¶é—´ï¼‰çš„æ—¶é—´æˆ³ã€‚</span></span><br><span class="line">	<span class="comment">// å¦‚æœæ²¡æœ‰é‡å®šå‘ï¼Œæˆ–è€…é‡å®šå‘ä¸­çš„ä¸€ä¸ªä¸åŒæºï¼Œè¿™ä¸ªå€¼ä¼šè¿”å› 0.</span></span><br><span class="line">	<span class="attr">redirectEnd</span>: <span class="number">0</span>,</span><br><span class="line"></span><br><span class="line">	<span class="comment">// æµè§ˆå™¨å‡†å¤‡å¥½ä½¿ç”¨ HTTP è¯·æ±‚æ¥è·å– (fetch) æ–‡æ¡£çš„æ—¶é—´æˆ³ã€‚è¿™ä¸ªæ—¶é—´ç‚¹ä¼šåœ¨æ£€æŸ¥ä»»ä½•åº”ç”¨ç¼“å­˜ä¹‹å‰ã€‚</span></span><br><span class="line">	<span class="attr">fetchStart</span>: <span class="number">1543806782096</span>,</span><br><span class="line"></span><br><span class="line">	<span class="comment">// DNS åŸŸåæŸ¥è¯¢å¼€å§‹çš„ UNIX æ—¶é—´æˆ³ã€‚</span></span><br><span class="line">        <span class="comment">//å¦‚æœä½¿ç”¨äº†æŒç»­è¿æ¥ (persistent connection)ï¼Œæˆ–è€…è¿™ä¸ªä¿¡æ¯å­˜å‚¨åˆ°äº†ç¼“å­˜æˆ–è€…æœ¬åœ°èµ„æºä¸Šï¼Œè¿™ä¸ªå€¼å°†å’Œ fetchStart ä¸€è‡´ã€‚</span></span><br><span class="line">	<span class="attr">domainLookupStart</span>: <span class="number">1543806782096</span>,</span><br><span class="line"></span><br><span class="line">	<span class="comment">// DNS åŸŸåæŸ¥è¯¢å®Œæˆçš„æ—¶é—´ã€‚</span></span><br><span class="line">	<span class="comment">//å¦‚æœä½¿ç”¨äº†æœ¬åœ°ç¼“å­˜ï¼ˆå³æ—  DNS æŸ¥è¯¢ï¼‰æˆ–æŒä¹…è¿æ¥ï¼Œåˆ™ä¸ fetchStart å€¼ç›¸ç­‰</span></span><br><span class="line">	<span class="attr">domainLookupEnd</span>: <span class="number">1543806782096</span>,</span><br><span class="line"></span><br><span class="line">	<span class="comment">// HTTPï¼ˆTCPï¼‰åŸŸåæŸ¥è¯¢ç»“æŸçš„æ—¶é—´æˆ³ã€‚</span></span><br><span class="line">        <span class="comment">//å¦‚æœä½¿ç”¨äº†æŒç»­è¿æ¥ (persistent connection)ï¼Œæˆ–è€…è¿™ä¸ªä¿¡æ¯å­˜å‚¨åˆ°äº†ç¼“å­˜æˆ–è€…æœ¬åœ°èµ„æºä¸Šï¼Œè¿™ä¸ªå€¼å°†å’Œ fetchStart ä¸€è‡´ã€‚</span></span><br><span class="line">	<span class="attr">connectStart</span>: <span class="number">1543806782099</span>,</span><br><span class="line"></span><br><span class="line">	<span class="comment">// HTTPï¼ˆTCPï¼‰è¿”å›æµè§ˆå™¨ä¸æœåŠ¡å™¨ä¹‹é—´çš„è¿æ¥å»ºç«‹æ—¶çš„æ—¶é—´æˆ³ã€‚</span></span><br><span class="line">        <span class="comment">// å¦‚æœå»ºç«‹çš„æ˜¯æŒä¹…è¿æ¥ï¼Œåˆ™è¿”å›å€¼ç­‰åŒäº fetchStart å±æ€§çš„å€¼ã€‚è¿æ¥å»ºç«‹æŒ‡çš„æ˜¯æ‰€æœ‰æ¡æ‰‹å’Œè®¤è¯è¿‡ç¨‹å…¨éƒ¨ç»“æŸã€‚</span></span><br><span class="line">	<span class="attr">connectEnd</span>: <span class="number">1543806782227</span>,</span><br><span class="line"></span><br><span class="line">	<span class="comment">// HTTPS è¿”å›æµè§ˆå™¨ä¸æœåŠ¡å™¨å¼€å§‹å®‰å…¨é“¾æ¥çš„æ¡æ‰‹æ—¶çš„æ—¶é—´æˆ³ã€‚å¦‚æœå½“å‰ç½‘é¡µä¸è¦æ±‚å®‰å…¨è¿æ¥ï¼Œåˆ™è¿”å› 0ã€‚</span></span><br><span class="line">	<span class="attr">secureConnectionStart</span>: <span class="number">1543806782162</span>,</span><br><span class="line"></span><br><span class="line">	<span class="comment">// è¿”å›æµè§ˆå™¨å‘æœåŠ¡å™¨å‘å‡º HTTP è¯·æ±‚æ—¶ï¼ˆæˆ–å¼€å§‹è¯»å–æœ¬åœ°ç¼“å­˜æ—¶ï¼‰çš„æ—¶é—´æˆ³ã€‚</span></span><br><span class="line">	<span class="attr">requestStart</span>: <span class="number">1543806782241</span>,</span><br><span class="line"></span><br><span class="line">	<span class="comment">// è¿”å›æµè§ˆå™¨ä»æœåŠ¡å™¨æ”¶åˆ°ï¼ˆæˆ–ä»æœ¬åœ°ç¼“å­˜è¯»å–ï¼‰ç¬¬ä¸€ä¸ªå­—èŠ‚æ—¶çš„æ—¶é—´æˆ³ã€‚</span></span><br><span class="line">        <span class="comment">//å¦‚æœä¼ è¾“å±‚åœ¨å¼€å§‹è¯·æ±‚ä¹‹åå¤±è´¥å¹¶ä¸”è¿æ¥è¢«é‡å¼€ï¼Œè¯¥å±æ€§å°†ä¼šè¢«æ•°åˆ¶æˆæ–°çš„è¯·æ±‚çš„ç›¸å¯¹åº”çš„å‘èµ·æ—¶é—´ã€‚</span></span><br><span class="line">	<span class="attr">responseStart</span>: <span class="number">1543806782516</span>,</span><br><span class="line"></span><br><span class="line">	<span class="comment">// è¿”å›æµè§ˆå™¨ä»æœåŠ¡å™¨æ”¶åˆ°ï¼ˆæˆ–ä»æœ¬åœ°ç¼“å­˜è¯»å–ï¼Œæˆ–ä»æœ¬åœ°èµ„æºè¯»å–ï¼‰æœ€åä¸€ä¸ªå­—èŠ‚æ—¶</span></span><br><span class="line">        <span class="comment">//ï¼ˆå¦‚æœåœ¨æ­¤ä¹‹å‰ HTTP è¿æ¥å·²ç»å…³é—­ï¼Œåˆ™è¿”å›å…³é—­æ—¶ï¼‰çš„æ—¶é—´æˆ³ã€‚</span></span><br><span class="line">	<span class="attr">responseEnd</span>: <span class="number">1543806782537</span>,</span><br><span class="line"></span><br><span class="line">	<span class="comment">// å½“å‰ç½‘é¡µ DOM ç»“æ„å¼€å§‹è§£ææ—¶ï¼ˆå³ Document.readyState å±æ€§å˜ä¸ºâ€œloadingâ€ã€ç›¸åº”çš„ readystatechange äº‹ä»¶è§¦å‘æ—¶ï¼‰çš„æ—¶é—´æˆ³ã€‚</span></span><br><span class="line">	<span class="attr">domLoading</span>: <span class="number">1543806782573</span>,</span><br><span class="line"></span><br><span class="line">	<span class="comment">// å½“å‰ç½‘é¡µ DOM ç»“æ„ç»“æŸè§£æã€å¼€å§‹åŠ è½½å†…åµŒèµ„æºæ—¶ï¼ˆå³ Document.readyState å±æ€§å˜ä¸ºâ€œinteractiveâ€ã€ç›¸åº”çš„ readystatechange äº‹ä»¶è§¦å‘æ—¶ï¼‰çš„æ—¶é—´æˆ³ã€‚</span></span><br><span class="line">	<span class="attr">domInteractive</span>: <span class="number">1543806783203</span>,</span><br><span class="line"></span><br><span class="line">	<span class="comment">// å½“è§£æå™¨å‘é€ DOMContentLoaded äº‹ä»¶ï¼Œå³æ‰€æœ‰éœ€è¦è¢«æ‰§è¡Œçš„è„šæœ¬å·²ç»è¢«è§£ææ—¶çš„æ—¶é—´æˆ³ã€‚</span></span><br><span class="line">	<span class="attr">domContentLoadedEventStart</span>: <span class="number">1543806783203</span>,</span><br><span class="line"></span><br><span class="line">	<span class="comment">// å½“æ‰€æœ‰éœ€è¦ç«‹å³æ‰§è¡Œçš„è„šæœ¬å·²ç»è¢«æ‰§è¡Œï¼ˆä¸è®ºæ‰§è¡Œé¡ºåºï¼‰æ—¶çš„æ—¶é—´æˆ³ã€‚</span></span><br><span class="line">	<span class="attr">domContentLoadedEventEnd</span>: <span class="number">1543806783216</span>,</span><br><span class="line"></span><br><span class="line">	<span class="comment">// å½“å‰æ–‡æ¡£è§£æå®Œæˆï¼Œå³ Document.readyState å˜ä¸º &#x27;complete&#x27;ä¸”ç›¸å¯¹åº”çš„ readystatechange è¢«è§¦å‘æ—¶çš„æ—¶é—´æˆ³</span></span><br><span class="line">	<span class="attr">domComplete</span>: <span class="number">1543806783796</span>,</span><br><span class="line"></span><br><span class="line">	<span class="comment">// load äº‹ä»¶è¢«å‘é€æ—¶çš„æ—¶é—´æˆ³ã€‚å¦‚æœè¿™ä¸ªäº‹ä»¶è¿˜æœªè¢«å‘é€ï¼Œå®ƒçš„å€¼å°†ä¼šæ˜¯ 0ã€‚</span></span><br><span class="line">	<span class="attr">loadEventStart</span>: <span class="number">1543806783796</span>,</span><br><span class="line"></span><br><span class="line">	<span class="comment">// å½“ load äº‹ä»¶ç»“æŸï¼Œå³åŠ è½½äº‹ä»¶å®Œæˆæ—¶çš„æ—¶é—´æˆ³ã€‚å¦‚æœè¿™ä¸ªäº‹ä»¶è¿˜æœªè¢«å‘é€ï¼Œæˆ–è€…å°šæœªå®Œæˆï¼Œå®ƒçš„å€¼å°†ä¼šæ˜¯ 0.</span></span><br><span class="line">	<span class="attr">loadEventEnd</span>: <span class="number">1543806783802</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>é€šè¿‡ä»¥ä¸Šæ•°æ®ï¼Œæˆ‘ä»¬å¯ä»¥å¾—åˆ°å‡ ä¸ªæœ‰ç”¨çš„æ—¶é—´</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">// é‡å®šå‘è€—æ—¶</span><br><span class="line">redirect: timing.redirectEnd - timing.redirectStart,</span><br><span class="line">// DOM æ¸²æŸ“è€—æ—¶</span><br><span class="line">dom: timing.domComplete - timing.domLoading,</span><br><span class="line">// é¡µé¢åŠ è½½è€—æ—¶</span><br><span class="line">load: timing.loadEventEnd - timing.navigationStart,</span><br><span class="line">// é¡µé¢å¸è½½è€—æ—¶</span><br><span class="line">unload: timing.unloadEventEnd - timing.unloadEventStart,</span><br><span class="line">// è¯·æ±‚è€—æ—¶</span><br><span class="line">request: timing.responseEnd - timing.requestStart,</span><br><span class="line">// è·å–æ€§èƒ½ä¿¡æ¯æ—¶å½“å‰æ—¶é—´</span><br><span class="line">time: new Date().getTime(),</span><br></pre></td></tr></table></figure><p>è¿˜æœ‰ä¸€ä¸ªæ¯”è¾ƒé‡è¦çš„æ—¶é—´å°±æ˜¯<strong>ç™½å±æ—¶é—´</strong>ï¼Œå®ƒæŒ‡ä»è¾“å…¥ç½‘å€ï¼Œåˆ°é¡µé¢å¼€å§‹æ˜¾ç¤ºå†…å®¹çš„æ—¶é—´ã€‚</p><p>å°†ä»¥ä¸‹è„šæœ¬æ”¾åœ¨ <code>&lt;/head&gt;</code> å‰é¢å°±èƒ½è·å–ç™½å±æ—¶é—´ã€‚</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">  whiteScreen = <span class="keyword">new</span> <span class="title class_">Date</span>() - performance.<span class="property">timing</span>.<span class="property">navigationStart</span>;</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p>é€šè¿‡è¿™å‡ ä¸ªæ—¶é—´ï¼Œå°±å¯ä»¥å¾—çŸ¥é¡µé¢é¦–å±åŠ è½½æ€§èƒ½å¦‚ä½•äº†ã€‚</p><p>å¦å¤–ï¼Œé€šè¿‡ <code>window.performance.getEntriesByType(&#39;resource&#39;)</code> è¿™ä¸ªæ–¹æ³•ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥è·å–ç›¸å…³èµ„æºï¼ˆjsã€cssã€imgâ€¦ï¼‰çš„åŠ è½½æ—¶é—´ï¼Œå®ƒä¼šè¿”å›é¡µé¢å½“å‰æ‰€åŠ è½½çš„æ‰€æœ‰èµ„æºã€‚</p><p><img lazyload alt="image" data-src="https://cdn.statically.io/gh/XPoet/image-hosting@master/%E5%89%8D%E7%AB%AF%E5%B7%A5%E7%A8%8B%E5%8C%96/image.2um5k8wwze4.png" alt="image"></p><p>å®ƒä¸€èˆ¬åŒ…æ‹¬ä»¥ä¸‹å‡ ä¸ªç±»å‹</p><ul><li>sciprt</li><li>link</li><li>img</li><li>css</li><li>fetch</li><li>other</li><li>xmlhttprequest</li></ul><p>æˆ‘ä»¬åªéœ€ç”¨åˆ°ä»¥ä¸‹å‡ ä¸ªä¿¡æ¯</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">// èµ„æºçš„åç§°</span><br><span class="line">name: item.name,</span><br><span class="line">// èµ„æºåŠ è½½è€—æ—¶</span><br><span class="line">duration: item.duration.toFixed(2),</span><br><span class="line">// èµ„æºå¤§å°</span><br><span class="line">size: item.transferSize,</span><br><span class="line">// èµ„æºæ‰€ç”¨åè®®</span><br><span class="line">protocol: item.nextHopProtocol,</span><br></pre></td></tr></table></figure><p>ç°åœ¨ï¼Œå†™å‡ è¡Œä»£ç æ¥æ”¶é›†è¿™äº›æ•°æ®ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ”¶é›†æ€§èƒ½ä¿¡æ¯</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">getPerformance</span> = (<span class="params"></span>) =&gt; &#123;</span><br><span class="line">  <span class="keyword">if</span> (!<span class="variable language_">window</span>.<span class="property">performance</span>) <span class="keyword">return</span>;</span><br><span class="line">  <span class="keyword">const</span> timing = <span class="variable language_">window</span>.<span class="property">performance</span>.<span class="property">timing</span>;</span><br><span class="line">  <span class="keyword">const</span> performance = &#123;</span><br><span class="line">    <span class="comment">// é‡å®šå‘è€—æ—¶</span></span><br><span class="line">    <span class="attr">redirect</span>: timing.<span class="property">redirectEnd</span> - timing.<span class="property">redirectStart</span>,</span><br><span class="line">    <span class="comment">// ç™½å±æ—¶é—´</span></span><br><span class="line">    <span class="attr">whiteScreen</span>: whiteScreen,</span><br><span class="line">    <span class="comment">// DOM æ¸²æŸ“è€—æ—¶</span></span><br><span class="line">    <span class="attr">dom</span>: timing.<span class="property">domComplete</span> - timing.<span class="property">domLoading</span>,</span><br><span class="line">    <span class="comment">// é¡µé¢åŠ è½½è€—æ—¶</span></span><br><span class="line">    <span class="attr">load</span>: timing.<span class="property">loadEventEnd</span> - timing.<span class="property">navigationStart</span>,</span><br><span class="line">    <span class="comment">// é¡µé¢å¸è½½è€—æ—¶</span></span><br><span class="line">    <span class="attr">unload</span>: timing.<span class="property">unloadEventEnd</span> - timing.<span class="property">unloadEventStart</span>,</span><br><span class="line">    <span class="comment">// è¯·æ±‚è€—æ—¶</span></span><br><span class="line">    <span class="attr">request</span>: timing.<span class="property">responseEnd</span> - timing.<span class="property">requestStart</span>,</span><br><span class="line">    <span class="comment">// è·å–æ€§èƒ½ä¿¡æ¯æ—¶å½“å‰æ—¶é—´</span></span><br><span class="line">    <span class="attr">time</span>: <span class="keyword">new</span> <span class="title class_">Date</span>().<span class="title function_">getTime</span>(),</span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> performance;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// è·å–èµ„æºä¿¡æ¯</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">getResources</span> = (<span class="params"></span>) =&gt; &#123;</span><br><span class="line">  <span class="keyword">if</span> (!<span class="variable language_">window</span>.<span class="property">performance</span>) <span class="keyword">return</span>;</span><br><span class="line">  <span class="keyword">const</span> data = <span class="variable language_">window</span>.<span class="property">performance</span>.<span class="title function_">getEntriesByType</span>(<span class="string">&quot;resource&quot;</span>);</span><br><span class="line">  <span class="keyword">const</span> resource = &#123;</span><br><span class="line">    <span class="attr">xmlhttprequest</span>: [],</span><br><span class="line">    <span class="attr">css</span>: [],</span><br><span class="line">    <span class="attr">other</span>: [],</span><br><span class="line">    <span class="attr">script</span>: [],</span><br><span class="line">    <span class="attr">img</span>: [],</span><br><span class="line">    <span class="attr">link</span>: [],</span><br><span class="line">    <span class="attr">fetch</span>: [],</span><br><span class="line">    <span class="comment">// è·å–èµ„æºä¿¡æ¯æ—¶å½“å‰æ—¶é—´</span></span><br><span class="line">    <span class="attr">time</span>: <span class="keyword">new</span> <span class="title class_">Date</span>().<span class="title function_">getTime</span>(),</span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line">  data.<span class="title function_">forEach</span>(<span class="function">(<span class="params">item</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> arry = resource[item.<span class="property">initiatorType</span>];</span><br><span class="line">    arry &amp;&amp;</span><br><span class="line">      arry.<span class="title function_">push</span>(&#123;</span><br><span class="line">        <span class="comment">// èµ„æºçš„åç§°</span></span><br><span class="line">        <span class="attr">name</span>: item.<span class="property">name</span>,</span><br><span class="line">        <span class="comment">// èµ„æºåŠ è½½è€—æ—¶</span></span><br><span class="line">        <span class="attr">duration</span>: item.<span class="property">duration</span>.<span class="title function_">toFixed</span>(<span class="number">2</span>),</span><br><span class="line">        <span class="comment">// èµ„æºå¤§å°</span></span><br><span class="line">        <span class="attr">size</span>: item.<span class="property">transferSize</span>,</span><br><span class="line">        <span class="comment">// èµ„æºæ‰€ç”¨åè®®</span></span><br><span class="line">        <span class="attr">protocol</span>: item.<span class="property">nextHopProtocol</span>,</span><br><span class="line">      &#125;);</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> resource;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h4 id="å°ç»“"><a href="#å°ç»“" class="headerlink" title="å°ç»“"></a>å°ç»“</h4><p>é€šè¿‡å¯¹æ€§èƒ½åŠèµ„æºä¿¡æ¯çš„è§£è¯»ï¼Œæˆ‘ä»¬å¯ä»¥åˆ¤æ–­å‡ºé¡µé¢åŠ è½½æ…¢æœ‰ä»¥ä¸‹å‡ ä¸ªåŸå› ï¼š</p><ol><li>èµ„æºè¿‡å¤š</li><li>ç½‘é€Ÿè¿‡æ…¢</li><li>DOM å…ƒç´ è¿‡å¤š</li></ol><p>é™¤äº†ç”¨æˆ·ç½‘é€Ÿè¿‡æ…¢ï¼Œæˆ‘ä»¬æ²¡åŠæ³•ä¹‹å¤–ï¼Œå…¶ä»–ä¸¤ä¸ªåŸå› éƒ½æ˜¯æœ‰åŠæ³•è§£å†³çš„ï¼Œæ€§èƒ½ä¼˜åŒ–å°†åœ¨ä¸‹ä¸€èŠ‚ã€Šæ€§èƒ½ä¼˜åŒ–ã€‹ä¸­ä¼šè®²åˆ°ã€‚</p><h3 id="é”™è¯¯ç›‘æ§"><a href="#é”™è¯¯ç›‘æ§" class="headerlink" title="é”™è¯¯ç›‘æ§"></a>é”™è¯¯ç›‘æ§</h3><p>ç°åœ¨èƒ½æ•æ‰çš„é”™è¯¯æœ‰ä¸‰ç§ã€‚</p><ol><li>èµ„æºåŠ è½½é”™è¯¯ï¼Œé€šè¿‡ <code>addEventListener(&#39;error&#39;, callback, true)</code> åœ¨æ•è·é˜¶æ®µæ•æ‰èµ„æºåŠ è½½å¤±è´¥é”™è¯¯ã€‚</li><li>js æ‰§è¡Œé”™è¯¯ï¼Œé€šè¿‡ <code>window.onerror</code> æ•æ‰ js é”™è¯¯ã€‚</li><li>promise é”™è¯¯ï¼Œé€šè¿‡ <code>addEventListener(&#39;unhandledrejection&#39;, callback)</code> æ•æ‰ promise é”™è¯¯ï¼Œä½†æ˜¯æ²¡æœ‰å‘ç”Ÿé”™è¯¯çš„è¡Œæ•°ï¼Œåˆ—æ•°ç­‰ä¿¡æ¯ï¼Œåªèƒ½æ‰‹åŠ¨æŠ›å‡ºç›¸å…³é”™è¯¯ä¿¡æ¯ã€‚</li></ol><p>æˆ‘ä»¬å¯ä»¥å»ºä¸€ä¸ªé”™è¯¯æ•°ç»„å˜é‡ errors åœ¨é”™è¯¯å‘ç”Ÿæ—¶ï¼Œå°†é”™è¯¯çš„ç›¸å…³ä¿¡æ¯æ·»åŠ åˆ°æ•°ç»„ï¼Œç„¶ååœ¨æŸä¸ªé˜¶æ®µç»Ÿä¸€ä¸ŠæŠ¥ï¼Œå…·ä½“å¦‚ä½•æ“ä½œè¯·çœ‹ä»£ç </p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ•è·èµ„æºåŠ è½½å¤±è´¥é”™è¯¯ js css img...</span></span><br><span class="line"><span class="title function_">addEventListener</span>(</span><br><span class="line">  <span class="string">&quot;error&quot;</span>,</span><br><span class="line">  <span class="function">(<span class="params">e</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> target = e.<span class="property">target</span>;</span><br><span class="line">    <span class="keyword">if</span> (target != <span class="variable language_">window</span>) &#123;</span><br><span class="line">      monitor.<span class="property">errors</span>.<span class="title function_">push</span>(&#123;</span><br><span class="line">        <span class="attr">type</span>: target.<span class="property">localName</span>,</span><br><span class="line">        <span class="attr">url</span>: target.<span class="property">src</span> || target.<span class="property">href</span>,</span><br><span class="line">        <span class="attr">msg</span>: (target.<span class="property">src</span> || target.<span class="property">href</span>) + <span class="string">&quot; is load error&quot;</span>,</span><br><span class="line">        <span class="comment">// é”™è¯¯å‘ç”Ÿçš„æ—¶é—´</span></span><br><span class="line">        <span class="attr">time</span>: <span class="keyword">new</span> <span class="title class_">Date</span>().<span class="title function_">getTime</span>(),</span><br><span class="line">      &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="literal">true</span></span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç›‘å¬ js é”™è¯¯</span></span><br><span class="line"><span class="variable language_">window</span>.<span class="property">onerror</span> = <span class="keyword">function</span> (<span class="params">msg, url, row, col, error</span>) &#123;</span><br><span class="line">  monitor.<span class="property">errors</span>.<span class="title function_">push</span>(&#123;</span><br><span class="line">    <span class="attr">type</span>: <span class="string">&quot;javascript&quot;</span>,</span><br><span class="line">    <span class="attr">row</span>: row,</span><br><span class="line">    <span class="attr">col</span>: col,</span><br><span class="line">    <span class="attr">msg</span>: error &amp;&amp; error.<span class="property">stack</span> ? error.<span class="property">stack</span> : msg,</span><br><span class="line">    <span class="attr">url</span>: url,</span><br><span class="line">    <span class="comment">// é”™è¯¯å‘ç”Ÿçš„æ—¶é—´</span></span><br><span class="line">    <span class="attr">time</span>: <span class="keyword">new</span> <span class="title class_">Date</span>().<span class="title function_">getTime</span>(),</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç›‘å¬ promise é”™è¯¯ ç¼ºç‚¹æ˜¯è·å–ä¸åˆ°è¡Œæ•°æ•°æ®</span></span><br><span class="line"><span class="title function_">addEventListener</span>(<span class="string">&quot;unhandledrejection&quot;</span>, <span class="function">(<span class="params">e</span>) =&gt;</span> &#123;</span><br><span class="line">  monitor.<span class="property">errors</span>.<span class="title function_">push</span>(&#123;</span><br><span class="line">    <span class="attr">type</span>: <span class="string">&quot;promise&quot;</span>,</span><br><span class="line">    <span class="attr">msg</span>: (e.<span class="property">reason</span> &amp;&amp; e.<span class="property">reason</span>.<span class="property">msg</span>) || e.<span class="property">reason</span> || <span class="string">&quot;&quot;</span>,</span><br><span class="line">    <span class="comment">// é”™è¯¯å‘ç”Ÿçš„æ—¶é—´</span></span><br><span class="line">    <span class="attr">time</span>: <span class="keyword">new</span> <span class="title class_">Date</span>().<span class="title function_">getTime</span>(),</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h4 id="å°ç»“-1"><a href="#å°ç»“-1" class="headerlink" title="å°ç»“"></a>å°ç»“</h4><p>é€šè¿‡é”™è¯¯æ”¶é›†ï¼Œå¯ä»¥äº†è§£åˆ°ç½‘ç«™é”™è¯¯å‘ç”Ÿçš„ç±»å‹åŠæ•°é‡ï¼Œä»è€Œå¯ä»¥åšç›¸åº”çš„è°ƒæ•´ï¼Œä»¥å‡å°‘é”™è¯¯å‘ç”Ÿã€‚å®Œæ•´ä»£ç å’Œ DEMO è¯·çœ‹æˆ‘å¦ä¸€ç¯‡æ–‡ç«  <a class="link" target="_blank" rel="noopener" href="https://juejin.cn/post/6844903998412029959">å‰ç«¯æ€§èƒ½å’Œé”™è¯¯ç›‘æ§<i class="fas fa-external-link-alt"></i></a> çš„æœ«å°¾ï¼Œå¤§å®¶å¯ä»¥å¤åˆ¶ä»£ç ï¼ˆHTML æ–‡ä»¶ï¼‰åœ¨æœ¬åœ°æµ‹è¯•ä¸€ä¸‹ã€‚</p><h3 id="æ•°æ®ä¸ŠæŠ¥"><a href="#æ•°æ®ä¸ŠæŠ¥" class="headerlink" title="æ•°æ®ä¸ŠæŠ¥"></a>æ•°æ®ä¸ŠæŠ¥</h3><h4 id="æ€§èƒ½æ•°æ®ä¸ŠæŠ¥"><a href="#æ€§èƒ½æ•°æ®ä¸ŠæŠ¥" class="headerlink" title="æ€§èƒ½æ•°æ®ä¸ŠæŠ¥"></a>æ€§èƒ½æ•°æ®ä¸ŠæŠ¥</h4><p>æ€§èƒ½æ•°æ®å¯ä»¥åœ¨é¡µé¢åŠ è½½å®Œä¹‹åä¸ŠæŠ¥ï¼Œå°½é‡ä¸è¦å¯¹é¡µé¢æ€§èƒ½é€ æˆå½±å“ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">window</span>.<span class="property">onload</span> = <span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="comment">// åœ¨æµè§ˆå™¨ç©ºé—²æ—¶é—´è·å–æ€§èƒ½åŠèµ„æºä¿¡æ¯</span></span><br><span class="line">  <span class="comment">// https://developer.mozilla.org/zh-CN/docs/Web/API/Window/requestIdleCallback</span></span><br><span class="line">  <span class="keyword">if</span> (<span class="variable language_">window</span>.<span class="property">requestIdleCallback</span>) &#123;</span><br><span class="line">    <span class="variable language_">window</span>.<span class="title function_">requestIdleCallback</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">      monitor.<span class="property">performance</span> = <span class="title function_">getPerformance</span>();</span><br><span class="line">      monitor.<span class="property">resources</span> = <span class="title function_">getResources</span>();</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">      monitor.<span class="property">performance</span> = <span class="title function_">getPerformance</span>();</span><br><span class="line">      monitor.<span class="property">resources</span> = <span class="title function_">getResources</span>();</span><br><span class="line">    &#125;, <span class="number">0</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>å½“ç„¶ï¼Œä½ ä¹Ÿå¯ä»¥è®¾ä¸€ä¸ªå®šæ—¶å™¨ï¼Œå¾ªç¯ä¸ŠæŠ¥ã€‚ä¸è¿‡æ¯æ¬¡ä¸ŠæŠ¥æœ€å¥½åšä¸€ä¸‹å¯¹æ¯”å»é‡å†ä¸ŠæŠ¥ï¼Œé¿å…åŒæ ·çš„æ•°æ®é‡å¤ä¸ŠæŠ¥ã€‚</p><h4 id="é”™è¯¯æ•°æ®ä¸ŠæŠ¥"><a href="#é”™è¯¯æ•°æ®ä¸ŠæŠ¥" class="headerlink" title="é”™è¯¯æ•°æ®ä¸ŠæŠ¥"></a>é”™è¯¯æ•°æ®ä¸ŠæŠ¥</h4><p>æˆ‘åœ¨ DEMO é‡Œæä¾›çš„ä»£ç ï¼Œæ˜¯ç”¨ä¸€ä¸ª <code>errors</code> æ•°ç»„æ”¶é›†æ‰€æœ‰çš„é”™è¯¯ï¼Œå†åœ¨æŸä¸€é˜¶æ®µç»Ÿä¸€ä¸ŠæŠ¥ï¼ˆå»¶æ—¶ä¸ŠæŠ¥ï¼‰ã€‚å…¶å®ï¼Œä¹Ÿå¯ä»¥æ”¹æˆåœ¨é”™è¯¯å‘ç”Ÿæ—¶ä¸ŠæŠ¥ï¼ˆå³æ—¶ä¸ŠæŠ¥ï¼‰ã€‚è¿™æ ·å¯ä»¥é¿å…åœ¨æ”¶é›†å®Œé”™è¯¯å»¶æ—¶ä¸ŠæŠ¥è¿˜æ²¡è§¦å‘ï¼Œç”¨æˆ·å´å·²ç»å…³æ‰ç½‘é¡µå¯¼è‡´é”™è¯¯æ•°æ®ä¸¢å¤±çš„é—®é¢˜ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ç›‘å¬ js é”™è¯¯</span></span><br><span class="line"><span class="variable language_">window</span>.<span class="property">onerror</span> = <span class="keyword">function</span> (<span class="params">msg, url, row, col, error</span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> data = &#123;</span><br><span class="line">    <span class="attr">type</span>: <span class="string">&quot;javascript&quot;</span>,</span><br><span class="line">    <span class="attr">row</span>: row,</span><br><span class="line">    <span class="attr">col</span>: col,</span><br><span class="line">    <span class="attr">msg</span>: error &amp;&amp; error.<span class="property">stack</span> ? error.<span class="property">stack</span> : msg,</span><br><span class="line">    <span class="attr">url</span>: url,</span><br><span class="line">    <span class="comment">// é”™è¯¯å‘ç”Ÿçš„æ—¶é—´</span></span><br><span class="line">    <span class="attr">time</span>: <span class="keyword">new</span> <span class="title class_">Date</span>().<span class="title function_">getTime</span>(),</span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// å³æ—¶ä¸ŠæŠ¥</span></span><br><span class="line">  axios.<span class="title function_">post</span>(&#123; <span class="attr">url</span>: <span class="string">&quot;xxx&quot;</span>, data &#125;);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h3 id="SPA"><a href="#SPA" class="headerlink" title="SPA"></a>SPA</h3><p><code>window.performance</code> API æ˜¯æœ‰ç¼ºç‚¹çš„ï¼Œåœ¨ SPA åˆ‡æ¢è·¯ç”±æ—¶ï¼Œ<code>window.performance.timing</code> çš„æ•°æ®ä¸ä¼šæ›´æ–°ã€‚æ‰€ä»¥æˆ‘ä»¬éœ€è¦å¦æƒ³åŠæ³•æ¥ç»Ÿè®¡åˆ‡æ¢è·¯ç”±åˆ°åŠ è½½å®Œæˆçš„æ—¶é—´ã€‚<br>æ‹¿ Vue ä¸¾ä¾‹ï¼Œä¸€ä¸ªå¯è¡Œçš„åŠæ³•å°±æ˜¯åˆ‡æ¢è·¯ç”±æ—¶ï¼Œåœ¨è·¯ç”±çš„å…¨å±€å‰ç½®å®ˆå« <code>beforeEach</code> é‡Œè·å–å¼€å§‹æ—¶é—´ï¼Œåœ¨ç»„ä»¶çš„ <code>mounted</code> é’©å­é‡Œæ‰§è¡Œ <code>vm.$nextTick</code> å‡½æ•°æ¥è·å–ç»„ä»¶çš„æ¸²æŸ“å®Œæ¯•æ—¶é—´ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">router.<span class="title function_">beforeEach</span>(<span class="function">(<span class="params">to, <span class="keyword">from</span>, next</span>) =&gt;</span> &#123;</span><br><span class="line">  store.<span class="title function_">commit</span>(<span class="string">&quot;setPageLoadedStartTime&quot;</span>, <span class="keyword">new</span> <span class="title class_">Date</span>());</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">mounted</span>(<span class="params"></span>) &#123;</span><br><span class="line">	<span class="variable language_">this</span>.$nextTick(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">		<span class="variable language_">this</span>.<span class="property">$store</span>.<span class="title function_">commit</span>(<span class="string">&#x27;setPageLoadedTime&#x27;</span>, <span class="keyword">new</span> <span class="title class_">Date</span>() - <span class="variable language_">this</span>.<span class="property">$store</span>.<span class="property">state</span>.<span class="property">pageLoadedStartTime</span>)</span><br><span class="line">	&#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>é™¤äº†æ€§èƒ½å’Œé”™è¯¯ç›‘æ§ï¼Œå…¶å®æˆ‘ä»¬è¿˜å¯ä»¥åšå¾—æ›´å¤šã€‚</p><h3 id="ç”¨æˆ·ä¿¡æ¯æ”¶é›†"><a href="#ç”¨æˆ·ä¿¡æ¯æ”¶é›†" class="headerlink" title="ç”¨æˆ·ä¿¡æ¯æ”¶é›†"></a>ç”¨æˆ·ä¿¡æ¯æ”¶é›†</h3><h4 id="navigator"><a href="#navigator" class="headerlink" title="navigator"></a>navigator</h4><p>ä½¿ç”¨ <code>window.navigator</code> å¯ä»¥æ”¶é›†åˆ°ç”¨æˆ·çš„è®¾å¤‡ä¿¡æ¯ï¼Œæ“ä½œç³»ç»Ÿï¼Œæµè§ˆå™¨ä¿¡æ¯â€¦</p><h4 id="UV-Unique-visitor"><a href="#UV-Unique-visitor" class="headerlink" title="UV (Unique visitor)"></a>UV (Unique visitor)</h4><p>æ˜¯æŒ‡é€šè¿‡äº’è”ç½‘è®¿é—®ã€æµè§ˆè¿™ä¸ªç½‘é¡µçš„è‡ªç„¶äººã€‚è®¿é—®æ‚¨ç½‘ç«™çš„ä¸€å°ç”µè„‘å®¢æˆ·ç«¯ä¸ºä¸€ä¸ªè®¿å®¢ã€‚00:00-24:00 å†…ç›¸åŒçš„å®¢æˆ·ç«¯åªè¢«è®¡ç®—ä¸€æ¬¡ã€‚ä¸€å¤©å†…åŒä¸ªè®¿å®¢å¤šæ¬¡è®¿é—®ä»…è®¡ç®—ä¸€ä¸ª UVã€‚<br>åœ¨ç”¨æˆ·è®¿é—®ç½‘ç«™æ—¶ï¼Œå¯ä»¥ç”Ÿæˆä¸€ä¸ªéšæœºå­—ç¬¦ä¸² + æ—¶é—´æ—¥æœŸï¼Œä¿å­˜åœ¨æœ¬åœ°ã€‚åœ¨ç½‘é¡µå‘ç”Ÿè¯·æ±‚æ—¶ï¼ˆå¦‚æœè¶…è¿‡å½“å¤© 24 å°æ—¶ï¼Œåˆ™é‡æ–°ç”Ÿæˆï¼‰ï¼ŒæŠŠè¿™äº›å‚æ•°ä¼ åˆ°åç«¯ï¼Œåç«¯åˆ©ç”¨è¿™äº›ä¿¡æ¯ç”Ÿæˆ UV ç»Ÿè®¡æŠ¥å‘Šã€‚</p><h4 id="PV-Page-View"><a href="#PV-Page-View" class="headerlink" title="PV (Page View)"></a>PV (Page View)</h4><p>å³é¡µé¢æµè§ˆé‡æˆ–ç‚¹å‡»é‡ï¼Œç”¨æˆ·æ¯ 1 æ¬¡å¯¹ç½‘ç«™ä¸­çš„æ¯ä¸ªç½‘é¡µè®¿é—®å‡è¢«è®°å½• 1 ä¸ª PVã€‚ç”¨æˆ·å¯¹åŒä¸€é¡µé¢çš„å¤šæ¬¡è®¿é—®ï¼Œè®¿é—®é‡ç´¯è®¡ï¼Œç”¨ä»¥è¡¡é‡ç½‘ç«™ç”¨æˆ·è®¿é—®çš„ç½‘é¡µæ•°é‡ã€‚</p><h4 id="é¡µé¢åœç•™æ—¶é—´"><a href="#é¡µé¢åœç•™æ—¶é—´" class="headerlink" title="é¡µé¢åœç•™æ—¶é—´"></a>é¡µé¢åœç•™æ—¶é—´</h4><ul><li><p>ä¼ ç»Ÿç½‘ç«™<br>ç”¨æˆ·åœ¨è¿›å…¥ A é¡µé¢æ—¶ï¼Œé€šè¿‡åå°è¯·æ±‚æŠŠç”¨æˆ·è¿›å…¥é¡µé¢çš„æ—¶é—´æä¸Šã€‚è¿‡äº† 10 åˆ†é’Ÿï¼Œç”¨æˆ·è¿›å…¥ B é¡µé¢ï¼Œè¿™æ—¶åå°å¯ä»¥é€šè¿‡æ¥å£æå¸¦çš„å‚æ•°å¯ä»¥åˆ¤æ–­å‡ºç”¨æˆ·åœ¨ A é¡µé¢åœç•™äº† 10 åˆ†é’Ÿã€‚</p></li><li><p>SPA<br>å¯ä»¥åˆ©ç”¨ router æ¥è·å–ç”¨æˆ·åœç•™æ—¶é—´ï¼Œæ‹¿ Vue ä¸¾ä¾‹ï¼Œé€šè¿‡ r<code>outer.beforeEach</code>ã€<code>destroyed</code> è¿™ä¸¤ä¸ªé’©å­å‡½æ•°æ¥è·å–ç”¨æˆ·åœç•™è¯¥è·¯ç”±ç»„ä»¶çš„æ—¶é—´ã€‚</p></li></ul><h4 id="æµè§ˆæ·±åº¦"><a href="#æµè§ˆæ·±åº¦" class="headerlink" title="æµè§ˆæ·±åº¦"></a>æµè§ˆæ·±åº¦</h4><p>é€šè¿‡ <code>document.documentElement.scrollTop</code> å±æ€§ä»¥åŠå±å¹•é«˜åº¦ï¼Œå¯ä»¥åˆ¤æ–­ç”¨æˆ·æ˜¯å¦æµè§ˆå®Œç½‘ç«™å†…å®¹ã€‚</p><h4 id="é¡µé¢è·³è½¬æ¥æº"><a href="#é¡µé¢è·³è½¬æ¥æº" class="headerlink" title="é¡µé¢è·³è½¬æ¥æº"></a>é¡µé¢è·³è½¬æ¥æº</h4><p>é€šè¿‡ <code>document.referrer</code> å±æ€§ï¼Œå¯ä»¥çŸ¥é“ç”¨æˆ·æ˜¯ä»å“ªä¸ªç½‘ç«™è·³è½¬è€Œæ¥ã€‚</p><h4 id="å°ç»“-2"><a href="#å°ç»“-2" class="headerlink" title="å°ç»“"></a>å°ç»“</h4><p>é€šè¿‡åˆ†æç”¨æˆ·æ•°æ®ï¼Œæˆ‘ä»¬å¯ä»¥äº†è§£åˆ°ç”¨æˆ·çš„æµè§ˆä¹ æƒ¯ã€çˆ±å¥½ç­‰ç­‰ä¿¡æ¯ï¼Œæƒ³æƒ³çœŸæ˜¯ææ€–ï¼Œæ¯«æ— éšç§å¯è¨€ã€‚</p><h3 id="å‰ç«¯ç›‘æ§éƒ¨ç½²æ•™ç¨‹"><a href="#å‰ç«¯ç›‘æ§éƒ¨ç½²æ•™ç¨‹" class="headerlink" title="å‰ç«¯ç›‘æ§éƒ¨ç½²æ•™ç¨‹"></a>å‰ç«¯ç›‘æ§éƒ¨ç½²æ•™ç¨‹</h3><p>å‰é¢è¯´çš„éƒ½æ˜¯ç›‘æ§åŸç†ï¼Œä½†è¦å®ç°è¿˜æ˜¯å¾—è‡ªå·±åŠ¨æ‰‹å†™ä»£ç ã€‚ä¸ºäº†é¿å…éº»çƒ¦ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨ç°æœ‰çš„å·¥å…· sentry å»åšè¿™ä»¶äº‹ã€‚</p><p>sentry æ˜¯ä¸€ä¸ªç”¨ python å†™çš„æ€§èƒ½å’Œé”™è¯¯ç›‘æ§å·¥å…·ï¼Œä½ å¯ä»¥ä½¿ç”¨ sentry æä¾›çš„æœåŠ¡ï¼ˆå…è´¹åŠŸèƒ½å°‘ï¼‰ï¼Œä¹Ÿå¯ä»¥è‡ªå·±éƒ¨ç½²æœåŠ¡ã€‚ç°åœ¨æ¥çœ‹ä¸€ä¸‹å¦‚ä½•ä½¿ç”¨ sentry æä¾›çš„æœåŠ¡å®ç°ç›‘æ§ã€‚</p><h4 id="æ³¨å†Œè´¦å·"><a href="#æ³¨å†Œè´¦å·" class="headerlink" title="æ³¨å†Œè´¦å·"></a>æ³¨å†Œè´¦å·</h4><p>æ‰“å¼€ <a class="link" target="_blank" rel="noopener" href="https://sentry.io/signup/">https://sentry.io/signup/<i class="fas fa-external-link-alt"></i></a> ç½‘ç«™ï¼Œè¿›è¡Œæ³¨å†Œã€‚</p><p><img lazyload alt="image" data-src="https://cdn.statically.io/gh/XPoet/image-hosting@master/%E5%89%8D%E7%AB%AF%E5%B7%A5%E7%A8%8B%E5%8C%96/image.7jd4e853lw80.png" alt="image"></p><p><img lazyload alt="image" data-src="https://cdn.statically.io/gh/XPoet/image-hosting@master/%E5%89%8D%E7%AB%AF%E5%B7%A5%E7%A8%8B%E5%8C%96/image.3vq1s8jpd4o0.png" alt="image"></p><p>é€‰æ‹©é¡¹ç›®ï¼Œæˆ‘é€‰çš„ Vueã€‚</p><p><img lazyload alt="image" data-src="https://cdn.statically.io/gh/XPoet/image-hosting@master/%E5%89%8D%E7%AB%AF%E5%B7%A5%E7%A8%8B%E5%8C%96/image.6f4m9343a840.png" alt="image"></p><h4 id="å®‰è£…-sentry-ä¾èµ–"><a href="#å®‰è£…-sentry-ä¾èµ–" class="headerlink" title="å®‰è£… sentry ä¾èµ–"></a>å®‰è£… sentry ä¾èµ–</h4><p>é€‰å®Œé¡¹ç›®ï¼Œä¸‹é¢ä¼šæœ‰å…·ä½“çš„ sentry ä¾èµ–å®‰è£…æŒ‡å—ã€‚</p><p><img lazyload alt="image" data-src="https://cdn.statically.io/gh/XPoet/image-hosting@master/%E5%89%8D%E7%AB%AF%E5%B7%A5%E7%A8%8B%E5%8C%96/image.3i7u19pr83g0.png" alt="image"></p><p>æ ¹æ®æç¤ºï¼Œåœ¨ä½ çš„ Vue é¡¹ç›®æ‰§è¡Œè¿™æ®µä»£ç  <code>npm install --save @sentry/browser @sentry/integrations @sentry/tracing</code>ï¼Œå®‰è£… sentry æ‰€éœ€çš„ä¾èµ–ã€‚</p><p>å†å°†ä¸‹é¢çš„ä»£ç æ‹·åˆ°ä½ çš„ <code>main.js</code>ï¼Œæ”¾åœ¨ <code>new Vue()</code> ä¹‹å‰ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> * <span class="keyword">as</span> <span class="title class_">Sentry</span> <span class="keyword">from</span> <span class="string">&quot;@sentry/browser&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">Vue</span> <span class="keyword">as</span> <span class="title class_">VueIntegration</span> &#125; <span class="keyword">from</span> <span class="string">&quot;@sentry/integrations&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">Integrations</span> &#125; <span class="keyword">from</span> <span class="string">&quot;@sentry/tracing&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="title class_">Sentry</span>.<span class="title function_">init</span>(&#123;</span><br><span class="line">  <span class="attr">dsn</span>: <span class="string">&quot;xxxxx&quot;</span>, <span class="comment">// è¿™é‡Œæ˜¯ä½ çš„ dsn åœ°å€ï¼Œæ³¨å†Œå®Œå°±æœ‰</span></span><br><span class="line">  <span class="attr">integrations</span>: [</span><br><span class="line">    <span class="keyword">new</span> <span class="title class_">VueIntegration</span>(&#123;</span><br><span class="line">      <span class="title class_">Vue</span>,</span><br><span class="line">      <span class="attr">tracing</span>: <span class="literal">true</span>,</span><br><span class="line">    &#125;),</span><br><span class="line">    <span class="keyword">new</span> <span class="title class_">Integrations</span>.<span class="title class_">BrowserTracing</span>(),</span><br><span class="line">  ],</span><br><span class="line"></span><br><span class="line">  <span class="comment">// We recommend adjusting this value in production, or using tracesSampler</span></span><br><span class="line">  <span class="comment">// for finer control</span></span><br><span class="line">  <span class="attr">tracesSampleRate</span>: <span class="number">1.0</span>,</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>ç„¶åç‚¹å‡»ç¬¬ä¸€æ­¥ä¸­çš„ <code>skip this onboarding</code>ï¼Œè¿›å…¥æ§åˆ¶å°é¡µé¢ã€‚</p><p>å¦‚æœå¿˜äº†è‡ªå·±çš„ DSNï¼Œè¯·ç‚¹å‡»å·¦è¾¹çš„èœå•æ é€‰æ‹© Settings -&gt; Projects -&gt; ç‚¹å‡»è‡ªå·±çš„é¡¹ç›® -&gt; Client Keys(DSN)ã€‚</p><h4 id="åˆ›å»ºç¬¬ä¸€ä¸ªé”™è¯¯"><a href="#åˆ›å»ºç¬¬ä¸€ä¸ªé”™è¯¯" class="headerlink" title="åˆ›å»ºç¬¬ä¸€ä¸ªé”™è¯¯"></a>åˆ›å»ºç¬¬ä¸€ä¸ªé”™è¯¯</h4><p>åœ¨ä½ çš„ Vue é¡¹ç›®æ‰§è¡Œä¸€ä¸ªæ‰“å°è¯­å¥ <code>console.log(b)</code>ã€‚</p><p>è¿™æ—¶ç‚¹å¼€ sentry ä¸»é¡µçš„ issues ä¸€é¡¹ï¼Œå¯ä»¥å‘ç°æœ‰ä¸€ä¸ªæŠ¥é”™ä¿¡æ¯ <code>b is not defined</code>ï¼š</p><p><img lazyload alt="image" data-src="https://cdn.statically.io/gh/XPoet/image-hosting@master/%E5%89%8D%E7%AB%AF%E5%B7%A5%E7%A8%8B%E5%8C%96/image.5w2pucwba480.png" alt="image"></p><p>è¿™ä¸ªæŠ¥é”™ä¿¡æ¯åŒ…å«äº†é”™è¯¯çš„å…·ä½“ä¿¡æ¯ï¼Œè¿˜æœ‰ä½ çš„ IPã€æµè§ˆå™¨ä¿¡æ¯ç­‰ç­‰ã€‚</p><p>ä½†å¥‡æ€ªçš„æ˜¯ï¼Œæˆ‘ä»¬çš„æµè§ˆå™¨æ§åˆ¶å°å¹¶æ²¡æœ‰è¾“å‡ºæŠ¥é”™ä¿¡æ¯ã€‚</p><p>è¿™æ˜¯å› ä¸ºè¢« sentry å±è”½äº†ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦åŠ ä¸Šä¸€ä¸ªé€‰é¡¹ <code>logErrors: true</code>ã€‚</p><p><img lazyload alt="image" data-src="https://cdn.statically.io/gh/XPoet/image-hosting@master/%E5%89%8D%E7%AB%AF%E5%B7%A5%E7%A8%8B%E5%8C%96/image.22rx8mip0nq8.png" alt="image"></p><p>ç„¶åå†æŸ¥çœ‹é¡µé¢ï¼Œå‘ç°æ§åˆ¶å°ä¹Ÿæœ‰æŠ¥é”™ä¿¡æ¯äº†ï¼š</p><p><img lazyload alt="image" data-src="https://cdn.statically.io/gh/XPoet/image-hosting@master/%E5%89%8D%E7%AB%AF%E5%B7%A5%E7%A8%8B%E5%8C%96/image.747fn7m5rw40.png" alt="image"></p><h4 id="ä¸Šä¼ -sourcemap"><a href="#ä¸Šä¼ -sourcemap" class="headerlink" title="ä¸Šä¼  sourcemap"></a>ä¸Šä¼  sourcemap</h4><p>ä¸€èˆ¬æ‰“åŒ…åçš„ä»£ç éƒ½æ˜¯ç»è¿‡å‹ç¼©çš„ï¼Œå¦‚æœæ²¡æœ‰ sourcemapï¼Œå³ä½¿æœ‰æŠ¥é”™ä¿¡æ¯ï¼Œä½ ä¹Ÿå¾ˆéš¾æ ¹æ®æç¤ºæ‰¾åˆ°å¯¹åº”çš„æºç åœ¨å“ªã€‚</p><p>ä¸‹é¢æ¥çœ‹ä¸€ä¸‹å¦‚ä½•ä¸Šä¼  sourcemapã€‚</p><p>é¦–å…ˆåˆ›å»º auth tokenã€‚</p><p><img lazyload alt="image" data-src="https://cdn.statically.io/gh/XPoet/image-hosting@master/%E5%89%8D%E7%AB%AF%E5%B7%A5%E7%A8%8B%E5%8C%96/image.6w7q0oxfurs0.png" alt="image"></p><p><img lazyload alt="image" data-src="https://cdn.statically.io/gh/XPoet/image-hosting@master/%E5%89%8D%E7%AB%AF%E5%B7%A5%E7%A8%8B%E5%8C%96/image.3cg2pjj58qk0.png" alt="image"></p><p><img lazyload alt="image" data-src="https://cdn.statically.io/gh/XPoet/image-hosting@master/%E5%89%8D%E7%AB%AF%E5%B7%A5%E7%A8%8B%E5%8C%96/image.7iqo7alnppg0.png" alt="image"></p><p><img lazyload alt="image" data-src="https://cdn.statically.io/gh/XPoet/image-hosting@master/%E5%89%8D%E7%AB%AF%E5%B7%A5%E7%A8%8B%E5%8C%96/image.4v2hzuyxw940.png" alt="image"></p><p>è¿™ä¸ªç”Ÿæˆçš„ token ä¸€ä¼šè¦ç”¨åˆ°ã€‚</p><p>å®‰è£… <code>sentry-cli</code> å’Œ <code>@sentry/webpack-plugin</code>ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm install sentry-cli-binary -g</span><br><span class="line">npm install --save-dev @sentry/webpack-plugin</span><br></pre></td></tr></table></figure><p>å®‰è£…å®Œä¸Šé¢ä¸¤ä¸ªæ’ä»¶åï¼Œåœ¨é¡¹ç›®æ ¹ç›®å½•åˆ›å»ºä¸€ä¸ª <code>.sentryclirc</code> æ–‡ä»¶ï¼ˆä¸è¦å¿˜äº†åœ¨ <code>.gitignore</code> æŠŠè¿™ä¸ªæ–‡ä»¶æ·»åŠ ä¸Šï¼Œä»¥å…æš´éœ² tokenï¼‰ï¼Œå†…å®¹å¦‚ä¸‹ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[auth]</span><br><span class="line">token=xxx</span><br><span class="line"></span><br><span class="line">[defaults]</span><br><span class="line">url=https://sentry.io/</span><br><span class="line">org=woai3c</span><br><span class="line">project=woai3c</span><br></pre></td></tr></table></figure><p>æŠŠ xxx æ›¿æ¢æˆåˆšæ‰ç”Ÿæˆçš„ tokenã€‚</p><p>org æ˜¯ä½ çš„ç»„ç»‡åç§°ã€‚</p><p><img lazyload alt="image" data-src="https://cdn.statically.io/gh/XPoet/image-hosting@master/%E5%89%8D%E7%AB%AF%E5%B7%A5%E7%A8%8B%E5%8C%96/image.3lgiick9l4c0.png" alt="image"></p><p>project æ˜¯ä½ çš„é¡¹ç›®åç§°ï¼Œæ ¹æ®ä¸‹é¢çš„æç¤ºå¯ä»¥æ‰¾åˆ°ã€‚</p><p><img lazyload alt="image" data-src="https://cdn.statically.io/gh/XPoet/image-hosting@master/%E5%89%8D%E7%AB%AF%E5%B7%A5%E7%A8%8B%E5%8C%96/image.63h29nch8300.png" alt="image"></p><p><img lazyload alt="image" data-src="https://cdn.statically.io/gh/XPoet/image-hosting@master/%E5%89%8D%E7%AB%AF%E5%B7%A5%E7%A8%8B%E5%8C%96/image.266t13dd798g.png" alt="image"></p><p>åœ¨é¡¹ç›®ä¸‹æ–°å»º <code>vue.config.js</code> æ–‡ä»¶ï¼ŒæŠŠä¸‹é¢çš„å†…å®¹å¡«è¿›å»ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="title class_">SentryWebpackPlugin</span> = <span class="built_in">require</span>(<span class="string">&quot;@sentry/webpack-plugin&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> config = &#123;</span><br><span class="line">  <span class="attr">configureWebpack</span>: &#123;</span><br><span class="line">    <span class="attr">plugins</span>: [</span><br><span class="line">      <span class="keyword">new</span> <span class="title class_">SentryWebpackPlugin</span>(&#123;</span><br><span class="line">        <span class="attr">include</span>: <span class="string">&quot;./dist&quot;</span>, <span class="comment">// æ‰“åŒ…åçš„ç›®å½•</span></span><br><span class="line">        <span class="attr">ignore</span>: [<span class="string">&quot;node_modules&quot;</span>, <span class="string">&quot;vue.config.js&quot;</span>, <span class="string">&quot;babel.config.js&quot;</span>],</span><br><span class="line">      &#125;),</span><br><span class="line">    ],</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// åªåœ¨ç”Ÿäº§ç¯å¢ƒä¸‹ä¸Šä¼  sourcemap</span></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = process.<span class="property">env</span>.<span class="property">NODE_ENV</span> == <span class="string">&quot;production&quot;</span> ? config : &#123;&#125;;</span><br></pre></td></tr></table></figure><p>å¡«å®Œä»¥åï¼Œæ‰§è¡Œ <code>npm run build</code>ï¼Œå°±å¯ä»¥çœ‹åˆ° <code>sourcemap</code> çš„ä¸Šä¼ ç»“æœäº†ã€‚</p><p><img lazyload alt="image" data-src="https://cdn.statically.io/gh/XPoet/image-hosting@master/%E5%89%8D%E7%AB%AF%E5%B7%A5%E7%A8%8B%E5%8C%96/image.vtifvhs3h6.png" alt="image"></p><p>æˆ‘ä»¬å†æ¥çœ‹ä¸€ä¸‹æ²¡ä¸Šä¼  sourcemap å’Œä¸Šä¼ ä¹‹åçš„æŠ¥é”™ä¿¡æ¯å¯¹æ¯”ã€‚</p><h5 id="æœªä¸Šä¼ -sourcemap"><a href="#æœªä¸Šä¼ -sourcemap" class="headerlink" title="æœªä¸Šä¼  sourcemap"></a>æœªä¸Šä¼  sourcemap</h5><p><img lazyload alt="image" data-src="https://cdn.statically.io/gh/XPoet/image-hosting@master/%E5%89%8D%E7%AB%AF%E5%B7%A5%E7%A8%8B%E5%8C%96/image.57gn1tm4jps0.png" alt="image"></p><p><img lazyload alt="image" data-src="https://cdn.statically.io/gh/XPoet/image-hosting@master/%E5%89%8D%E7%AB%AF%E5%B7%A5%E7%A8%8B%E5%8C%96/image.3au6f8tmkwi0.png" alt="image"></p><h5 id="å·²ä¸Šä¼ -sourcemap"><a href="#å·²ä¸Šä¼ -sourcemap" class="headerlink" title="å·²ä¸Šä¼  sourcemap"></a>å·²ä¸Šä¼  sourcemap</h5><p><img lazyload alt="image" data-src="https://cdn.statically.io/gh/XPoet/image-hosting@master/%E5%89%8D%E7%AB%AF%E5%B7%A5%E7%A8%8B%E5%8C%96/image.289qjt3x0fvo.png" alt="image"></p><p><img lazyload alt="image" data-src="https://cdn.statically.io/gh/XPoet/image-hosting@master/%E5%89%8D%E7%AB%AF%E5%B7%A5%E7%A8%8B%E5%8C%96/image.668wlj1ee1w0.png" alt="image"></p><p>å¯ä»¥çœ‹åˆ°ï¼Œä¸Šä¼  sourcemap åçš„æŠ¥é”™ä¿¡æ¯æ›´åŠ å‡†ç¡®ã€‚</p><h4 id="åˆ‡æ¢ä¸­æ–‡ç¯å¢ƒå’Œæ—¶åŒº"><a href="#åˆ‡æ¢ä¸­æ–‡ç¯å¢ƒå’Œæ—¶åŒº" class="headerlink" title="åˆ‡æ¢ä¸­æ–‡ç¯å¢ƒå’Œæ—¶åŒº"></a>åˆ‡æ¢ä¸­æ–‡ç¯å¢ƒå’Œæ—¶åŒº</h4><p><img lazyload alt="image" data-src="https://cdn.statically.io/gh/XPoet/image-hosting@master/%E5%89%8D%E7%AB%AF%E5%B7%A5%E7%A8%8B%E5%8C%96/image.54xrae5g8m40.png" alt="image"></p><p><img lazyload alt="image" data-src="https://cdn.statically.io/gh/XPoet/image-hosting@master/%E5%89%8D%E7%AB%AF%E5%B7%A5%E7%A8%8B%E5%8C%96/image.41gtnvd615c0.png" alt="image"></p><p>é€‰å®Œåˆ·æ–°å³å¯ã€‚</p><h4 id="æ€§èƒ½ç›‘æ§-1"><a href="#æ€§èƒ½ç›‘æ§-1" class="headerlink" title="æ€§èƒ½ç›‘æ§"></a>æ€§èƒ½ç›‘æ§</h4><p><img lazyload alt="image" data-src="https://cdn.statically.io/gh/XPoet/image-hosting@master/%E5%89%8D%E7%AB%AF%E5%B7%A5%E7%A8%8B%E5%8C%96/image.2il8pvtpc880.png" alt="image"></p><p>æ‰“å¼€ performance é€‰é¡¹ï¼Œå°±èƒ½çœ‹åˆ°ä½ æ¯ä¸ªé¡¹ç›®çš„è¿è¡Œæƒ…å†µã€‚å…·ä½“çš„å‚æ•°è§£é‡Šè¯·çœ‹æ–‡æ¡£ <a class="link" target="_blank" rel="noopener" href="https://docs.sentry.io/product/performance/">Performance Monitoring<i class="fas fa-external-link-alt"></i></a>ã€‚</p><h2 id="æ€§èƒ½ä¼˜åŒ–"><a href="#æ€§èƒ½ä¼˜åŒ–" class="headerlink" title="æ€§èƒ½ä¼˜åŒ–"></a>æ€§èƒ½ä¼˜åŒ–</h2><p>æ€§èƒ½ä¼˜åŒ–ä¸»è¦åˆ†ä¸ºä¸¤ç±»ï¼š</p><ol><li>åŠ è½½æ—¶ä¼˜åŒ–</li><li>è¿è¡Œæ—¶ä¼˜åŒ–</li></ol><p>ä¾‹å¦‚å‹ç¼©æ–‡ä»¶ã€ä½¿ç”¨ CDN å°±å±äºåŠ è½½æ—¶ä¼˜åŒ–ï¼›å‡å°‘ DOM æ“ä½œï¼Œä½¿ç”¨äº‹ä»¶å§”æ‰˜å±äºè¿è¡Œæ—¶ä¼˜åŒ–ã€‚<br>åœ¨è§£å†³é—®é¢˜ä¹‹å‰ï¼Œå¿…é¡»å…ˆæ‰¾å‡ºé—®é¢˜ï¼Œå¦åˆ™æ— ä»ä¸‹æ‰‹ã€‚æ‰€ä»¥åœ¨åšæ€§èƒ½ä¼˜åŒ–ä¹‹å‰ï¼Œæœ€å¥½å…ˆè°ƒæŸ¥ä¸€ä¸‹ç½‘ç«™çš„åŠ è½½æ€§èƒ½å’Œè¿è¡Œæ€§èƒ½ã€‚</p><h3 id="æ‰‹åŠ¨æ£€æŸ¥"><a href="#æ‰‹åŠ¨æ£€æŸ¥" class="headerlink" title="æ‰‹åŠ¨æ£€æŸ¥"></a>æ‰‹åŠ¨æ£€æŸ¥</h3><h4 id="æ£€æŸ¥åŠ è½½æ€§èƒ½"><a href="#æ£€æŸ¥åŠ è½½æ€§èƒ½" class="headerlink" title="æ£€æŸ¥åŠ è½½æ€§èƒ½"></a>æ£€æŸ¥åŠ è½½æ€§èƒ½</h4><p>ä¸€ä¸ªç½‘ç«™åŠ è½½æ€§èƒ½å¦‚ä½•ä¸»è¦çœ‹ç™½å±æ—¶é—´å’Œé¦–å±æ—¶é—´ã€‚</p><ul><li>ç™½å±æ—¶é—´ï¼šæŒ‡ä»è¾“å…¥ç½‘å€ï¼Œåˆ°é¡µé¢å¼€å§‹æ˜¾ç¤ºå†…å®¹çš„æ—¶é—´ã€‚</li><li>é¦–å±æ—¶é—´ï¼šæŒ‡ä»è¾“å…¥ç½‘å€ï¼Œåˆ°é¡µé¢å®Œå…¨æ¸²æŸ“çš„æ—¶é—´ã€‚</li></ul><p>å°†ä»¥ä¸‹è„šæœ¬æ”¾åœ¨ <code>&lt;/head&gt;</code> å‰é¢å°±èƒ½è·å–ç™½å±æ—¶é—´ã€‚</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">  <span class="keyword">new</span> <span class="title class_">Date</span>() - performance.<span class="property">timing</span>.<span class="property">navigationStart</span>;</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p>åœ¨ <code>window.onload</code> äº‹ä»¶é‡Œæ‰§è¡Œ <code>new Date() - performance.timing.navigationStart</code> å³å¯è·å–é¦–å±æ—¶é—´ã€‚</p><h4 id="æ£€æŸ¥è¿è¡Œæ€§èƒ½"><a href="#æ£€æŸ¥è¿è¡Œæ€§èƒ½" class="headerlink" title="æ£€æŸ¥è¿è¡Œæ€§èƒ½"></a>æ£€æŸ¥è¿è¡Œæ€§èƒ½</h4><p>é…åˆ chrome çš„å¼€å‘è€…å·¥å…·ï¼Œæˆ‘ä»¬å¯ä»¥æŸ¥çœ‹ç½‘ç«™åœ¨è¿è¡Œæ—¶çš„æ€§èƒ½ã€‚<br>æ‰“å¼€ç½‘ç«™ï¼ŒæŒ‰ F12 é€‰æ‹© performanceï¼Œç‚¹å‡»å·¦ä¸Šè§’çš„ç°è‰²åœ†ç‚¹ï¼Œå˜æˆçº¢è‰²å°±ä»£è¡¨å¼€å§‹è®°å½•äº†ã€‚è¿™æ—¶å¯ä»¥æ¨¡ä»¿ç”¨æˆ·ä½¿ç”¨ç½‘ç«™ï¼Œåœ¨ä½¿ç”¨å®Œæ¯•åï¼Œç‚¹å‡» stopï¼Œç„¶åä½ å°±èƒ½çœ‹åˆ°ç½‘ç«™è¿è¡ŒæœŸé—´çš„æ€§èƒ½æŠ¥å‘Šã€‚å¦‚æœæœ‰çº¢è‰²çš„å—ï¼Œä»£è¡¨æœ‰æ‰å¸§çš„æƒ…å†µï¼›å¦‚æœæ˜¯ç»¿è‰²ï¼Œåˆ™ä»£è¡¨ FPS å¾ˆå¥½ã€‚<br>å¦å¤–ï¼Œåœ¨ performance æ ‡ç­¾ä¸‹ï¼ŒæŒ‰ ESC ä¼šå¼¹å‡ºæ¥ä¸€ä¸ªå°æ¡†ã€‚ç‚¹å‡»å°æ¡†å·¦è¾¹çš„ä¸‰ä¸ªç‚¹ï¼ŒæŠŠ rendering å‹¾å‡ºæ¥ã€‚</p><p><img lazyload alt="image" data-src="https://cdn.statically.io/gh/XPoet/image-hosting@master/%E5%89%8D%E7%AB%AF%E5%B7%A5%E7%A8%8B%E5%8C%96/image.zsikkg7cqdc.png" alt="image"></p><p><img lazyload alt="image" data-src="https://cdn.statically.io/gh/XPoet/image-hosting@master/%E5%89%8D%E7%AB%AF%E5%B7%A5%E7%A8%8B%E5%8C%96/image.7hybbsvdtdc0.png" alt="image"></p><p>è¿™ä¸¤ä¸ªé€‰é¡¹ï¼Œç¬¬ä¸€ä¸ªæ˜¯é«˜äº®é‡ç»˜åŒºåŸŸï¼Œå¦ä¸€ä¸ªæ˜¯æ˜¾ç¤ºå¸§æ¸²æŸ“ä¿¡æ¯ã€‚æŠŠè¿™ä¸¤ä¸ªé€‰é¡¹å‹¾ä¸Šï¼Œç„¶åæµè§ˆç½‘é¡µï¼Œå¯ä»¥å®æ—¶çš„çœ‹åˆ°ä½ ç½‘é¡µæ¸²æŸ“å˜åŒ–ã€‚</p><h3 id="åˆ©ç”¨å·¥å…·æ£€æŸ¥"><a href="#åˆ©ç”¨å·¥å…·æ£€æŸ¥" class="headerlink" title="åˆ©ç”¨å·¥å…·æ£€æŸ¥"></a>åˆ©ç”¨å·¥å…·æ£€æŸ¥</h3><h4 id="ç›‘æ§å·¥å…·"><a href="#ç›‘æ§å·¥å…·" class="headerlink" title="ç›‘æ§å·¥å…·"></a>ç›‘æ§å·¥å…·</h4><p>å¯ä»¥éƒ¨ç½²ä¸€ä¸ªå‰ç«¯ç›‘æ§ç³»ç»Ÿæ¥ç›‘æ§ç½‘ç«™æ€§èƒ½ï¼Œä¸Šä¸€èŠ‚ä¸­è®²åˆ°çš„ sentry å°±å±äºè¿™ä¸€ç±»ã€‚</p><h4 id="chrome-å·¥å…·-Lighthouse"><a href="#chrome-å·¥å…·-Lighthouse" class="headerlink" title="chrome å·¥å…· Lighthouse"></a>chrome å·¥å…· Lighthouse</h4><p>å¦‚æœä½ å®‰è£…äº† Chrome 52+ ç‰ˆæœ¬ï¼Œè¯·æŒ‰ F12 æ‰“å¼€å¼€å‘è€…å·¥å…·ã€‚</p><p><img lazyload alt="image" data-src="https://cdn.statically.io/gh/XPoet/image-hosting@master/%E5%89%8D%E7%AB%AF%E5%B7%A5%E7%A8%8B%E5%8C%96/image.111eyfj3py9s.png" alt="image"></p><p>å®ƒä¸ä»…ä¼šå¯¹ä½ ç½‘ç«™çš„æ€§èƒ½æ‰“åˆ†ï¼Œè¿˜ä¼šå¯¹ SEO æ‰“åˆ†ã€‚</p><p><img lazyload alt="image" data-src="https://cdn.statically.io/gh/XPoet/image-hosting@master/%E5%89%8D%E7%AB%AF%E5%B7%A5%E7%A8%8B%E5%8C%96/image.49edazgan600.png" alt="image"></p><p><a class="link" target="_blank" rel="noopener" href="https://developers.google.com/web/tools/lighthouse">ä½¿ç”¨ Lighthouse å®¡æŸ¥ç½‘ç»œåº”ç”¨<i class="fas fa-external-link-alt"></i></a></p><h3 id="å¦‚ä½•åšæ€§èƒ½ä¼˜åŒ–"><a href="#å¦‚ä½•åšæ€§èƒ½ä¼˜åŒ–" class="headerlink" title="å¦‚ä½•åšæ€§èƒ½ä¼˜åŒ–"></a>å¦‚ä½•åšæ€§èƒ½ä¼˜åŒ–</h3><p>ç½‘ä¸Šå…³äºæ€§èƒ½ä¼˜åŒ–çš„æ–‡ç« å’Œä¹¦ç±å¤šä¸èƒœæ•°ï¼Œä½†æœ‰å¾ˆå¤šä¼˜åŒ–è§„åˆ™å·²ç»è¿‡æ—¶äº†ã€‚æ‰€ä»¥æˆ‘å†™äº†ä¸€ç¯‡æ€§èƒ½ä¼˜åŒ–æ–‡ç«  <a class="link" target="_blank" rel="noopener" href="https://juejin.cn/post/6892994632968306702">å‰ç«¯æ€§èƒ½ä¼˜åŒ– 24 æ¡å»ºè®® (2020)<i class="fas fa-external-link-alt"></i></a>ï¼Œåˆ†ææ€»ç»“å‡ºäº† 24 æ¡æ€§èƒ½ä¼˜åŒ–å»ºè®®ï¼Œå¼ºçƒˆæ¨èã€‚</p><h2 id="é‡æ„"><a href="#é‡æ„" class="headerlink" title="é‡æ„"></a>é‡æ„</h2><p><a class="link" target="_blank" rel="noopener" href="https://book.douban.com/subject/30468597/">ã€Šé‡æ„ 2ã€‹<i class="fas fa-external-link-alt"></i></a>ä¸€ä¹¦ä¸­å¯¹é‡æ„è¿›è¡Œäº†å®šä¹‰ï¼š</p><blockquote><p>æ‰€è°“é‡æ„ï¼ˆrefactoringï¼‰æ˜¯è¿™æ ·ä¸€ä¸ªè¿‡ç¨‹ï¼šåœ¨ä¸æ”¹å˜ä»£ç å¤–åœ¨è¡Œä¸ºçš„å‰æä¸‹ï¼Œå¯¹ä»£ç åšå‡ºä¿®æ”¹ï¼Œä»¥æ”¹è¿›ç¨‹åºçš„å†…éƒ¨ç»“æ„ã€‚é‡æ„æ˜¯ä¸€ç§ç»åƒé”¤ç™¾ç‚¼å½¢æˆçš„æœ‰æ¡ä¸ç´Šçš„ç¨‹åºæ•´ç†æ–¹æ³•ï¼Œå¯ä»¥æœ€å¤§é™åº¦åœ°å‡å°æ•´ç†è¿‡ç¨‹ä¸­å¼•å…¥é”™è¯¯çš„æ¦‚ç‡ã€‚æœ¬è´¨ä¸Šè¯´ï¼Œé‡æ„å°±æ˜¯åœ¨ä»£ç å†™å¥½ä¹‹åæ”¹è¿›å®ƒçš„è®¾è®¡ã€‚</p></blockquote><p>é‡æ„å’Œæ€§èƒ½ä¼˜åŒ–æœ‰ç›¸åŒç‚¹ï¼Œä¹Ÿæœ‰ä¸åŒç‚¹ã€‚</p><p>ç›¸åŒçš„åœ°æ–¹æ˜¯å®ƒä»¬éƒ½åœ¨ä¸æ”¹å˜ç¨‹åºåŠŸèƒ½çš„æƒ…å†µä¸‹ä¿®æ”¹ä»£ç ï¼›ä¸åŒçš„åœ°æ–¹æ˜¯é‡æ„ä¸ºäº†è®©ä»£ç å˜å¾—æ›´åŠ æ˜“è¯»ã€ç†è§£ï¼Œæ€§èƒ½ä¼˜åŒ–åˆ™æ˜¯ä¸ºäº†è®©ç¨‹åºè¿è¡Œå¾—æ›´å¿«ã€‚<br>é‡æ„å¯ä»¥ä¸€è¾¹å†™ä»£ç ä¸€è¾¹é‡æ„ï¼Œä¹Ÿå¯ä»¥åœ¨ç¨‹åºå†™å®Œåï¼Œæ‹¿å‡ºä¸€æ®µæ—¶é—´ä¸“é—¨å»åšé‡æ„ã€‚æ²¡æœ‰è¯´å“ªä¸ªæ–¹å¼æ›´å¥½ï¼Œè§†ä¸ªäººæƒ…å†µè€Œå®šã€‚</p><p>å¦‚æœä½ ä¸“é—¨æ‹¿ä¸€æ®µæ—¶é—´æ¥åšé‡æ„ï¼Œå»ºè®®ä½ åœ¨é‡æ„ä¸€æ®µä»£ç åï¼Œç«‹å³è¿›è¡Œæµ‹è¯•ã€‚è¿™æ ·å¯ä»¥é¿å…ä¿®æ”¹ä»£ç å¤ªå¤šï¼Œåœ¨å‡ºé”™æ—¶æ‰¾ä¸åˆ°é”™è¯¯ç‚¹ã€‚</p><h3 id="é‡æ„çš„åŸåˆ™"><a href="#é‡æ„çš„åŸåˆ™" class="headerlink" title="é‡æ„çš„åŸåˆ™"></a>é‡æ„çš„åŸåˆ™</h3><ol><li>äº‹ä¸è¿‡ä¸‰ï¼Œä¸‰åˆ™é‡æ„ã€‚å³ä¸èƒ½é‡å¤å†™åŒæ ·çš„ä»£ç ï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹è¦å»é‡æ„ã€‚</li><li>å¦‚æœä¸€æ®µä»£ç è®©äººå¾ˆéš¾çœ‹æ‡‚ï¼Œé‚£å°±è¯¥è€ƒè™‘é‡æ„äº†ã€‚</li><li>å¦‚æœå·²ç»ç†è§£äº†ä»£ç ï¼Œä½†æ˜¯éå¸¸ç¹çæˆ–è€…ä¸å¤Ÿå¥½ï¼Œä¹Ÿå¯ä»¥é‡æ„ã€‚</li><li>è¿‡é•¿çš„å‡½æ•°ï¼Œéœ€è¦é‡æ„ã€‚</li><li>ä¸€ä¸ªå‡½æ•°æœ€å¥½å¯¹åº”ä¸€ä¸ªåŠŸèƒ½ï¼Œå¦‚æœä¸€ä¸ªå‡½æ•°è¢«å¡å…¥å¤šä¸ªåŠŸèƒ½ï¼Œé‚£å°±è¦å¯¹å®ƒè¿›è¡Œé‡æ„äº†ã€‚</li></ol><h3 id="é‡æ„æ‰‹æ³•"><a href="#é‡æ„æ‰‹æ³•" class="headerlink" title="é‡æ„æ‰‹æ³•"></a>é‡æ„æ‰‹æ³•</h3><p>åœ¨ã€Šé‡æ„ 2ã€‹è¿™æœ¬ä¹¦ä¸­ï¼Œä»‹ç»äº†å¤šè¾¾ä¸Šç™¾ä¸ªé‡æ„æ‰‹æ³•ã€‚ä½†æˆ‘è§‰å¾—æœ‰ä¸¤ä¸ªæ˜¯æ¯”è¾ƒå¸¸ç”¨çš„ï¼š</p><ol><li>æå–é‡å¤ä»£ç ï¼Œå°è£…æˆå‡½æ•°</li><li>æ‹†åˆ†å¤ªé•¿æˆ–åŠŸèƒ½å¤ªå¤šçš„å‡½æ•°</li></ol><h4 id="æå–é‡å¤ä»£ç ï¼Œå°è£…æˆå‡½æ•°"><a href="#æå–é‡å¤ä»£ç ï¼Œå°è£…æˆå‡½æ•°" class="headerlink" title="æå–é‡å¤ä»£ç ï¼Œå°è£…æˆå‡½æ•°"></a>æå–é‡å¤ä»£ç ï¼Œå°è£…æˆå‡½æ•°</h4><p>å‡è®¾æœ‰ä¸€ä¸ªæŸ¥è¯¢æ•°æ®çš„æ¥å£ <code>/getUserData?age=17&amp;city=beijing</code>ã€‚ç°åœ¨éœ€è¦åšçš„æ˜¯æŠŠç”¨æˆ·æ•°æ®ï¼š<code>&#123; age: 17, city: &#39;beijing&#39; &#125;</code> è½¬æˆ URL å‚æ•°çš„å½¢å¼ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> result = <span class="string">&quot;&quot;</span>;</span><br><span class="line"><span class="keyword">const</span> keys = <span class="title class_">Object</span>.<span class="title function_">keys</span>(data); <span class="comment">// &#123; age: 17, city: &#x27;beijing&#x27; &#125;</span></span><br><span class="line">keys.<span class="title function_">forEach</span>(<span class="function">(<span class="params">key</span>) =&gt;</span> &#123;</span><br><span class="line">  result += <span class="string">&quot;&amp;&quot;</span> + key + <span class="string">&quot;=&quot;</span> + data[key];</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">result.<span class="title function_">substr</span>(<span class="number">1</span>); <span class="comment">// age=17&amp;city=beijing</span></span><br></pre></td></tr></table></figure><p>å¦‚æœåªæœ‰è¿™ä¸€ä¸ªæ¥å£éœ€è¦è½¬æ¢ï¼Œä¸å°è£…æˆå‡½æ•°æ˜¯æ²¡é—®é¢˜çš„ã€‚ä½†å¦‚æœæœ‰å¤šä¸ªæ¥å£éƒ½æœ‰è¿™ç§éœ€æ±‚ï¼Œé‚£å°±å¾—æŠŠå®ƒå°è£…æˆå‡½æ•°äº†ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">JSON2Params</span>(<span class="params">data</span>) &#123;</span><br><span class="line">  <span class="keyword">let</span> result = <span class="string">&quot;&quot;</span>;</span><br><span class="line">  <span class="keyword">const</span> keys = <span class="title class_">Object</span>.<span class="title function_">keys</span>(data);</span><br><span class="line">  keys.<span class="title function_">forEach</span>(<span class="function">(<span class="params">key</span>) =&gt;</span> &#123;</span><br><span class="line">    result += <span class="string">&quot;&amp;&quot;</span> + key + <span class="string">&quot;=&quot;</span> + data[key];</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> result.<span class="title function_">substr</span>(<span class="number">1</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="æ‹†åˆ†å¤ªé•¿æˆ–åŠŸèƒ½å¤ªå¤šçš„å‡½æ•°"><a href="#æ‹†åˆ†å¤ªé•¿æˆ–åŠŸèƒ½å¤ªå¤šçš„å‡½æ•°" class="headerlink" title="æ‹†åˆ†å¤ªé•¿æˆ–åŠŸèƒ½å¤ªå¤šçš„å‡½æ•°"></a>æ‹†åˆ†å¤ªé•¿æˆ–åŠŸèƒ½å¤ªå¤šçš„å‡½æ•°</h4><p>å‡è®¾ç°åœ¨æœ‰ä¸€ä¸ªæ³¨å†ŒåŠŸèƒ½ï¼Œç”¨ä¼ªä»£ç è¡¨ç¤ºï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">register</span>(<span class="params">data</span>) &#123;</span><br><span class="line">  <span class="comment">// 1. éªŒè¯ç”¨æˆ·æ•°æ®æ˜¯å¦åˆæ³•</span></span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment">   * éªŒè¯è´¦å·</span></span><br><span class="line"><span class="comment">   * éªŒè¯å¯†ç </span></span><br><span class="line"><span class="comment">   * éªŒè¯çŸ­ä¿¡éªŒè¯ç </span></span><br><span class="line"><span class="comment">   * éªŒè¯èº«ä»½è¯</span></span><br><span class="line"><span class="comment">   * éªŒè¯é‚®ç®±</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">  <span class="comment">// 2. å¦‚æœç”¨æˆ·ä¸Šä¼ äº†å¤´åƒï¼Œåˆ™å°†ç”¨æˆ·å¤´åƒè½¬æˆ base64 ç ä¿å­˜</span></span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment">   * æ–°å»º FileReader å¯¹è±¡</span></span><br><span class="line"><span class="comment">   * å°†å›¾ç‰‡è½¬æ¢æˆ base64 ç </span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">  <span class="comment">// 3. è°ƒç”¨æ³¨å†Œæ¥å£</span></span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™ä¸ªå‡½æ•°åŒ…å«äº†ä¸‰ä¸ªåŠŸèƒ½ï¼ŒéªŒè¯ã€è½¬æ¢ã€æ³¨å†Œã€‚å…¶ä¸­éªŒè¯å’Œè½¬æ¢åŠŸèƒ½æ˜¯å¯ä»¥æå–å‡ºæ¥å•ç‹¬å°è£…æˆå‡½æ•°çš„ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">register</span>(<span class="params">data</span>) &#123;</span><br><span class="line">  <span class="comment">// 1. éªŒè¯ç”¨æˆ·æ•°æ®æ˜¯å¦åˆæ³•</span></span><br><span class="line">  <span class="comment">// verify()</span></span><br><span class="line">  <span class="comment">// 2. å¦‚æœç”¨æˆ·ä¸Šä¼ äº†å¤´åƒï¼Œåˆ™å°†ç”¨æˆ·å¤´åƒè½¬æˆ base64 ç ä¿å­˜</span></span><br><span class="line">  <span class="comment">// tobase64()</span></span><br><span class="line">  <span class="comment">// 3. è°ƒç”¨æ³¨å†Œæ¥å£</span></span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¦‚æœä½ å¯¹é‡æ„æœ‰å…´è¶£ï¼Œå¼ºçƒˆæ¨èä½ é˜…è¯» <a class="link" target="_blank" rel="noopener" href="https://book.douban.com/subject/30468597/">ã€Šé‡æ„ 2ã€‹<i class="fas fa-external-link-alt"></i></a> è¿™æœ¬ä¹¦ã€‚</p></div><div class="post-bottom-tags-and-share border-box"><div><ul class="post-tags-box border-box"><li class="tag-item border-box"><i class="icon fas fa-hashtag"></i>&nbsp;<a href="/tags/%E5%89%8D%E7%AB%AF%E5%B7%A5%E7%A8%8B%E5%8C%96/">å‰ç«¯å·¥ç¨‹åŒ–</a></li></ul></div><div><div class="post-share-container border-box"><ul class="share-list-wrap border-box"><li class="qq share-item border-box flex-center tooltip" data-tooltip-content="Share to QQ"><i class="fa-brands fa-qq"></i></li><li class="wechat share-item border-box flex-center tooltip tooltip-img" data-tooltip-content="Share to WeChat" data-tooltip-img-tip="Scan by WeChat" data-tooltip-img-style="background-color: #fff; top: -10px; padding: 0.6rem 0.6rem 0.1rem 0.6rem;"><i class="fa-brands fa-weixin"></i></li><li class="weibo share-item border-box flex-center tooltip" data-tooltip-content="Share to WeiBo"><i class="fa-brands fa-weibo"></i></li></ul></div></div></div><div class="reward-author-container border-box flex-center"><div class="reward-btn border-box flex-center tooltip tooltip-img" data-tooltip-img-url="/images/admire-code.png" data-tooltip-img-trigger="click" data-tooltip-img-style="top: -6px;"><i class="fa-solid fa-gift"></i>&nbsp;REWARD AUTHOR</div></div><div class="post-nav border-box"><div class="prev-post"><a class="prev" rel="prev" href="/post/04962924f0b8/" title="ä» 0 å¼€å§‹æ‰‹æŠŠæ‰‹å¸¦ä½ æ­å»ºä¸€å¥—ä¼ä¸šçº§ Vue3.x å·¥ç¨‹åŒ–é¡¹ç›®"><span class="left arrow-icon flex-center"><i class="fas fa-chevron-left"></i> </span><span class="title flex-center"><span class="post-nav-title-item text-ellipsis">ä» 0 å¼€å§‹æ‰‹æŠŠæ‰‹å¸¦ä½ æ­å»ºä¸€å¥—ä¼ä¸šçº§ Vue3.x å·¥ç¨‹åŒ–é¡¹ç›®</span> <span class="post-nav-item">Prev posts</span></span></a></div><div class="next-post"><a class="next" rel="next" href="/post/c8069422dc20/" title="å¿«é€ŸæŒæ¡ Vue 3.0 åŸºç¡€è¯­æ³•"><span class="title flex-center"><span class="post-nav-title-item text-ellipsis">å¿«é€ŸæŒæ¡ Vue 3.0 åŸºç¡€è¯­æ³•</span> <span class="post-nav-item">Next posts</span> </span><span class="right arrow-icon flex-center"><i class="fas fa-chevron-right"></i></span></a></div></div><div class="comments-container border-box"><div id="comments-anchor" class="comment-area-title border-box"><i class="fas fa-comments"></i>&nbsp;Comments</div><div class="comment-plugin-fail border-box"><span class="fail-tip">Comment plugin failed to load</span> <button class="reload keep-button">Click to reload</button></div><div class="comment-plugin-loading flex-center border-box"><i class="loading-icon fa-solid fa-spinner fa-spin"></i> <span class="load-tip">Loading comment plugin</span></div><script data-pjax>window.KeepCommentPlugin={},window.KeepCommentPlugin.hideLoading=()=>{document.querySelector(".comments-container .comment-plugin-loading").style.display="none"},window.KeepCommentPlugin.loadFailHandle=()=>{window.KeepCommentPlugin.hideLoading();const e=document.querySelector(".comments-container .comment-plugin-fail");e.style.display="flex",e.querySelector(".reload").addEventListener("click",()=>{window.location.reload()})}</script><div class="waline-comment-container"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/waline/3.2.1/waline.css"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/waline/3.2.1/waline-meta.css"><div id="waline-comment"></div><script data-pjax>window.KeepCommentPlugin.walineOptions=JSON.parse("{}".replace(/&#34;/g,'"')),window.KeepCommentPlugin.walineOptions.el="#waline-comment",window.KeepCommentPlugin.walineOptions.comment=".post-comments-count",window.KeepCommentPlugin.walineOptions.serverURL="https://vercel-waline.xpoet.cn",window.KeepCommentPlugin.walineOptions.lang="en",window.KeepCommentPlugin.walineOptions.reaction=!0</script><script data-pjax async type="module">import{init}from"https://cdnjs.cloudflare.com/ajax/libs/waline/3.2.1/waline.js";window.KeepCommentPlugin.initWaline=()=>{init?(init(window.KeepCommentPlugin.walineOptions),window.KeepCommentPlugin.hideLoading()):setTimeout(()=>{window.KeepCommentPlugin.initWaline()},1e3)},setTimeout(()=>{window.KeepCommentPlugin.initWaline()},1200)</script></div></div></div></div><div class="pc-post-toc right-toc"><div class="post-toc-wrap border-box"><div class="post-toc border-box"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%8A%80%E6%9C%AF%E9%80%89%E5%9E%8B"><span class="nav-number">1.</span> <span class="nav-text">æŠ€æœ¯é€‰å‹</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%BB%9F%E4%B8%80%E8%A7%84%E8%8C%83"><span class="nav-number">2.</span> <span class="nav-text">ç»Ÿä¸€è§„èŒƒ</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BB%A3%E7%A0%81%E8%A7%84%E8%8C%83"><span class="nav-number">2.1.</span> <span class="nav-text">ä»£ç è§„èŒƒ</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%A6%82%E4%BD%95%E5%88%B6%E8%AE%A2%E4%BB%A3%E7%A0%81%E8%A7%84%E8%8C%83"><span class="nav-number">2.1.1.</span> <span class="nav-text">å¦‚ä½•åˆ¶è®¢ä»£ç è§„èŒƒ</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%A6%82%E4%BD%95%E6%A3%80%E6%9F%A5%E4%BB%A3%E7%A0%81%E8%A7%84%E8%8C%83"><span class="nav-number">2.1.2.</span> <span class="nav-text">å¦‚ä½•æ£€æŸ¥ä»£ç è§„èŒƒ</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#git-%E8%A7%84%E8%8C%83"><span class="nav-number">2.2.</span> <span class="nav-text">git è§„èŒƒ</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%88%86%E6%94%AF%E7%AE%A1%E7%90%86%E8%A7%84%E8%8C%83"><span class="nav-number">2.2.1.</span> <span class="nav-text">åˆ†æ”¯ç®¡ç†è§„èŒƒ</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#git-commit-%E8%A7%84%E8%8C%83"><span class="nav-number">2.2.2.</span> <span class="nav-text">git commit è§„èŒƒ</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#type-commit-%E7%9A%84%E7%B1%BB%E5%9E%8B"><span class="nav-number">2.2.3.</span> <span class="nav-text">type: commit çš„ç±»å‹</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%AA%8C%E8%AF%81-git-commit-%E8%A7%84%E8%8C%83"><span class="nav-number">2.2.4.</span> <span class="nav-text">éªŒè¯ git commit è§„èŒƒ</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%A1%B9%E7%9B%AE%E8%A7%84%E8%8C%83"><span class="nav-number">2.3.</span> <span class="nav-text">é¡¹ç›®è§„èŒƒ</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#UI-%E8%A7%84%E8%8C%83"><span class="nav-number">2.4.</span> <span class="nav-text">UI è§„èŒƒ</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%B5%8B%E8%AF%95"><span class="nav-number">3.</span> <span class="nav-text">æµ‹è¯•</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95"><span class="nav-number">3.1.</span> <span class="nav-text">å•å…ƒæµ‹è¯•</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%AF%B9%E4%B8%80%E4%B8%AA%E5%87%BD%E6%95%B0%E5%81%9A%E6%B5%8B%E8%AF%95"><span class="nav-number">3.1.1.</span> <span class="nav-text">å¯¹ä¸€ä¸ªå‡½æ•°åšæµ‹è¯•</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%AF%B9%E4%B8%80%E4%B8%AA%E7%B1%BB%E5%81%9A%E6%B5%8B%E8%AF%95"><span class="nav-number">3.1.2.</span> <span class="nav-text">å¯¹ä¸€ä¸ªç±»åšæµ‹è¯•</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%AF%B9%E4%B8%80%E4%B8%AA%E7%BB%84%E4%BB%B6%E5%81%9A%E6%B5%8B%E8%AF%95"><span class="nav-number">3.1.3.</span> <span class="nav-text">å¯¹ä¸€ä¸ªç»„ä»¶åšæµ‹è¯•</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#TDD-%E6%B5%8B%E8%AF%95%E9%A9%B1%E5%8A%A8%E5%BC%80%E5%8F%91"><span class="nav-number">3.1.4.</span> <span class="nav-text">TDD æµ‹è¯•é©±åŠ¨å¼€å‘</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%B5%8B%E8%AF%95%E6%A1%86%E6%9E%B6%E6%8E%A8%E8%8D%90"><span class="nav-number">3.1.5.</span> <span class="nav-text">æµ‹è¯•æ¡†æ¶æ¨è</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E9%83%A8%E7%BD%B2"><span class="nav-number">4.</span> <span class="nav-text">éƒ¨ç½²</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%BD%AE%E8%AF%A2"><span class="nav-number">4.1.</span> <span class="nav-text">è½®è¯¢</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9B%91%E5%90%AC-webhook-%E4%BA%8B%E4%BB%B6"><span class="nav-number">4.2.</span> <span class="nav-text">ç›‘å¬ webhook äº‹ä»¶</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%9B%91%E6%8E%A7"><span class="nav-number">5.</span> <span class="nav-text">ç›‘æ§</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%80%A7%E8%83%BD%E7%9B%91%E6%8E%A7"><span class="nav-number">5.1.</span> <span class="nav-text">æ€§èƒ½ç›‘æ§</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%B0%8F%E7%BB%93"><span class="nav-number">5.1.1.</span> <span class="nav-text">å°ç»“</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%94%99%E8%AF%AF%E7%9B%91%E6%8E%A7"><span class="nav-number">5.2.</span> <span class="nav-text">é”™è¯¯ç›‘æ§</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%B0%8F%E7%BB%93-1"><span class="nav-number">5.2.1.</span> <span class="nav-text">å°ç»“</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%95%B0%E6%8D%AE%E4%B8%8A%E6%8A%A5"><span class="nav-number">5.3.</span> <span class="nav-text">æ•°æ®ä¸ŠæŠ¥</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%80%A7%E8%83%BD%E6%95%B0%E6%8D%AE%E4%B8%8A%E6%8A%A5"><span class="nav-number">5.3.1.</span> <span class="nav-text">æ€§èƒ½æ•°æ®ä¸ŠæŠ¥</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%94%99%E8%AF%AF%E6%95%B0%E6%8D%AE%E4%B8%8A%E6%8A%A5"><span class="nav-number">5.3.2.</span> <span class="nav-text">é”™è¯¯æ•°æ®ä¸ŠæŠ¥</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#SPA"><span class="nav-number">5.4.</span> <span class="nav-text">SPA</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%94%A8%E6%88%B7%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86"><span class="nav-number">5.5.</span> <span class="nav-text">ç”¨æˆ·ä¿¡æ¯æ”¶é›†</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#navigator"><span class="nav-number">5.5.1.</span> <span class="nav-text">navigator</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#UV-Unique-visitor"><span class="nav-number">5.5.2.</span> <span class="nav-text">UV (Unique visitor)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#PV-Page-View"><span class="nav-number">5.5.3.</span> <span class="nav-text">PV (Page View)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%A1%B5%E9%9D%A2%E5%81%9C%E7%95%99%E6%97%B6%E9%97%B4"><span class="nav-number">5.5.4.</span> <span class="nav-text">é¡µé¢åœç•™æ—¶é—´</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%B5%8F%E8%A7%88%E6%B7%B1%E5%BA%A6"><span class="nav-number">5.5.5.</span> <span class="nav-text">æµè§ˆæ·±åº¦</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%A1%B5%E9%9D%A2%E8%B7%B3%E8%BD%AC%E6%9D%A5%E6%BA%90"><span class="nav-number">5.5.6.</span> <span class="nav-text">é¡µé¢è·³è½¬æ¥æº</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%B0%8F%E7%BB%93-2"><span class="nav-number">5.5.7.</span> <span class="nav-text">å°ç»“</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%89%8D%E7%AB%AF%E7%9B%91%E6%8E%A7%E9%83%A8%E7%BD%B2%E6%95%99%E7%A8%8B"><span class="nav-number">5.6.</span> <span class="nav-text">å‰ç«¯ç›‘æ§éƒ¨ç½²æ•™ç¨‹</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%B3%A8%E5%86%8C%E8%B4%A6%E5%8F%B7"><span class="nav-number">5.6.1.</span> <span class="nav-text">æ³¨å†Œè´¦å·</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%AE%89%E8%A3%85-sentry-%E4%BE%9D%E8%B5%96"><span class="nav-number">5.6.2.</span> <span class="nav-text">å®‰è£… sentry ä¾èµ–</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%88%9B%E5%BB%BA%E7%AC%AC%E4%B8%80%E4%B8%AA%E9%94%99%E8%AF%AF"><span class="nav-number">5.6.3.</span> <span class="nav-text">åˆ›å»ºç¬¬ä¸€ä¸ªé”™è¯¯</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%B8%8A%E4%BC%A0-sourcemap"><span class="nav-number">5.6.4.</span> <span class="nav-text">ä¸Šä¼  sourcemap</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E6%9C%AA%E4%B8%8A%E4%BC%A0-sourcemap"><span class="nav-number">5.6.4.1.</span> <span class="nav-text">æœªä¸Šä¼  sourcemap</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E5%B7%B2%E4%B8%8A%E4%BC%A0-sourcemap"><span class="nav-number">5.6.4.2.</span> <span class="nav-text">å·²ä¸Šä¼  sourcemap</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%88%87%E6%8D%A2%E4%B8%AD%E6%96%87%E7%8E%AF%E5%A2%83%E5%92%8C%E6%97%B6%E5%8C%BA"><span class="nav-number">5.6.5.</span> <span class="nav-text">åˆ‡æ¢ä¸­æ–‡ç¯å¢ƒå’Œæ—¶åŒº</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%80%A7%E8%83%BD%E7%9B%91%E6%8E%A7-1"><span class="nav-number">5.6.6.</span> <span class="nav-text">æ€§èƒ½ç›‘æ§</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96"><span class="nav-number">6.</span> <span class="nav-text">æ€§èƒ½ä¼˜åŒ–</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%89%8B%E5%8A%A8%E6%A3%80%E6%9F%A5"><span class="nav-number">6.1.</span> <span class="nav-text">æ‰‹åŠ¨æ£€æŸ¥</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%A3%80%E6%9F%A5%E5%8A%A0%E8%BD%BD%E6%80%A7%E8%83%BD"><span class="nav-number">6.1.1.</span> <span class="nav-text">æ£€æŸ¥åŠ è½½æ€§èƒ½</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%A3%80%E6%9F%A5%E8%BF%90%E8%A1%8C%E6%80%A7%E8%83%BD"><span class="nav-number">6.1.2.</span> <span class="nav-text">æ£€æŸ¥è¿è¡Œæ€§èƒ½</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%88%A9%E7%94%A8%E5%B7%A5%E5%85%B7%E6%A3%80%E6%9F%A5"><span class="nav-number">6.2.</span> <span class="nav-text">åˆ©ç”¨å·¥å…·æ£€æŸ¥</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%9B%91%E6%8E%A7%E5%B7%A5%E5%85%B7"><span class="nav-number">6.2.1.</span> <span class="nav-text">ç›‘æ§å·¥å…·</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#chrome-%E5%B7%A5%E5%85%B7-Lighthouse"><span class="nav-number">6.2.2.</span> <span class="nav-text">chrome å·¥å…· Lighthouse</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%A6%82%E4%BD%95%E5%81%9A%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96"><span class="nav-number">6.3.</span> <span class="nav-text">å¦‚ä½•åšæ€§èƒ½ä¼˜åŒ–</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E9%87%8D%E6%9E%84"><span class="nav-number">7.</span> <span class="nav-text">é‡æ„</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%87%8D%E6%9E%84%E7%9A%84%E5%8E%9F%E5%88%99"><span class="nav-number">7.1.</span> <span class="nav-text">é‡æ„çš„åŸåˆ™</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%87%8D%E6%9E%84%E6%89%8B%E6%B3%95"><span class="nav-number">7.2.</span> <span class="nav-text">é‡æ„æ‰‹æ³•</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%8F%90%E5%8F%96%E9%87%8D%E5%A4%8D%E4%BB%A3%E7%A0%81%EF%BC%8C%E5%B0%81%E8%A3%85%E6%88%90%E5%87%BD%E6%95%B0"><span class="nav-number">7.2.1.</span> <span class="nav-text">æå–é‡å¤ä»£ç ï¼Œå°è£…æˆå‡½æ•°</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%8B%86%E5%88%86%E5%A4%AA%E9%95%BF%E6%88%96%E5%8A%9F%E8%83%BD%E5%A4%AA%E5%A4%9A%E7%9A%84%E5%87%BD%E6%95%B0"><span class="nav-number">7.2.2.</span> <span class="nav-text">æ‹†åˆ†å¤ªé•¿æˆ–åŠŸèƒ½å¤ªå¤šçš„å‡½æ•°</span></a></li></ol></li></ol></li></ol></div></div></div></div></div></div></div><div class="page-main-content-bottom border-box"><footer class="footer border-box"><div class="copyright-info info-item">&copy;&nbsp;<span>2020</span>&nbsp;-&nbsp;2024 &nbsp;<i class="fas fa-heart icon-animate"></i>&nbsp;&nbsp;<a href="/">XPoet</a></div><div class="theme-info info-item">Powered by&nbsp;<a target="_blank" href="https://hexo.io">Hexo</a>&nbsp;&&nbsp;Theme&nbsp;<a class="keep-version" target="_blank" href="https://github.com/XPoet/hexo-theme-keep">Keep</a></div><div class="deploy-info info-item"><a target="_blank" rel="nofollow" href="https://github.com/xpoet/xpoet.github.io">This site is deployed on <span class="tooltip" data-tooltip-content="GitHub Pages"><img src="/images/brands/github.png"></span></a></div><div class="count-info info-item"><span class="count-item border-box uv"><span class="item-type border-box">Unique Visitor</span> <span class="item-value border-box uv" id="busuanzi_value_site_uv"></span> </span><span class="count-item border-box pv"><span class="item-type border-box">Page View</span> <span class="item-value border-box pv" id="busuanzi_value_site_pv"></span></span></div></footer></div></div><div class="post-tools right-toc"><div class="post-tools-container border-box"><ul class="post-tools-list border-box"><li class="tools-item flex-center toggle-show-toc"><i class="fas fa-list"></i></li><li class="tools-item flex-center go-to-comments"><i class="fas fa-comment"></i> <span class="post-comments-count"></span></li><li class="tools-item flex-center full-screen"><i class="fa-solid fa-expand"></i></li></ul></div></div><div class="side-tools"><div class="side-tools-container border-box"><ul class="side-tools-list side-tools-show-handle border-box"><li class="tools-item tool-font-adjust-plus flex-center"><i class="fas fa-search-plus"></i></li><li class="tools-item tool-font-adjust-minus flex-center"><i class="fas fa-search-minus"></i></li><li class="tools-item tool-toggle-theme-mode flex-center"><i class="fas fa-moon"></i></li><li class="tools-item rss flex-center"><a class="flex-center" href="/atom.xml" target="_blank"><i class="fas fa-rss"></i></a></li><li class="tools-item tool-scroll-to-bottom flex-center"><i class="fas fa-arrow-down"></i></li></ul><ul class="exposed-tools-list border-box"><li class="tools-item toggle-show-toc-tablet flex-center"><i class="fas fa-list"></i></li><li class="tools-item go-to-comments-tablet flex-center"><i class="fas fa-comment"></i></li><li class="tools-item tool-toggle-show flex-center"><i class="fas fa-cog fa-spin"></i></li><li class="tools-item tool-scroll-to-top flex-center show-arrow"><i class="arrow fas fa-arrow-up"></i> <span class="percent"></span></li></ul></div></div><div class="zoom-in-image-mask"><img class="zoom-in-image"></div><div class="search-pop-overlay"><div class="popup search-popup"><div class="search-header"><span class="search-input-field-pre"><i class="fas fa-keyboard"></i></span><div class="search-input-container"><input autocomplete="off" autocorrect="off" autocapitalize="off" placeholder="Search..." spellcheck="false" type="search" class="search-input"></div><span class="close-popup-btn"><i class="fas fa-times"></i></span></div><div id="search-result"><div id="no-result"><i class="fas fa-spinner fa-pulse fa-5x fa-fw"></i></div></div></div></div><div class="tablet-post-toc-mask"><div class="tablet-post-toc"><div class="post-toc-wrap border-box"><div class="post-toc border-box"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%8A%80%E6%9C%AF%E9%80%89%E5%9E%8B"><span class="nav-number">1.</span> <span class="nav-text">æŠ€æœ¯é€‰å‹</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%BB%9F%E4%B8%80%E8%A7%84%E8%8C%83"><span class="nav-number">2.</span> <span class="nav-text">ç»Ÿä¸€è§„èŒƒ</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BB%A3%E7%A0%81%E8%A7%84%E8%8C%83"><span class="nav-number">2.1.</span> <span class="nav-text">ä»£ç è§„èŒƒ</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%A6%82%E4%BD%95%E5%88%B6%E8%AE%A2%E4%BB%A3%E7%A0%81%E8%A7%84%E8%8C%83"><span class="nav-number">2.1.1.</span> <span class="nav-text">å¦‚ä½•åˆ¶è®¢ä»£ç è§„èŒƒ</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%A6%82%E4%BD%95%E6%A3%80%E6%9F%A5%E4%BB%A3%E7%A0%81%E8%A7%84%E8%8C%83"><span class="nav-number">2.1.2.</span> <span class="nav-text">å¦‚ä½•æ£€æŸ¥ä»£ç è§„èŒƒ</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#git-%E8%A7%84%E8%8C%83"><span class="nav-number">2.2.</span> <span class="nav-text">git è§„èŒƒ</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%88%86%E6%94%AF%E7%AE%A1%E7%90%86%E8%A7%84%E8%8C%83"><span class="nav-number">2.2.1.</span> <span class="nav-text">åˆ†æ”¯ç®¡ç†è§„èŒƒ</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#git-commit-%E8%A7%84%E8%8C%83"><span class="nav-number">2.2.2.</span> <span class="nav-text">git commit è§„èŒƒ</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#type-commit-%E7%9A%84%E7%B1%BB%E5%9E%8B"><span class="nav-number">2.2.3.</span> <span class="nav-text">type: commit çš„ç±»å‹</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%AA%8C%E8%AF%81-git-commit-%E8%A7%84%E8%8C%83"><span class="nav-number">2.2.4.</span> <span class="nav-text">éªŒè¯ git commit è§„èŒƒ</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%A1%B9%E7%9B%AE%E8%A7%84%E8%8C%83"><span class="nav-number">2.3.</span> <span class="nav-text">é¡¹ç›®è§„èŒƒ</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#UI-%E8%A7%84%E8%8C%83"><span class="nav-number">2.4.</span> <span class="nav-text">UI è§„èŒƒ</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%B5%8B%E8%AF%95"><span class="nav-number">3.</span> <span class="nav-text">æµ‹è¯•</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95"><span class="nav-number">3.1.</span> <span class="nav-text">å•å…ƒæµ‹è¯•</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%AF%B9%E4%B8%80%E4%B8%AA%E5%87%BD%E6%95%B0%E5%81%9A%E6%B5%8B%E8%AF%95"><span class="nav-number">3.1.1.</span> <span class="nav-text">å¯¹ä¸€ä¸ªå‡½æ•°åšæµ‹è¯•</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%AF%B9%E4%B8%80%E4%B8%AA%E7%B1%BB%E5%81%9A%E6%B5%8B%E8%AF%95"><span class="nav-number">3.1.2.</span> <span class="nav-text">å¯¹ä¸€ä¸ªç±»åšæµ‹è¯•</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%AF%B9%E4%B8%80%E4%B8%AA%E7%BB%84%E4%BB%B6%E5%81%9A%E6%B5%8B%E8%AF%95"><span class="nav-number">3.1.3.</span> <span class="nav-text">å¯¹ä¸€ä¸ªç»„ä»¶åšæµ‹è¯•</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#TDD-%E6%B5%8B%E8%AF%95%E9%A9%B1%E5%8A%A8%E5%BC%80%E5%8F%91"><span class="nav-number">3.1.4.</span> <span class="nav-text">TDD æµ‹è¯•é©±åŠ¨å¼€å‘</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%B5%8B%E8%AF%95%E6%A1%86%E6%9E%B6%E6%8E%A8%E8%8D%90"><span class="nav-number">3.1.5.</span> <span class="nav-text">æµ‹è¯•æ¡†æ¶æ¨è</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E9%83%A8%E7%BD%B2"><span class="nav-number">4.</span> <span class="nav-text">éƒ¨ç½²</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%BD%AE%E8%AF%A2"><span class="nav-number">4.1.</span> <span class="nav-text">è½®è¯¢</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9B%91%E5%90%AC-webhook-%E4%BA%8B%E4%BB%B6"><span class="nav-number">4.2.</span> <span class="nav-text">ç›‘å¬ webhook äº‹ä»¶</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%9B%91%E6%8E%A7"><span class="nav-number">5.</span> <span class="nav-text">ç›‘æ§</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%80%A7%E8%83%BD%E7%9B%91%E6%8E%A7"><span class="nav-number">5.1.</span> <span class="nav-text">æ€§èƒ½ç›‘æ§</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%B0%8F%E7%BB%93"><span class="nav-number">5.1.1.</span> <span class="nav-text">å°ç»“</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%94%99%E8%AF%AF%E7%9B%91%E6%8E%A7"><span class="nav-number">5.2.</span> <span class="nav-text">é”™è¯¯ç›‘æ§</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%B0%8F%E7%BB%93-1"><span class="nav-number">5.2.1.</span> <span class="nav-text">å°ç»“</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%95%B0%E6%8D%AE%E4%B8%8A%E6%8A%A5"><span class="nav-number">5.3.</span> <span class="nav-text">æ•°æ®ä¸ŠæŠ¥</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%80%A7%E8%83%BD%E6%95%B0%E6%8D%AE%E4%B8%8A%E6%8A%A5"><span class="nav-number">5.3.1.</span> <span class="nav-text">æ€§èƒ½æ•°æ®ä¸ŠæŠ¥</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%94%99%E8%AF%AF%E6%95%B0%E6%8D%AE%E4%B8%8A%E6%8A%A5"><span class="nav-number">5.3.2.</span> <span class="nav-text">é”™è¯¯æ•°æ®ä¸ŠæŠ¥</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#SPA"><span class="nav-number">5.4.</span> <span class="nav-text">SPA</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%94%A8%E6%88%B7%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86"><span class="nav-number">5.5.</span> <span class="nav-text">ç”¨æˆ·ä¿¡æ¯æ”¶é›†</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#navigator"><span class="nav-number">5.5.1.</span> <span class="nav-text">navigator</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#UV-Unique-visitor"><span class="nav-number">5.5.2.</span> <span class="nav-text">UV (Unique visitor)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#PV-Page-View"><span class="nav-number">5.5.3.</span> <span class="nav-text">PV (Page View)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%A1%B5%E9%9D%A2%E5%81%9C%E7%95%99%E6%97%B6%E9%97%B4"><span class="nav-number">5.5.4.</span> <span class="nav-text">é¡µé¢åœç•™æ—¶é—´</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%B5%8F%E8%A7%88%E6%B7%B1%E5%BA%A6"><span class="nav-number">5.5.5.</span> <span class="nav-text">æµè§ˆæ·±åº¦</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%A1%B5%E9%9D%A2%E8%B7%B3%E8%BD%AC%E6%9D%A5%E6%BA%90"><span class="nav-number">5.5.6.</span> <span class="nav-text">é¡µé¢è·³è½¬æ¥æº</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%B0%8F%E7%BB%93-2"><span class="nav-number">5.5.7.</span> <span class="nav-text">å°ç»“</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%89%8D%E7%AB%AF%E7%9B%91%E6%8E%A7%E9%83%A8%E7%BD%B2%E6%95%99%E7%A8%8B"><span class="nav-number">5.6.</span> <span class="nav-text">å‰ç«¯ç›‘æ§éƒ¨ç½²æ•™ç¨‹</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%B3%A8%E5%86%8C%E8%B4%A6%E5%8F%B7"><span class="nav-number">5.6.1.</span> <span class="nav-text">æ³¨å†Œè´¦å·</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%AE%89%E8%A3%85-sentry-%E4%BE%9D%E8%B5%96"><span class="nav-number">5.6.2.</span> <span class="nav-text">å®‰è£… sentry ä¾èµ–</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%88%9B%E5%BB%BA%E7%AC%AC%E4%B8%80%E4%B8%AA%E9%94%99%E8%AF%AF"><span class="nav-number">5.6.3.</span> <span class="nav-text">åˆ›å»ºç¬¬ä¸€ä¸ªé”™è¯¯</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%B8%8A%E4%BC%A0-sourcemap"><span class="nav-number">5.6.4.</span> <span class="nav-text">ä¸Šä¼  sourcemap</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E6%9C%AA%E4%B8%8A%E4%BC%A0-sourcemap"><span class="nav-number">5.6.4.1.</span> <span class="nav-text">æœªä¸Šä¼  sourcemap</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E5%B7%B2%E4%B8%8A%E4%BC%A0-sourcemap"><span class="nav-number">5.6.4.2.</span> <span class="nav-text">å·²ä¸Šä¼  sourcemap</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%88%87%E6%8D%A2%E4%B8%AD%E6%96%87%E7%8E%AF%E5%A2%83%E5%92%8C%E6%97%B6%E5%8C%BA"><span class="nav-number">5.6.5.</span> <span class="nav-text">åˆ‡æ¢ä¸­æ–‡ç¯å¢ƒå’Œæ—¶åŒº</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%80%A7%E8%83%BD%E7%9B%91%E6%8E%A7-1"><span class="nav-number">5.6.6.</span> <span class="nav-text">æ€§èƒ½ç›‘æ§</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96"><span class="nav-number">6.</span> <span class="nav-text">æ€§èƒ½ä¼˜åŒ–</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%89%8B%E5%8A%A8%E6%A3%80%E6%9F%A5"><span class="nav-number">6.1.</span> <span class="nav-text">æ‰‹åŠ¨æ£€æŸ¥</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%A3%80%E6%9F%A5%E5%8A%A0%E8%BD%BD%E6%80%A7%E8%83%BD"><span class="nav-number">6.1.1.</span> <span class="nav-text">æ£€æŸ¥åŠ è½½æ€§èƒ½</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%A3%80%E6%9F%A5%E8%BF%90%E8%A1%8C%E6%80%A7%E8%83%BD"><span class="nav-number">6.1.2.</span> <span class="nav-text">æ£€æŸ¥è¿è¡Œæ€§èƒ½</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%88%A9%E7%94%A8%E5%B7%A5%E5%85%B7%E6%A3%80%E6%9F%A5"><span class="nav-number">6.2.</span> <span class="nav-text">åˆ©ç”¨å·¥å…·æ£€æŸ¥</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%9B%91%E6%8E%A7%E5%B7%A5%E5%85%B7"><span class="nav-number">6.2.1.</span> <span class="nav-text">ç›‘æ§å·¥å…·</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#chrome-%E5%B7%A5%E5%85%B7-Lighthouse"><span class="nav-number">6.2.2.</span> <span class="nav-text">chrome å·¥å…· Lighthouse</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%A6%82%E4%BD%95%E5%81%9A%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96"><span class="nav-number">6.3.</span> <span class="nav-text">å¦‚ä½•åšæ€§èƒ½ä¼˜åŒ–</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E9%87%8D%E6%9E%84"><span class="nav-number">7.</span> <span class="nav-text">é‡æ„</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%87%8D%E6%9E%84%E7%9A%84%E5%8E%9F%E5%88%99"><span class="nav-number">7.1.</span> <span class="nav-text">é‡æ„çš„åŸåˆ™</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%87%8D%E6%9E%84%E6%89%8B%E6%B3%95"><span class="nav-number">7.2.</span> <span class="nav-text">é‡æ„æ‰‹æ³•</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%8F%90%E5%8F%96%E9%87%8D%E5%A4%8D%E4%BB%A3%E7%A0%81%EF%BC%8C%E5%B0%81%E8%A3%85%E6%88%90%E5%87%BD%E6%95%B0"><span class="nav-number">7.2.1.</span> <span class="nav-text">æå–é‡å¤ä»£ç ï¼Œå°è£…æˆå‡½æ•°</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%8B%86%E5%88%86%E5%A4%AA%E9%95%BF%E6%88%96%E5%8A%9F%E8%83%BD%E5%A4%AA%E5%A4%9A%E7%9A%84%E5%87%BD%E6%95%B0"><span class="nav-number">7.2.2.</span> <span class="nav-text">æ‹†åˆ†å¤ªé•¿æˆ–åŠŸèƒ½å¤ªå¤šçš„å‡½æ•°</span></a></li></ol></li></ol></li></ol></div></div></div></div></main><script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-theme-keep/4.2.5/js/utils.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-theme-keep/4.2.5/js/header-shrink.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-theme-keep/4.2.5/js/back2top.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-theme-keep/4.2.5/js/toggle-theme.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-theme-keep/4.2.5/js/code-block.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-theme-keep/4.2.5/js/main.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-theme-keep/4.2.5/js/libs/anime.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-theme-keep/4.2.5/js/local-search.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-theme-keep/4.2.5/js/lazyload.min.js"></script><div class="pjax"><script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-theme-keep/4.2.5/js/post/post-helper.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-theme-keep/4.2.5/js/post/toc.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-theme-keep/4.2.5/js/post/copyright-info.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-theme-keep/4.2.5/js/post/share.min.js"></script></div><script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-theme-keep/4.2.5/js/libs/pjax.min.js"></script><script>window.addEventListener("DOMContentLoaded",()=>{window.pjax=new Pjax({selectors:["head title",".page-container",".pjax"],history:!0,debug:!1,cacheBust:!1,timeout:0,analytics:!1,currentUrlFullReload:!1,scrollRestoration:!1}),document.addEventListener("pjax:send",()=>{KEEP.utils.pjaxProgressBarStart()}),document.addEventListener("pjax:complete",()=>{KEEP.utils.pjaxProgressBarEnd(),window.pjax.executeScripts(document.querySelectorAll("script[data-pjax], .pjax script")),KEEP.initExecute()})})</script></body></html>